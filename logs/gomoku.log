[2025-12-23 11:58:08.047] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 11:58:08.047] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 11:58:08.048] [DEBUG] Setting up UI...
[2025-12-23 11:58:08.076] [DEBUG] Creating Manager instance...
[2025-12-23 11:58:08.076] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 11:58:08.077] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 11:58:08.137] [DEBUG] Socket created successfully
[2025-12-23 11:58:08.138] [DEBUG] Client instance created
[2025-12-23 11:58:08.138] [DEBUG] Packet callback set
[2025-12-23 11:58:08.138] [DEBUG] Signal connections setup completed
[2025-12-23 11:58:08.139] [INFO] Attempting to connect to server...
[2025-12-23 11:58:08.139] [DEBUG] connectToServer called
[2025-12-23 11:58:08.140] [INFO] Initiating connection to server...
[2025-12-23 11:58:08.140] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 11:58:08.140] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 11:58:10.168] [ERROR] Connect failed: 10061
[2025-12-23 11:58:10.168] [ERROR] Failed to connect to server
[2025-12-23 11:58:10.169] [DEBUG] Creating LobbyWidget...
[2025-12-23 11:58:10.169] [DEBUG] LobbyWidget Initializing...
[2025-12-23 11:58:10.177] [DEBUG] Configuring room table properties...
[2025-12-23 11:58:10.177] [DEBUG] Room table properties configured
[2025-12-23 11:58:10.177] [DEBUG] Initializing room table...
[2025-12-23 11:58:10.179] [DEBUG] Initializing player list...
[2025-12-23 11:58:10.179] [DEBUG] Setting up signals...
[2025-12-23 11:58:10.179] [INFO] LobbyWidget initialized successfully
[2025-12-23 11:58:10.180] [DEBUG] Creating GameWidget...
[2025-12-23 11:58:10.185] [DEBUG] GameWidget UI initialized
[2025-12-23 11:58:10.186] [DEBUG] GameWidget signal connections established
[2025-12-23 11:58:10.186] [DEBUG] GameWidget constructed successfully
[2025-12-23 11:58:10.186] [DEBUG] Creating GameManager instance...
[2025-12-23 11:58:10.187] [DEBUG] Setting up signal connections...
[2025-12-23 11:58:10.187] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 11:58:10.187] [DEBUG] localGame connection result: 1
[2025-12-23 11:58:10.187] [DEBUG] Initializing window components...
[2025-12-23 11:58:10.207] [DEBUG] Initializing layout...
[2025-12-23 11:58:10.207] [DEBUG] centralwidget found at address: 2820194289232
[2025-12-23 11:58:10.208] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 11:58:10.208] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 11:58:10.209] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 11:58:10.209] [DEBUG] Layout initialized successfully
[2025-12-23 11:58:10.209] [DEBUG] Initializing title bar and status bar...
[2025-12-23 11:58:10.209] [DEBUG] Initializing title bar components...
[2025-12-23 11:58:10.209] [DEBUG] titleBarWidget found at address: 2820192665072
[2025-12-23 11:58:10.210] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 11:58:10.210] [DEBUG] titleLabel found at address: 2820192667072
[2025-12-23 11:58:10.210] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 11:58:10.211] [DEBUG] minimizeButton found at address: 2820192682464
[2025-12-23 11:58:10.211] [DEBUG] maximizeButton found at address: 2820192686160
[2025-12-23 11:58:10.211] [DEBUG] closeButton found at address: 2820192696752
[2025-12-23 11:58:10.211] [DEBUG] Title bar initialization completed
[2025-12-23 11:58:10.211] [DEBUG] Initializing status bar components...
[2025-12-23 11:58:10.212] [DEBUG] statusBarWidget found
[2025-12-23 11:58:10.212] [DEBUG] statusMessageLabel found
[2025-12-23 11:58:10.212] [DEBUG] networkStatusLabel found
[2025-12-23 11:58:10.212] [DEBUG] userInfoLabel found
[2025-12-23 11:58:10.212] [DEBUG] Status bar initialization completed
[2025-12-23 11:58:10.213] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 11:58:10.213] [DEBUG] stackedWidget found in UI
[2025-12-23 11:58:10.226] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 11:58:10.226] [DEBUG] Creating ToastWidget...
[2025-12-23 11:58:10.229] [INFO] MainWindow initialization completed successfully
[2025-12-23 11:58:35.606] [INFO] MainWindow destructor called
[2025-12-23 11:58:35.606] [DEBUG] Cleaning up UI...
[2025-12-23 11:58:35.607] [DEBUG] Cleaning up Manager...
[2025-12-23 11:58:35.607] [INFO] Manager destructor called
[2025-12-23 11:58:35.607] [DEBUG] Disconnecting client...
[2025-12-23 11:58:35.607] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 11:58:35.608] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 11:58:35.608] [DEBUG] Closing socket
[2025-12-23 11:58:35.608] [INFO] Client disconnected successfully.
[2025-12-23 11:58:35.609] [DEBUG] Client destructor called
[2025-12-23 11:58:35.609] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 11:58:35.609] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 11:58:35.609] [DEBUG] Closing socket
[2025-12-23 11:58:35.609] [INFO] Client disconnected successfully.
[2025-12-23 11:58:35.610] [DEBUG] Socket closed.
[2025-12-23 11:58:35.610] [DEBUG] Client cleanup completed
[2025-12-23 11:58:35.610] [DEBUG] Client disconnected and reset
[2025-12-23 11:58:35.611] [INFO] Manager cleanup completed
[2025-12-23 11:58:35.611] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 11:58:35.614] [DEBUG] Shutting down Logger...
[2025-12-23 11:58:35.614] [INFO] Logger shutting down.
[2025-12-23 12:01:20.917] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:01:20.917] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:01:20.917] [DEBUG] Setting up UI...
[2025-12-23 12:01:20.942] [DEBUG] Creating Manager instance...
[2025-12-23 12:01:20.943] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:01:20.943] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:01:20.994] [DEBUG] Socket created successfully
[2025-12-23 12:01:20.994] [DEBUG] Client instance created
[2025-12-23 12:01:20.994] [DEBUG] Packet callback set
[2025-12-23 12:01:20.994] [DEBUG] Signal connections setup completed
[2025-12-23 12:01:20.995] [INFO] Attempting to connect to server...
[2025-12-23 12:01:20.995] [DEBUG] connectToServer called
[2025-12-23 12:01:20.995] [INFO] Initiating connection to server...
[2025-12-23 12:01:20.995] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:01:20.995] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:01:23.024] [ERROR] Connect failed: 10061
[2025-12-23 12:01:23.025] [ERROR] Failed to connect to server
[2025-12-23 12:01:23.025] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:01:23.025] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:01:23.032] [DEBUG] Configuring room table properties...
[2025-12-23 12:01:23.032] [DEBUG] Room table properties configured
[2025-12-23 12:01:23.032] [DEBUG] Initializing room table...
[2025-12-23 12:01:23.034] [DEBUG] Initializing player list...
[2025-12-23 12:01:23.035] [DEBUG] Setting up signals...
[2025-12-23 12:01:23.035] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:01:23.035] [DEBUG] Creating GameWidget...
[2025-12-23 12:01:23.040] [DEBUG] GameWidget UI initialized
[2025-12-23 12:01:23.040] [DEBUG] GameWidget signal connections established
[2025-12-23 12:01:23.040] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:01:23.041] [DEBUG] Creating GameManager instance...
[2025-12-23 12:01:23.041] [DEBUG] Setting up signal connections...
[2025-12-23 12:01:23.041] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:01:23.041] [DEBUG] localGame connection result: 1
[2025-12-23 12:01:23.042] [DEBUG] Initializing window components...
[2025-12-23 12:01:23.042] [DEBUG] Initializing window style...
[2025-12-23 12:01:23.042] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:01:23.055] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:01:23.056] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:01:23.056] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:01:23.056] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:01:23.067] [DEBUG] Set inline stylesheet: QMainWindow { background-color: white; }
[2025-12-23 12:01:23.068] [DEBUG] Current stylesheet: QMainWindow { background-color: white; }
[2025-12-23 12:01:23.068] [DEBUG] Initializing layout...
[2025-12-23 12:01:23.068] [DEBUG] centralwidget found at address: 2905574065744
[2025-12-23 12:01:23.068] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:01:23.069] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:01:23.069] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:01:23.069] [DEBUG] Layout initialized successfully
[2025-12-23 12:01:23.069] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:01:23.070] [DEBUG] Initializing title bar components...
[2025-12-23 12:01:23.070] [DEBUG] titleBarWidget found at address: 2905603964400
[2025-12-23 12:01:23.070] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:01:23.070] [DEBUG] titleLabel found at address: 2905603966400
[2025-12-23 12:01:23.070] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:01:23.071] [DEBUG] minimizeButton found at address: 2905603981792
[2025-12-23 12:01:23.071] [DEBUG] maximizeButton found at address: 2905603985488
[2025-12-23 12:01:23.071] [DEBUG] closeButton found at address: 2905603996080
[2025-12-23 12:01:23.071] [DEBUG] Title bar initialization completed
[2025-12-23 12:01:23.072] [DEBUG] Initializing status bar components...
[2025-12-23 12:01:23.072] [DEBUG] statusBarWidget found
[2025-12-23 12:01:23.072] [DEBUG] statusMessageLabel found
[2025-12-23 12:01:23.072] [DEBUG] networkStatusLabel found
[2025-12-23 12:01:23.073] [DEBUG] userInfoLabel found
[2025-12-23 12:01:23.073] [DEBUG] Status bar initialization completed
[2025-12-23 12:01:23.073] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:01:23.073] [DEBUG] stackedWidget found in UI
[2025-12-23 12:01:23.087] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:01:23.087] [DEBUG] Creating ToastWidget...
[2025-12-23 12:01:23.091] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:01:26.531] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 12:01:26.532] [DEBUG] localGame signal received, initializing local game
[2025-12-23 12:01:26.532] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 12:01:26.534] [DEBUG] Player list updated, count: 2
[2025-12-23 12:01:26.542] [INFO] Game started for player: 玩家1 (黑棋), rating: 1500
[2025-12-23 12:01:26.543] [DEBUG] Chat message from 游戏: 本地游戏已开始！玩家1 (黑棋) 执黑先行
[2025-12-23 12:01:26.543] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 12:01:26.547] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 12:01:26.550] [INFO] GameWidget initialized successfully
[2025-12-23 12:01:26.550] [DEBUG] Switching widget to index: 1
[2025-12-23 12:01:26.553] [INFO] Switching to Game widget
[2025-12-23 12:01:26.554] [DEBUG] Widget switch completed
[2025-12-23 12:01:28.514] [INFO] MainWindow destructor called
[2025-12-23 12:01:28.514] [DEBUG] Cleaning up UI...
[2025-12-23 12:01:28.514] [DEBUG] Cleaning up Manager...
[2025-12-23 12:01:28.515] [INFO] Manager destructor called
[2025-12-23 12:01:28.515] [DEBUG] Disconnecting client...
[2025-12-23 12:01:28.515] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 12:01:28.515] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 12:01:28.515] [DEBUG] Closing socket
[2025-12-23 12:01:28.516] [INFO] Client disconnected successfully.
[2025-12-23 12:01:28.516] [DEBUG] Client destructor called
[2025-12-23 12:01:28.516] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 12:01:28.516] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 12:01:28.517] [DEBUG] Closing socket
[2025-12-23 12:01:28.517] [INFO] Client disconnected successfully.
[2025-12-23 12:01:28.517] [DEBUG] Socket closed.
[2025-12-23 12:01:28.517] [DEBUG] Client cleanup completed
[2025-12-23 12:01:28.517] [DEBUG] Client disconnected and reset
[2025-12-23 12:01:28.518] [INFO] Manager cleanup completed
[2025-12-23 12:01:28.518] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 12:01:28.520] [DEBUG] Shutting down Logger...
[2025-12-23 12:01:28.521] [INFO] Logger shutting down.
[2025-12-23 12:01:43.420] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:01:43.420] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:01:43.420] [DEBUG] Setting up UI...
[2025-12-23 12:01:43.449] [DEBUG] Creating Manager instance...
[2025-12-23 12:01:43.449] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:01:43.450] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:01:43.516] [DEBUG] Socket created successfully
[2025-12-23 12:01:43.516] [DEBUG] Client instance created
[2025-12-23 12:01:43.517] [DEBUG] Packet callback set
[2025-12-23 12:01:43.517] [DEBUG] Signal connections setup completed
[2025-12-23 12:01:43.517] [INFO] Attempting to connect to server...
[2025-12-23 12:01:43.517] [DEBUG] connectToServer called
[2025-12-23 12:01:43.518] [INFO] Initiating connection to server...
[2025-12-23 12:01:43.518] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:01:43.518] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:01:45.561] [ERROR] Connect failed: 10061
[2025-12-23 12:01:45.562] [ERROR] Failed to connect to server
[2025-12-23 12:01:45.562] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:01:45.562] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:01:45.570] [DEBUG] Configuring room table properties...
[2025-12-23 12:01:45.571] [DEBUG] Room table properties configured
[2025-12-23 12:01:45.571] [DEBUG] Initializing room table...
[2025-12-23 12:01:45.574] [DEBUG] Initializing player list...
[2025-12-23 12:01:45.574] [DEBUG] Setting up signals...
[2025-12-23 12:01:45.574] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:01:45.575] [DEBUG] Creating GameWidget...
[2025-12-23 12:01:45.580] [DEBUG] GameWidget UI initialized
[2025-12-23 12:01:45.580] [DEBUG] GameWidget signal connections established
[2025-12-23 12:01:45.581] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:01:45.581] [DEBUG] Creating GameManager instance...
[2025-12-23 12:01:45.582] [DEBUG] Setting up signal connections...
[2025-12-23 12:01:45.582] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:01:45.582] [DEBUG] localGame connection result: 1
[2025-12-23 12:01:45.583] [DEBUG] Initializing window components...
[2025-12-23 12:01:45.583] [DEBUG] Initializing window style...
[2025-12-23 12:01:45.583] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:01:45.598] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:01:45.599] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:01:45.599] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:01:45.599] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:01:45.612] [DEBUG] Set inline stylesheet: QMainWindow { background-color: white; }
[2025-12-23 12:01:45.612] [DEBUG] Current stylesheet: QMainWindow { background-color: white; }
[2025-12-23 12:01:45.612] [DEBUG] Initializing layout...
[2025-12-23 12:01:45.612] [DEBUG] centralwidget found at address: 2261369144912
[2025-12-23 12:01:45.613] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:01:45.613] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:01:45.614] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:01:45.614] [DEBUG] Layout initialized successfully
[2025-12-23 12:01:45.614] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:01:45.615] [DEBUG] Initializing title bar components...
[2025-12-23 12:01:45.615] [DEBUG] titleBarWidget found at address: 2261397798384
[2025-12-23 12:01:45.615] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:01:45.616] [DEBUG] titleLabel found at address: 2261397800384
[2025-12-23 12:01:45.616] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:01:45.616] [DEBUG] minimizeButton found at address: 2261397815776
[2025-12-23 12:01:45.616] [DEBUG] maximizeButton found at address: 2261397819472
[2025-12-23 12:01:45.616] [DEBUG] closeButton found at address: 2261397830064
[2025-12-23 12:01:45.617] [DEBUG] Title bar initialization completed
[2025-12-23 12:01:45.617] [DEBUG] Initializing status bar components...
[2025-12-23 12:01:45.617] [DEBUG] statusBarWidget found
[2025-12-23 12:01:45.617] [DEBUG] statusMessageLabel found
[2025-12-23 12:01:45.617] [DEBUG] networkStatusLabel found
[2025-12-23 12:01:45.618] [DEBUG] userInfoLabel found
[2025-12-23 12:01:45.618] [DEBUG] Status bar initialization completed
[2025-12-23 12:01:45.619] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:01:45.619] [DEBUG] stackedWidget found in UI
[2025-12-23 12:01:45.634] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:01:45.635] [DEBUG] Creating ToastWidget...
[2025-12-23 12:01:45.638] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:01:54.961] [DEBUG] Creating room
[2025-12-23 12:03:31.153] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:03:31.153] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:03:31.153] [DEBUG] Setting up UI...
[2025-12-23 12:03:31.176] [DEBUG] Creating Manager instance...
[2025-12-23 12:03:31.176] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:03:31.177] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:03:31.230] [DEBUG] Socket created successfully
[2025-12-23 12:03:31.230] [DEBUG] Client instance created
[2025-12-23 12:03:31.231] [DEBUG] Packet callback set
[2025-12-23 12:03:31.231] [DEBUG] Signal connections setup completed
[2025-12-23 12:03:31.231] [INFO] Attempting to connect to server...
[2025-12-23 12:03:31.231] [DEBUG] connectToServer called
[2025-12-23 12:03:31.231] [INFO] Initiating connection to server...
[2025-12-23 12:03:31.232] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:03:31.232] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:03:31.232] [INFO] Connected to server successfully!
[2025-12-23 12:03:31.233] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:03:31.233] [DEBUG] Worker thread started
[2025-12-23 12:03:31.234] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:03:31.238] [INFO] Client loop started.
[2025-12-23 12:03:31.242] [DEBUG] Sending frame: 0
[2025-12-23 12:03:31.242] [INFO] Connection established and handshake initiated
[2025-12-23 12:03:31.243] [INFO] Successfully connected to server
[2025-12-23 12:03:31.243] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:03:31.243] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:03:31.254] [DEBUG] Configuring room table properties...
[2025-12-23 12:03:31.254] [DEBUG] Room table properties configured
[2025-12-23 12:03:31.255] [DEBUG] Initializing room table...
[2025-12-23 12:03:31.257] [DEBUG] Initializing player list...
[2025-12-23 12:03:31.257] [DEBUG] Setting up signals...
[2025-12-23 12:03:31.258] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:03:31.258] [DEBUG] Creating GameWidget...
[2025-12-23 12:03:31.264] [DEBUG] GameWidget UI initialized
[2025-12-23 12:03:31.264] [DEBUG] GameWidget signal connections established
[2025-12-23 12:03:31.265] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:03:31.265] [DEBUG] Creating GameManager instance...
[2025-12-23 12:03:31.265] [DEBUG] Setting up signal connections...
[2025-12-23 12:03:31.266] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:03:31.266] [DEBUG] localGame connection result: 1
[2025-12-23 12:03:31.267] [DEBUG] Initializing window components...
[2025-12-23 12:03:31.267] [DEBUG] Initializing window style...
[2025-12-23 12:03:31.270] [INFO] [Handshake] Received NewSession. ID: 8160732814247458661
[2025-12-23 12:03:31.280] [DEBUG] Set main window background to white
[2025-12-23 12:03:31.290] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:03:31.292] [DEBUG] Saved server public key
[2025-12-23 12:03:31.303] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:03:31.313] [DEBUG] Sending frame: 1
[2025-12-23 12:03:31.313] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:03:31.314] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:03:31.314] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:03:31.314] [DEBUG] Set window palette to white background
[2025-12-23 12:03:31.314] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:03:31.315] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:03:31.315] [DEBUG] Initializing layout...
[2025-12-23 12:03:31.315] [DEBUG] centralwidget found at address: 2177625736784
[2025-12-23 12:03:31.315] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:03:31.316] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:03:31.316] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:03:31.316] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:03:31.317] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:03:31.317] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:03:31.317] [DEBUG] Layout initialized successfully
[2025-12-23 12:03:31.317] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:03:31.318] [DEBUG] Initializing title bar components...
[2025-12-23 12:03:31.318] [DEBUG] titleBarWidget found at address: 2177654259184
[2025-12-23 12:03:31.318] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:03:31.318] [DEBUG] titleLabel found at address: 2177654261184
[2025-12-23 12:03:31.319] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:03:31.319] [DEBUG] minimizeButton found at address: 2177654276576
[2025-12-23 12:03:31.319] [DEBUG] maximizeButton found at address: 2177654280272
[2025-12-23 12:03:31.319] [DEBUG] closeButton found at address: 2177654290864
[2025-12-23 12:03:31.320] [DEBUG] Title bar initialization completed
[2025-12-23 12:03:31.320] [DEBUG] Initializing status bar components...
[2025-12-23 12:03:31.320] [DEBUG] statusBarWidget found
[2025-12-23 12:03:31.320] [DEBUG] statusMessageLabel found
[2025-12-23 12:03:31.321] [DEBUG] networkStatusLabel found
[2025-12-23 12:03:31.321] [DEBUG] userInfoLabel found
[2025-12-23 12:03:31.321] [DEBUG] Status bar initialization completed
[2025-12-23 12:03:31.322] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:03:31.322] [DEBUG] stackedWidget found in UI
[2025-12-23 12:03:31.328] [INFO] [Handshake] Session Activated!
[2025-12-23 12:03:31.338] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:03:31.339] [DEBUG] Creating ToastWidget...
[2025-12-23 12:03:31.341] [DEBUG] === Validating Window Background ===
[2025-12-23 12:03:31.341] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:03:31.342] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:03:31.342] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:03:31.342] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:03:31.342] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:03:31.343] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:03:31.343] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:03:31.343] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:03:31.343] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:03:31.344] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:03:41.265] [DEBUG] Sending frame: 2
[2025-12-23 12:03:41.266] [DEBUG] Heartbeat sent.
[2025-12-23 12:03:51.350] [DEBUG] Sending frame: 2
[2025-12-23 12:03:51.350] [DEBUG] Heartbeat sent.
[2025-12-23 12:04:01.394] [DEBUG] Sending frame: 2
[2025-12-23 12:04:01.394] [DEBUG] Heartbeat sent.
[2025-12-23 12:04:11.449] [DEBUG] Sending frame: 2
[2025-12-23 12:04:11.449] [DEBUG] Heartbeat sent.
[2025-12-23 12:04:21.490] [DEBUG] Sending frame: 2
[2025-12-23 12:04:21.491] [DEBUG] Heartbeat sent.
[2025-12-23 12:04:31.503] [DEBUG] Sending frame: 2
[2025-12-23 12:04:31.504] [DEBUG] Heartbeat sent.
[2025-12-23 12:04:41.514] [DEBUG] Sending frame: 2
[2025-12-23 12:04:41.514] [DEBUG] Heartbeat sent.
[2025-12-23 12:04:51.521] [DEBUG] Sending frame: 2
[2025-12-23 12:04:51.521] [DEBUG] Heartbeat sent.
[2025-12-23 12:05:01.564] [DEBUG] Sending frame: 2
[2025-12-23 12:05:01.564] [DEBUG] Heartbeat sent.
[2025-12-23 12:05:11.574] [DEBUG] Sending frame: 2
[2025-12-23 12:05:11.574] [DEBUG] Heartbeat sent.
[2025-12-23 12:05:21.623] [DEBUG] Sending frame: 2
[2025-12-23 12:05:21.623] [DEBUG] Heartbeat sent.
[2025-12-23 12:05:31.630] [DEBUG] Sending frame: 2
[2025-12-23 12:05:31.630] [DEBUG] Heartbeat sent.
[2025-12-23 12:05:41.712] [DEBUG] Sending frame: 2
[2025-12-23 12:05:41.713] [DEBUG] Heartbeat sent.
[2025-12-23 12:08:28.066] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:08:28.066] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:08:28.067] [DEBUG] Setting up UI...
[2025-12-23 12:08:28.088] [DEBUG] Creating Manager instance...
[2025-12-23 12:08:28.088] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:08:28.089] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:08:28.136] [DEBUG] Socket created successfully
[2025-12-23 12:08:28.137] [DEBUG] Client instance created
[2025-12-23 12:08:28.137] [DEBUG] Packet callback set
[2025-12-23 12:08:28.137] [DEBUG] Signal connections setup completed
[2025-12-23 12:08:28.137] [INFO] Attempting to connect to server...
[2025-12-23 12:08:28.137] [DEBUG] connectToServer called
[2025-12-23 12:08:28.137] [INFO] Initiating connection to server...
[2025-12-23 12:08:28.138] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:08:28.138] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:08:28.138] [INFO] Connected to server successfully!
[2025-12-23 12:08:28.138] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:08:28.141] [DEBUG] Worker thread started
[2025-12-23 12:08:28.141] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:08:28.146] [INFO] Client loop started.
[2025-12-23 12:08:28.147] [DEBUG] Sending frame: 0
[2025-12-23 12:08:28.147] [INFO] Connection established and handshake initiated
[2025-12-23 12:08:28.148] [INFO] Successfully connected to server
[2025-12-23 12:08:28.148] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:08:28.148] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:08:28.156] [DEBUG] Configuring room table properties...
[2025-12-23 12:08:28.159] [DEBUG] Room table properties configured
[2025-12-23 12:08:28.159] [DEBUG] Initializing room table...
[2025-12-23 12:08:28.160] [INFO] [Handshake] Received NewSession. ID: 7838636526076197714
[2025-12-23 12:08:28.162] [DEBUG] Initializing player list...
[2025-12-23 12:08:28.179] [DEBUG] Setting up signals...
[2025-12-23 12:08:28.179] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:08:28.180] [DEBUG] Creating GameWidget...
[2025-12-23 12:08:28.181] [DEBUG] Saved server public key
[2025-12-23 12:08:28.188] [DEBUG] GameWidget UI initialized
[2025-12-23 12:08:28.201] [DEBUG] Sending frame: 1
[2025-12-23 12:08:28.202] [DEBUG] GameWidget signal connections established
[2025-12-23 12:08:28.202] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:08:28.202] [DEBUG] Creating GameManager instance...
[2025-12-23 12:08:28.202] [DEBUG] Setting up signal connections...
[2025-12-23 12:08:28.203] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:08:28.203] [DEBUG] localGame connection result: 1
[2025-12-23 12:08:28.203] [DEBUG] Initializing window components...
[2025-12-23 12:08:28.204] [DEBUG] Initializing window style...
[2025-12-23 12:08:28.204] [INFO] [Handshake] Session Activated!
[2025-12-23 12:08:28.218] [DEBUG] Set main window background to white
[2025-12-23 12:08:28.218] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:08:28.230] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:08:28.231] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:08:28.231] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:08:28.231] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:08:28.232] [DEBUG] Set window palette to white background
[2025-12-23 12:08:28.232] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:08:28.232] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:08:28.232] [DEBUG] Initializing layout...
[2025-12-23 12:08:28.233] [DEBUG] centralwidget found at address: 2297203181136
[2025-12-23 12:08:28.233] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:08:28.233] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:08:28.233] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:08:28.234] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:08:28.234] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:08:28.234] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:08:28.235] [DEBUG] Layout initialized successfully
[2025-12-23 12:08:28.235] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:08:28.235] [DEBUG] Initializing title bar components...
[2025-12-23 12:08:28.235] [DEBUG] titleBarWidget found at address: 2297231703536
[2025-12-23 12:08:28.236] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:08:28.236] [DEBUG] titleLabel found at address: 2297231705536
[2025-12-23 12:08:28.236] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:08:28.236] [DEBUG] minimizeButton found at address: 2297231720928
[2025-12-23 12:08:28.237] [DEBUG] maximizeButton found at address: 2297231724624
[2025-12-23 12:08:28.237] [DEBUG] closeButton found at address: 2297231735216
[2025-12-23 12:08:28.237] [DEBUG] Title bar initialization completed
[2025-12-23 12:08:28.238] [DEBUG] Initializing status bar components...
[2025-12-23 12:08:28.238] [DEBUG] statusBarWidget found
[2025-12-23 12:08:28.238] [DEBUG] statusMessageLabel found
[2025-12-23 12:08:28.238] [DEBUG] networkStatusLabel found
[2025-12-23 12:08:28.239] [DEBUG] userInfoLabel found
[2025-12-23 12:08:28.239] [DEBUG] Status bar initialization completed
[2025-12-23 12:08:28.239] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:08:28.239] [DEBUG] stackedWidget found in UI
[2025-12-23 12:08:28.255] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:08:28.255] [DEBUG] Creating ToastWidget...
[2025-12-23 12:08:28.257] [DEBUG] === Validating Window Background ===
[2025-12-23 12:08:28.257] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:08:28.257] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:08:28.257] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:08:28.258] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:08:28.258] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:08:28.258] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:08:28.258] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:08:28.259] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:08:28.259] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:08:28.259] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:08:38.263] [DEBUG] Sending frame: 2
[2025-12-23 12:08:38.263] [DEBUG] Heartbeat sent.
[2025-12-23 12:08:48.367] [DEBUG] Sending frame: 2
[2025-12-23 12:08:48.367] [DEBUG] Heartbeat sent.
[2025-12-23 12:08:58.452] [DEBUG] Sending frame: 2
[2025-12-23 12:08:58.453] [DEBUG] Heartbeat sent.
[2025-12-23 12:09:11.201] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:09:11.202] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:09:11.202] [DEBUG] Setting up UI...
[2025-12-23 12:09:11.226] [DEBUG] Creating Manager instance...
[2025-12-23 12:09:11.227] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:09:11.227] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:09:11.281] [DEBUG] Socket created successfully
[2025-12-23 12:09:11.281] [DEBUG] Client instance created
[2025-12-23 12:09:11.281] [DEBUG] Packet callback set
[2025-12-23 12:09:11.282] [DEBUG] Signal connections setup completed
[2025-12-23 12:09:11.282] [INFO] Attempting to connect to server...
[2025-12-23 12:09:11.282] [DEBUG] connectToServer called
[2025-12-23 12:09:11.282] [INFO] Initiating connection to server...
[2025-12-23 12:09:11.283] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:09:11.283] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:09:11.284] [INFO] Connected to server successfully!
[2025-12-23 12:09:11.284] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:09:11.285] [DEBUG] Worker thread started
[2025-12-23 12:09:11.285] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:09:11.285] [DEBUG] Sending frame: 0
[2025-12-23 12:09:11.286] [INFO] Connection established and handshake initiated
[2025-12-23 12:09:11.286] [INFO] Successfully connected to server
[2025-12-23 12:09:11.287] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:09:11.287] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:09:11.289] [INFO] Client loop started.
[2025-12-23 12:09:11.296] [DEBUG] Configuring room table properties...
[2025-12-23 12:09:11.296] [DEBUG] Room table properties configured
[2025-12-23 12:09:11.296] [DEBUG] Initializing room table...
[2025-12-23 12:09:11.299] [DEBUG] Initializing player list...
[2025-12-23 12:09:11.299] [DEBUG] Setting up signals...
[2025-12-23 12:09:11.299] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:09:11.299] [DEBUG] Creating GameWidget...
[2025-12-23 12:09:11.305] [INFO] [Handshake] Received NewSession. ID: 7838636526076197714
[2025-12-23 12:09:11.306] [DEBUG] GameWidget UI initialized
[2025-12-23 12:09:11.306] [DEBUG] GameWidget signal connections established
[2025-12-23 12:09:11.306] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:09:11.307] [DEBUG] Creating GameManager instance...
[2025-12-23 12:09:11.307] [DEBUG] Setting up signal connections...
[2025-12-23 12:09:11.307] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:09:11.307] [DEBUG] Saved server public key
[2025-12-23 12:09:11.308] [DEBUG] localGame connection result: 1
[2025-12-23 12:09:11.308] [DEBUG] Sending frame: 1
[2025-12-23 12:09:11.308] [DEBUG] Initializing window components...
[2025-12-23 12:09:11.309] [DEBUG] Initializing window style...
[2025-12-23 12:09:11.321] [DEBUG] Set main window background to white
[2025-12-23 12:09:11.321] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:09:11.322] [INFO] [Handshake] Session Activated!
[2025-12-23 12:09:11.331] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:09:11.331] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:09:11.332] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:09:11.332] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:09:11.332] [DEBUG] Set window palette to white background
[2025-12-23 12:09:11.333] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:09:11.333] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:09:11.333] [DEBUG] Initializing layout...
[2025-12-23 12:09:11.333] [DEBUG] centralwidget found at address: 2715058423376
[2025-12-23 12:09:11.334] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:09:11.334] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:09:11.334] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:09:11.335] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:09:11.335] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:09:11.335] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:09:11.336] [DEBUG] Layout initialized successfully
[2025-12-23 12:09:11.336] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:09:11.336] [DEBUG] Initializing title bar components...
[2025-12-23 12:09:11.337] [DEBUG] titleBarWidget found at address: 2715057585648
[2025-12-23 12:09:11.337] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:09:11.337] [DEBUG] titleLabel found at address: 2715057587648
[2025-12-23 12:09:11.338] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:09:11.338] [DEBUG] minimizeButton found at address: 2715057603040
[2025-12-23 12:09:11.338] [DEBUG] maximizeButton found at address: 2715057606736
[2025-12-23 12:09:11.338] [DEBUG] closeButton found at address: 2715057617328
[2025-12-23 12:09:11.339] [DEBUG] Title bar initialization completed
[2025-12-23 12:09:11.339] [DEBUG] Initializing status bar components...
[2025-12-23 12:09:11.339] [DEBUG] statusBarWidget found
[2025-12-23 12:09:11.340] [DEBUG] statusMessageLabel found
[2025-12-23 12:09:11.340] [DEBUG] networkStatusLabel found
[2025-12-23 12:09:11.340] [DEBUG] userInfoLabel found
[2025-12-23 12:09:11.340] [DEBUG] Status bar initialization completed
[2025-12-23 12:09:11.340] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:09:11.341] [DEBUG] stackedWidget found in UI
[2025-12-23 12:09:11.355] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:09:11.355] [DEBUG] Creating ToastWidget...
[2025-12-23 12:09:11.357] [DEBUG] === Validating Window Background ===
[2025-12-23 12:09:11.357] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:09:11.357] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:09:11.358] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:09:11.358] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:09:11.358] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:09:11.359] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:09:11.359] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:09:11.359] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:09:11.359] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:09:11.360] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:09:18.509] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 12:09:18.509] [DEBUG] localGame signal received, initializing local game
[2025-12-23 12:09:18.509] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 12:09:18.511] [DEBUG] Player list updated, count: 2
[2025-12-23 12:09:18.517] [INFO] Game started for player: 玩家1 (黑棋), rating: 1500
[2025-12-23 12:09:18.517] [DEBUG] Chat message from 游戏: 本地游戏已开始！玩家1 (黑棋) 执黑先行
[2025-12-23 12:09:18.518] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 12:09:18.521] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 12:09:18.522] [INFO] GameWidget initialized successfully
[2025-12-23 12:09:18.523] [DEBUG] Switching widget to index: 1
[2025-12-23 12:09:18.525] [INFO] Switching to Game widget
[2025-12-23 12:09:18.526] [DEBUG] Widget switch completed
[2025-12-23 12:09:19.738] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 12:09:19.740] [DEBUG] Chat message from 游戏: 玩家1 (黑棋) 在 (11, 3) 落黑子
[2025-12-23 12:09:19.741] [DEBUG] Chat message from 游戏: 轮到 玩家2 (白棋) 落子
[2025-12-23 12:09:20.832] [DEBUG] GameManager::onMakeMove called, x: 11, y: 11, isLocalGame: 1
[2025-12-23 12:09:20.834] [DEBUG] Chat message from 游戏: 玩家2 (白棋) 在 (11, 11) 落白子
[2025-12-23 12:09:20.835] [DEBUG] Chat message from 游戏: 轮到 玩家1 (黑棋) 落子
[2025-12-23 12:09:21.289] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 1
[2025-12-23 12:09:21.290] [DEBUG] Chat message from 游戏: 玩家1 (黑棋) 在 (11, 5) 落黑子
[2025-12-23 12:09:21.292] [DEBUG] Chat message from 游戏: 轮到 玩家2 (白棋) 落子
[2025-12-23 12:09:21.398] [DEBUG] Sending frame: 2
[2025-12-23 12:09:21.398] [DEBUG] Heartbeat sent.
[2025-12-23 12:09:21.500] [DEBUG] GameManager::onMakeMove called, x: 11, y: 9, isLocalGame: 1
[2025-12-23 12:09:21.502] [DEBUG] Chat message from 游戏: 玩家2 (白棋) 在 (11, 9) 落白子
[2025-12-23 12:09:21.503] [DEBUG] Chat message from 游戏: 轮到 玩家1 (黑棋) 落子
[2025-12-23 12:09:26.831] [INFO] MainWindow destructor called
[2025-12-23 12:09:26.831] [DEBUG] Cleaning up UI...
[2025-12-23 12:09:26.831] [DEBUG] Cleaning up Manager...
[2025-12-23 12:09:26.832] [INFO] Manager destructor called
[2025-12-23 12:09:26.832] [DEBUG] Disconnecting client...
[2025-12-23 12:09:26.832] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 12:09:26.832] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 12:09:26.908] [DEBUG] Worker thread joined successfully.
[2025-12-23 12:09:26.908] [DEBUG] Closing socket
[2025-12-23 12:09:26.909] [DEBUG] Resetting session context
[2025-12-23 12:09:26.909] [INFO] Client disconnected successfully.
[2025-12-23 12:09:26.909] [DEBUG] Client destructor called
[2025-12-23 12:09:26.909] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 12:09:26.909] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 12:09:26.910] [DEBUG] Closing socket
[2025-12-23 12:09:26.910] [INFO] Client disconnected successfully.
[2025-12-23 12:09:26.910] [DEBUG] Socket closed.
[2025-12-23 12:09:26.910] [DEBUG] Client cleanup completed
[2025-12-23 12:09:26.910] [DEBUG] Client disconnected and reset
[2025-12-23 12:09:26.911] [INFO] Manager cleanup completed
[2025-12-23 12:09:26.911] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 12:09:26.912] [DEBUG] Shutting down Logger...
[2025-12-23 12:09:26.912] [INFO] Logger shutting down.
[2025-12-23 12:17:20.380] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:17:20.380] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:17:20.380] [DEBUG] Setting up UI...
[2025-12-23 12:17:20.405] [DEBUG] Creating Manager instance...
[2025-12-23 12:17:20.406] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:17:20.406] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:17:20.457] [DEBUG] Socket created successfully
[2025-12-23 12:17:20.457] [DEBUG] Client instance created
[2025-12-23 12:17:20.457] [DEBUG] Packet callback set
[2025-12-23 12:17:20.457] [DEBUG] Signal connections setup completed
[2025-12-23 12:17:20.458] [INFO] Attempting to connect to server...
[2025-12-23 12:17:20.458] [DEBUG] connectToServer called
[2025-12-23 12:17:20.458] [INFO] Initiating connection to server...
[2025-12-23 12:17:20.458] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:17:20.458] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:17:20.459] [INFO] Connected to server successfully!
[2025-12-23 12:17:20.459] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:17:20.459] [DEBUG] Worker thread started
[2025-12-23 12:17:20.460] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:17:20.460] [DEBUG] Sending frame: 0
[2025-12-23 12:17:20.460] [INFO] Connection established and handshake initiated
[2025-12-23 12:17:20.460] [INFO] Successfully connected to server
[2025-12-23 12:17:20.461] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:17:20.461] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:17:20.465] [INFO] Client loop started.
[2025-12-23 12:17:20.468] [DEBUG] Configuring room table properties...
[2025-12-23 12:17:20.468] [DEBUG] Room table properties configured
[2025-12-23 12:17:20.468] [DEBUG] Initializing room table...
[2025-12-23 12:17:20.471] [DEBUG] Initializing player list...
[2025-12-23 12:17:20.472] [DEBUG] Setting up signals...
[2025-12-23 12:17:20.472] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:17:20.472] [DEBUG] Creating GameWidget...
[2025-12-23 12:17:20.477] [DEBUG] GameWidget UI initialized
[2025-12-23 12:17:20.477] [DEBUG] GameWidget signal connections established
[2025-12-23 12:17:20.478] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:17:20.478] [DEBUG] Creating GameManager instance...
[2025-12-23 12:17:20.478] [DEBUG] Setting up signal connections...
[2025-12-23 12:17:20.478] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:17:20.479] [DEBUG] localGame connection result: 1
[2025-12-23 12:17:20.479] [DEBUG] Initializing window components...
[2025-12-23 12:17:20.479] [DEBUG] Initializing window style...
[2025-12-23 12:17:20.482] [INFO] [Handshake] Received NewSession. ID: 2232929579153370639
[2025-12-23 12:17:20.484] [DEBUG] Saved server public key
[2025-12-23 12:17:20.485] [DEBUG] Sending frame: 1
[2025-12-23 12:17:20.496] [INFO] [Handshake] Session Activated!
[2025-12-23 12:17:20.496] [DEBUG] Set main window background to white
[2025-12-23 12:17:20.496] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:17:20.507] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:17:20.507] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:17:20.508] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:17:20.508] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:17:20.508] [DEBUG] Set window palette to white background
[2025-12-23 12:17:20.508] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:17:20.509] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:17:20.509] [DEBUG] Initializing layout...
[2025-12-23 12:17:20.509] [DEBUG] centralwidget found at address: 2044879226448
[2025-12-23 12:17:20.509] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:17:20.509] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:17:20.510] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:17:20.510] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:17:20.510] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:17:20.510] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:17:20.511] [DEBUG] Layout initialized successfully
[2025-12-23 12:17:20.511] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:17:20.511] [DEBUG] Initializing title bar components...
[2025-12-23 12:17:20.511] [DEBUG] titleBarWidget found at address: 2044907748848
[2025-12-23 12:17:20.511] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:17:20.512] [DEBUG] titleLabel found at address: 2044907750848
[2025-12-23 12:17:20.512] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:17:20.512] [DEBUG] minimizeButton found at address: 2044907766240
[2025-12-23 12:17:20.512] [DEBUG] maximizeButton found at address: 2044907769936
[2025-12-23 12:17:20.513] [DEBUG] closeButton found at address: 2044907780528
[2025-12-23 12:17:20.513] [DEBUG] Title bar initialization completed
[2025-12-23 12:17:20.513] [DEBUG] Initializing status bar components...
[2025-12-23 12:17:20.513] [DEBUG] statusBarWidget found
[2025-12-23 12:17:20.513] [DEBUG] statusMessageLabel found
[2025-12-23 12:17:20.513] [DEBUG] networkStatusLabel found
[2025-12-23 12:17:20.514] [DEBUG] userInfoLabel found
[2025-12-23 12:17:20.514] [DEBUG] Status bar initialization completed
[2025-12-23 12:17:20.514] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:17:20.514] [DEBUG] stackedWidget found in UI
[2025-12-23 12:17:20.530] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:17:20.530] [DEBUG] Creating ToastWidget...
[2025-12-23 12:17:20.531] [DEBUG] === Validating Window Background ===
[2025-12-23 12:17:20.532] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:17:20.532] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:17:20.532] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:17:20.532] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:17:20.533] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:17:20.533] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:17:20.533] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:17:20.533] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:17:20.534] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:17:20.534] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:17:25.439] [DEBUG] Creating room
[2025-12-23 12:17:25.439] [DEBUG] Sent packet (type: 512)
[2025-12-23 12:17:25.439] [DEBUG] Sending frame: 2
[2025-12-23 12:17:30.568] [DEBUG] Sending frame: 2
[2025-12-23 12:17:30.568] [DEBUG] Heartbeat sent.
[2025-12-23 12:17:35.731] [DEBUG] Received Active frame.
[2025-12-23 12:17:35.732] [DEBUG] [Packet] Received Packet Type: 65535
[2025-12-23 12:17:35.732] [DEBUG] Received packet (type: 65535)
[2025-12-23 12:18:19.374] [DEBUG] Sending frame: 2
[2025-12-23 12:18:19.374] [DEBUG] Heartbeat sent.
[2025-12-23 12:18:29.043] [DEBUG] Creating room
[2025-12-23 12:18:29.043] [DEBUG] Sent packet (type: 512)
[2025-12-23 12:18:29.043] [DEBUG] Sending frame: 2
[2025-12-23 12:18:29.439] [DEBUG] Sending frame: 2
[2025-12-23 12:18:29.440] [DEBUG] Heartbeat sent.
[2025-12-23 12:18:31.443] [DEBUG] Received Active frame.
[2025-12-23 12:18:31.444] [DEBUG] [Packet] Received Packet Type: 65535
[2025-12-23 12:18:31.444] [DEBUG] Received packet (type: 65535)
[2025-12-23 12:18:39.605] [DEBUG] Sending frame: 2
[2025-12-23 12:18:39.605] [DEBUG] Heartbeat sent.
[2025-12-23 12:18:49.691] [DEBUG] Sending frame: 2
[2025-12-23 12:18:49.692] [DEBUG] Heartbeat sent.
[2025-12-23 12:18:59.695] [DEBUG] Sending frame: 2
[2025-12-23 12:18:59.696] [DEBUG] Heartbeat sent.
[2025-12-23 12:19:09.703] [DEBUG] Sending frame: 2
[2025-12-23 12:19:09.703] [DEBUG] Heartbeat sent.
[2025-12-23 12:19:19.753] [DEBUG] Sending frame: 2
[2025-12-23 12:19:19.754] [DEBUG] Heartbeat sent.
[2025-12-23 12:19:29.787] [DEBUG] Sending frame: 2
[2025-12-23 12:19:29.787] [DEBUG] Heartbeat sent.
[2025-12-23 12:19:39.829] [DEBUG] Sending frame: 2
[2025-12-23 12:19:39.829] [DEBUG] Heartbeat sent.
[2025-12-23 12:19:49.896] [DEBUG] Sending frame: 2
[2025-12-23 12:19:49.897] [DEBUG] Heartbeat sent.
[2025-12-23 12:20:00.003] [DEBUG] Sending frame: 2
[2025-12-23 12:20:00.003] [DEBUG] Heartbeat sent.
[2025-12-23 12:20:10.100] [DEBUG] Sending frame: 2
[2025-12-23 12:20:10.101] [DEBUG] Heartbeat sent.
[2025-12-23 12:20:20.152] [DEBUG] Sending frame: 2
[2025-12-23 12:20:20.152] [DEBUG] Heartbeat sent.
[2025-12-23 12:20:30.262] [DEBUG] Sending frame: 2
[2025-12-23 12:20:30.263] [DEBUG] Heartbeat sent.
[2025-12-23 12:20:46.625] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:20:46.626] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:20:46.627] [DEBUG] Setting up UI...
[2025-12-23 12:20:46.655] [DEBUG] Creating Manager instance...
[2025-12-23 12:20:46.655] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:20:46.656] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:20:46.707] [DEBUG] Socket created successfully
[2025-12-23 12:20:46.707] [DEBUG] Client instance created
[2025-12-23 12:20:46.707] [DEBUG] Packet callback set
[2025-12-23 12:20:46.708] [DEBUG] Signal connections setup completed
[2025-12-23 12:20:46.708] [INFO] Attempting to connect to server...
[2025-12-23 12:20:46.708] [DEBUG] connectToServer called
[2025-12-23 12:20:46.709] [INFO] Initiating connection to server...
[2025-12-23 12:20:46.709] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:20:46.709] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:20:46.710] [INFO] Connected to server successfully!
[2025-12-23 12:20:46.710] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:20:46.711] [DEBUG] Worker thread started
[2025-12-23 12:20:46.711] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:20:46.712] [INFO] Connection established and handshake initiated
[2025-12-23 12:20:46.712] [INFO] Successfully connected to server
[2025-12-23 12:20:46.712] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:20:46.712] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:20:46.716] [INFO] Client loop started.
[2025-12-23 12:20:46.723] [DEBUG] Configuring room table properties...
[2025-12-23 12:20:46.724] [DEBUG] Room table properties configured
[2025-12-23 12:20:46.724] [DEBUG] Initializing room table...
[2025-12-23 12:20:46.727] [DEBUG] Initializing player list...
[2025-12-23 12:20:46.727] [DEBUG] Setting up signals...
[2025-12-23 12:20:46.727] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:20:46.728] [DEBUG] Creating GameWidget...
[2025-12-23 12:20:46.734] [INFO] [Handshake] Received NewSession. ID: 1875312758326991371
[2025-12-23 12:20:46.734] [DEBUG] GameWidget UI initialized
[2025-12-23 12:20:46.735] [DEBUG] GameWidget signal connections established
[2025-12-23 12:20:46.735] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:20:46.735] [DEBUG] Creating GameManager instance...
[2025-12-23 12:20:46.735] [DEBUG] Setting up signal connections...
[2025-12-23 12:20:46.736] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:20:46.736] [DEBUG] localGame connection result: 1
[2025-12-23 12:20:46.736] [DEBUG] Initializing window components...
[2025-12-23 12:20:46.737] [DEBUG] Initializing window style...
[2025-12-23 12:20:46.737] [DEBUG] Saved server public key
[2025-12-23 12:20:46.749] [INFO] [Handshake] Session Activated!
[2025-12-23 12:20:46.764] [DEBUG] Set main window background to white
[2025-12-23 12:20:46.764] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:20:46.779] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:20:46.779] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:20:46.779] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:20:46.780] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:20:46.780] [DEBUG] Set window palette to white background
[2025-12-23 12:20:46.780] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:20:46.780] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:20:46.781] [DEBUG] Initializing layout...
[2025-12-23 12:20:46.781] [DEBUG] centralwidget found at address: 2123380672080
[2025-12-23 12:20:46.781] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:20:46.781] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:20:46.782] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:20:46.782] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:20:46.782] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:20:46.783] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:20:46.783] [DEBUG] Layout initialized successfully
[2025-12-23 12:20:46.784] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:20:46.784] [DEBUG] Initializing title bar components...
[2025-12-23 12:20:46.784] [DEBUG] titleBarWidget found at address: 2123379899888
[2025-12-23 12:20:46.785] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:20:46.785] [DEBUG] titleLabel found at address: 2123379901888
[2025-12-23 12:20:46.785] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:20:46.785] [DEBUG] minimizeButton found at address: 2123379917280
[2025-12-23 12:20:46.786] [DEBUG] maximizeButton found at address: 2123379920976
[2025-12-23 12:20:46.786] [DEBUG] closeButton found at address: 2123379931568
[2025-12-23 12:20:46.786] [DEBUG] Title bar initialization completed
[2025-12-23 12:20:46.787] [DEBUG] Initializing status bar components...
[2025-12-23 12:20:46.787] [DEBUG] statusBarWidget found
[2025-12-23 12:20:46.787] [DEBUG] statusMessageLabel found
[2025-12-23 12:20:46.787] [DEBUG] networkStatusLabel found
[2025-12-23 12:20:46.788] [DEBUG] userInfoLabel found
[2025-12-23 12:20:46.788] [DEBUG] Status bar initialization completed
[2025-12-23 12:20:46.788] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:20:46.789] [DEBUG] stackedWidget found in UI
[2025-12-23 12:20:46.807] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:20:46.807] [DEBUG] Creating ToastWidget...
[2025-12-23 12:20:46.809] [DEBUG] === Validating Window Background ===
[2025-12-23 12:20:46.809] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:20:46.810] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:20:46.810] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:20:46.810] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:20:46.811] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:20:46.811] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:20:46.811] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:20:46.812] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:20:46.812] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:20:46.812] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:20:51.260] [DEBUG] Creating room
[2025-12-23 12:20:51.261] [DEBUG] Sent packet (type: 512)
[2025-12-23 12:36:26.349] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:36:26.350] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:36:26.350] [DEBUG] Setting up UI...
[2025-12-23 12:36:26.377] [DEBUG] Creating Manager instance...
[2025-12-23 12:36:26.378] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:36:26.378] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:36:26.437] [DEBUG] Socket created successfully
[2025-12-23 12:36:26.437] [DEBUG] Client instance created
[2025-12-23 12:36:26.437] [DEBUG] Packet callback set
[2025-12-23 12:36:26.438] [DEBUG] Signal connections setup completed
[2025-12-23 12:36:26.438] [INFO] Attempting to connect to server...
[2025-12-23 12:36:26.438] [DEBUG] connectToServer called
[2025-12-23 12:36:26.439] [INFO] Initiating connection to server...
[2025-12-23 12:36:26.439] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:36:26.439] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:36:26.440] [INFO] Connected to server successfully!
[2025-12-23 12:36:26.441] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:36:26.441] [DEBUG] Worker thread started
[2025-12-23 12:36:26.442] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:36:26.442] [INFO] Connection established and handshake initiated
[2025-12-23 12:36:26.443] [INFO] Successfully connected to server
[2025-12-23 12:36:26.443] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:36:26.443] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:36:26.447] [INFO] Client loop started.
[2025-12-23 12:36:26.454] [DEBUG] Configuring room table properties...
[2025-12-23 12:36:26.455] [DEBUG] Room table properties configured
[2025-12-23 12:36:26.455] [DEBUG] Initializing room table...
[2025-12-23 12:36:26.458] [DEBUG] Initializing player list...
[2025-12-23 12:36:26.458] [DEBUG] Setting up signals...
[2025-12-23 12:36:26.459] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:36:26.459] [DEBUG] Creating GameWidget...
[2025-12-23 12:36:26.465] [DEBUG] GameWidget UI initialized
[2025-12-23 12:36:26.466] [DEBUG] GameWidget signal connections established
[2025-12-23 12:36:26.466] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:36:26.466] [DEBUG] Creating GameManager instance...
[2025-12-23 12:36:26.467] [DEBUG] Setting up signal connections...
[2025-12-23 12:36:26.467] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:36:26.468] [DEBUG] localGame connection result: 1
[2025-12-23 12:36:26.468] [DEBUG] Initializing window components...
[2025-12-23 12:36:26.468] [DEBUG] Initializing window style...
[2025-12-23 12:36:26.487] [DEBUG] Set main window background to white
[2025-12-23 12:36:26.487] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:36:26.500] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:36:26.500] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:36:26.500] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:36:26.501] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:36:26.501] [DEBUG] Set window palette to white background
[2025-12-23 12:36:26.501] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:36:26.502] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:36:26.502] [DEBUG] Initializing layout...
[2025-12-23 12:36:26.502] [DEBUG] centralwidget found at address: 2966326085200
[2025-12-23 12:36:26.502] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:36:26.503] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:36:26.503] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:36:26.503] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:36:26.504] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:36:26.504] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:36:26.504] [DEBUG] Layout initialized successfully
[2025-12-23 12:36:26.505] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:36:26.505] [DEBUG] Initializing title bar components...
[2025-12-23 12:36:26.505] [DEBUG] titleBarWidget found at address: 2966326091296
[2025-12-23 12:36:26.506] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:36:26.506] [DEBUG] titleLabel found at address: 2966326093360
[2025-12-23 12:36:26.506] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:36:26.507] [DEBUG] minimizeButton found at address: 2966326108752
[2025-12-23 12:36:26.507] [DEBUG] maximizeButton found at address: 2966326112448
[2025-12-23 12:36:26.507] [DEBUG] closeButton found at address: 2966326123040
[2025-12-23 12:36:26.508] [DEBUG] Title bar initialization completed
[2025-12-23 12:36:26.508] [DEBUG] Initializing status bar components...
[2025-12-23 12:36:26.508] [DEBUG] statusBarWidget found
[2025-12-23 12:36:26.509] [DEBUG] statusMessageLabel found
[2025-12-23 12:36:26.509] [DEBUG] networkStatusButton found
[2025-12-23 12:36:26.509] [DEBUG] userInfoButton found
[2025-12-23 12:36:26.510] [DEBUG] Status bar initialization completed
[2025-12-23 12:36:26.510] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:36:26.510] [DEBUG] stackedWidget found in UI
[2025-12-23 12:36:26.527] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:36:26.527] [DEBUG] Creating ToastWidget...
[2025-12-23 12:36:26.529] [DEBUG] === Validating Window Background ===
[2025-12-23 12:36:26.530] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:36:26.530] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:36:26.530] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:36:26.531] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:36:26.531] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:36:26.532] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:36:26.532] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:36:26.532] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:36:26.533] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:36:26.533] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:36:30.889] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:36:30.890] [INFO] Reconnecting to server...
[2025-12-23 12:36:30.890] [DEBUG] disconnectFromServer called
[2025-12-23 12:36:30.890] [INFO] Disconnecting from server...
[2025-12-23 12:36:30.890] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 12:36:30.891] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 12:36:30.903] [DEBUG] Worker thread joined successfully.
[2025-12-23 12:36:30.904] [DEBUG] Closing socket
[2025-12-23 12:36:30.904] [INFO] Client disconnected successfully.
[2025-12-23 12:36:30.904] [INFO] Successfully disconnected from server
[2025-12-23 12:36:30.905] [DEBUG] connectToServer called
[2025-12-23 12:36:30.905] [INFO] Initiating connection to server...
[2025-12-23 12:36:30.905] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:36:30.905] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:36:30.906] [ERROR] Connect failed: 10038
[2025-12-23 12:36:30.906] [ERROR] Failed to connect to server
[2025-12-23 12:36:32.404] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:36:32.404] [INFO] Reconnecting to server...
[2025-12-23 12:36:32.404] [DEBUG] disconnectFromServer called
[2025-12-23 12:36:32.405] [DEBUG] Not connected to server, skipping disconnect
[2025-12-23 12:36:32.405] [DEBUG] connectToServer called
[2025-12-23 12:36:32.405] [INFO] Initiating connection to server...
[2025-12-23 12:36:32.405] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:36:32.406] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:36:32.406] [ERROR] Connect failed: 10038
[2025-12-23 12:36:32.406] [ERROR] Failed to connect to server
[2025-12-23 12:36:33.621] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 12:36:48.016] [DEBUG] User chose to sign up
[2025-12-23 12:36:58.263] [INFO] Signin attempt for user: Spreng
[2025-12-23 12:37:30.111] [ERROR] Cannot signin: client not connected to server
[2025-12-23 12:38:05.148] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:38:05.148] [INFO] Reconnecting to server...
[2025-12-23 12:38:05.148] [DEBUG] disconnectFromServer called
[2025-12-23 12:38:05.148] [DEBUG] Not connected to server, skipping disconnect
[2025-12-23 12:38:05.149] [DEBUG] connectToServer called
[2025-12-23 12:38:05.149] [INFO] Initiating connection to server...
[2025-12-23 12:38:05.149] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:38:05.149] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:38:05.149] [ERROR] Connect failed: 10038
[2025-12-23 12:38:05.150] [ERROR] Failed to connect to server
[2025-12-23 12:38:06.011] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:38:06.012] [INFO] Reconnecting to server...
[2025-12-23 12:38:06.012] [DEBUG] disconnectFromServer called
[2025-12-23 12:38:06.012] [DEBUG] Not connected to server, skipping disconnect
[2025-12-23 12:38:06.012] [DEBUG] connectToServer called
[2025-12-23 12:38:06.012] [INFO] Initiating connection to server...
[2025-12-23 12:38:06.012] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:38:06.013] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:38:06.013] [ERROR] Connect failed: 10038
[2025-12-23 12:38:06.013] [ERROR] Failed to connect to server
[2025-12-23 12:38:06.619] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:38:06.620] [INFO] Reconnecting to server...
[2025-12-23 12:38:06.620] [DEBUG] disconnectFromServer called
[2025-12-23 12:38:06.620] [DEBUG] Not connected to server, skipping disconnect
[2025-12-23 12:38:06.621] [DEBUG] connectToServer called
[2025-12-23 12:38:06.621] [INFO] Initiating connection to server...
[2025-12-23 12:38:06.621] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:38:06.621] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:38:06.621] [ERROR] Connect failed: 10038
[2025-12-23 12:38:06.622] [ERROR] Failed to connect to server
[2025-12-23 12:39:45.363] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:39:45.364] [INFO] Reconnecting to server...
[2025-12-23 12:39:45.364] [DEBUG] disconnectFromServer called
[2025-12-23 12:39:45.364] [DEBUG] Not connected to server, skipping disconnect
[2025-12-23 12:39:45.364] [DEBUG] connectToServer called
[2025-12-23 12:39:45.365] [INFO] Initiating connection to server...
[2025-12-23 12:39:45.365] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:39:45.365] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:39:45.365] [ERROR] Connect failed: 10038
[2025-12-23 12:39:45.365] [ERROR] Failed to connect to server
[2025-12-23 12:39:46.557] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:39:46.557] [INFO] Reconnecting to server...
[2025-12-23 12:39:46.557] [DEBUG] disconnectFromServer called
[2025-12-23 12:39:46.557] [DEBUG] Not connected to server, skipping disconnect
[2025-12-23 12:39:46.558] [DEBUG] connectToServer called
[2025-12-23 12:39:46.558] [INFO] Initiating connection to server...
[2025-12-23 12:39:46.558] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:39:46.558] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:39:46.558] [ERROR] Connect failed: 10038
[2025-12-23 12:39:46.559] [ERROR] Failed to connect to server
[2025-12-23 12:40:26.510] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:40:26.511] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:40:26.511] [DEBUG] Setting up UI...
[2025-12-23 12:40:26.539] [DEBUG] Creating Manager instance...
[2025-12-23 12:40:26.540] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:40:26.540] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:40:26.591] [DEBUG] Socket created successfully
[2025-12-23 12:40:26.592] [DEBUG] Client instance created
[2025-12-23 12:40:26.592] [DEBUG] Packet callback set
[2025-12-23 12:40:26.592] [DEBUG] Signal connections setup completed
[2025-12-23 12:40:26.592] [INFO] Attempting to connect to server...
[2025-12-23 12:40:26.593] [INFO] Initiating connection to server...
[2025-12-23 12:40:26.593] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:40:26.593] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:40:26.594] [INFO] Connected to server successfully!
[2025-12-23 12:40:26.594] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:40:26.595] [DEBUG] Worker thread started
[2025-12-23 12:40:26.596] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:40:26.596] [INFO] Connection established and handshake initiated
[2025-12-23 12:40:26.596] [INFO] Successfully connected to server
[2025-12-23 12:40:26.597] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:40:26.597] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:40:26.600] [INFO] Client loop started.
[2025-12-23 12:40:26.607] [DEBUG] Configuring room table properties...
[2025-12-23 12:40:26.607] [DEBUG] Room table properties configured
[2025-12-23 12:40:26.607] [DEBUG] Initializing room table...
[2025-12-23 12:40:26.610] [DEBUG] Initializing player list...
[2025-12-23 12:40:26.610] [DEBUG] Setting up signals...
[2025-12-23 12:40:26.610] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:40:26.611] [DEBUG] Creating GameWidget...
[2025-12-23 12:40:26.616] [INFO] [Handshake] Received NewSession. ID: 11425702450368683676
[2025-12-23 12:40:26.618] [DEBUG] GameWidget UI initialized
[2025-12-23 12:40:26.618] [DEBUG] GameWidget signal connections established
[2025-12-23 12:40:26.618] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:40:26.619] [DEBUG] Creating GameManager instance...
[2025-12-23 12:40:26.619] [DEBUG] Saved server public key
[2025-12-23 12:40:26.619] [DEBUG] Setting up signal connections...
[2025-12-23 12:40:26.620] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:40:26.620] [DEBUG] localGame connection result: 1
[2025-12-23 12:40:26.621] [DEBUG] Initializing window components...
[2025-12-23 12:40:26.621] [DEBUG] Initializing window style...
[2025-12-23 12:40:26.631] [INFO] [Handshake] Session Activated!
[2025-12-23 12:40:26.636] [DEBUG] Set main window background to white
[2025-12-23 12:40:26.636] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:40:26.649] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:40:26.649] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:40:26.649] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:40:26.650] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:40:26.650] [DEBUG] Set window palette to white background
[2025-12-23 12:40:26.650] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:40:26.650] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:40:26.651] [DEBUG] Initializing layout...
[2025-12-23 12:40:26.651] [DEBUG] centralwidget found at address: 2189661570640
[2025-12-23 12:40:26.651] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:40:26.652] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:40:26.652] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:40:26.652] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:40:26.652] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:40:26.653] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:40:26.653] [DEBUG] Layout initialized successfully
[2025-12-23 12:40:26.653] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:40:26.654] [DEBUG] Initializing title bar components...
[2025-12-23 12:40:26.654] [DEBUG] titleBarWidget found at address: 2189661576736
[2025-12-23 12:40:26.654] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:40:26.654] [DEBUG] titleLabel found at address: 2189661578800
[2025-12-23 12:40:26.655] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:40:26.655] [DEBUG] minimizeButton found at address: 2189661594192
[2025-12-23 12:40:26.655] [DEBUG] maximizeButton found at address: 2189661597888
[2025-12-23 12:40:26.656] [DEBUG] closeButton found at address: 2189661608480
[2025-12-23 12:40:26.656] [DEBUG] Title bar initialization completed
[2025-12-23 12:40:26.656] [DEBUG] Initializing status bar components...
[2025-12-23 12:40:26.656] [DEBUG] statusBarWidget found
[2025-12-23 12:40:26.657] [DEBUG] statusMessageLabel found
[2025-12-23 12:40:26.657] [DEBUG] networkStatusButton found
[2025-12-23 12:40:26.657] [DEBUG] userInfoButton found
[2025-12-23 12:40:26.657] [DEBUG] Status bar initialization completed
[2025-12-23 12:40:26.658] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:40:26.658] [DEBUG] stackedWidget found in UI
[2025-12-23 12:40:26.672] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:40:26.673] [DEBUG] Creating ToastWidget...
[2025-12-23 12:40:26.674] [DEBUG] === Validating Window Background ===
[2025-12-23 12:40:26.675] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:40:26.675] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:40:26.675] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:40:26.676] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:40:26.676] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:40:26.677] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:40:26.677] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:40:26.677] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:40:26.678] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:40:26.678] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:40:30.612] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:42:14.340] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 12:42:14.341] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 12:42:14.341] [DEBUG] Setting up UI...
[2025-12-23 12:42:14.362] [DEBUG] Creating Manager instance...
[2025-12-23 12:42:14.362] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 12:42:14.363] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 12:42:14.414] [DEBUG] Socket created successfully
[2025-12-23 12:42:14.414] [DEBUG] Client instance created
[2025-12-23 12:42:14.414] [DEBUG] Packet callback set
[2025-12-23 12:42:14.415] [DEBUG] Signal connections setup completed
[2025-12-23 12:42:14.415] [INFO] Attempting to connect to server...
[2025-12-23 12:42:14.415] [INFO] Initiating connection to server...
[2025-12-23 12:42:14.415] [INFO] Attempting to connect to server 127.0.0.1:8080
[2025-12-23 12:42:14.415] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 12:42:14.416] [INFO] Connected to server successfully!
[2025-12-23 12:42:14.416] [DEBUG] Socket set to non-blocking mode
[2025-12-23 12:42:14.416] [DEBUG] Worker thread started
[2025-12-23 12:42:14.418] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 12:42:14.418] [INFO] Connection established and handshake initiated
[2025-12-23 12:42:14.418] [INFO] Successfully connected to server
[2025-12-23 12:42:14.418] [DEBUG] Creating LobbyWidget...
[2025-12-23 12:42:14.419] [DEBUG] LobbyWidget Initializing...
[2025-12-23 12:42:14.422] [INFO] Client loop started.
[2025-12-23 12:42:14.426] [DEBUG] Configuring room table properties...
[2025-12-23 12:42:14.426] [DEBUG] Room table properties configured
[2025-12-23 12:42:14.427] [DEBUG] Initializing room table...
[2025-12-23 12:42:14.428] [DEBUG] Initializing player list...
[2025-12-23 12:42:14.428] [DEBUG] Setting up signals...
[2025-12-23 12:42:14.428] [INFO] LobbyWidget initialized successfully
[2025-12-23 12:42:14.429] [DEBUG] Creating GameWidget...
[2025-12-23 12:42:14.433] [DEBUG] GameWidget UI initialized
[2025-12-23 12:42:14.433] [DEBUG] GameWidget signal connections established
[2025-12-23 12:42:14.433] [DEBUG] GameWidget constructed successfully
[2025-12-23 12:42:14.433] [DEBUG] Creating GameManager instance...
[2025-12-23 12:42:14.434] [DEBUG] Setting up signal connections...
[2025-12-23 12:42:14.434] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 12:42:14.434] [DEBUG] localGame connection result: 1
[2025-12-23 12:42:14.435] [DEBUG] Initializing window components...
[2025-12-23 12:42:14.435] [DEBUG] Initializing window style...
[2025-12-23 12:42:14.440] [INFO] [Handshake] Received NewSession. ID: 1875312758326991371
[2025-12-23 12:42:14.441] [DEBUG] Saved server public key
[2025-12-23 12:42:14.447] [DEBUG] Set main window background to white
[2025-12-23 12:42:14.448] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 12:42:14.456] [INFO] [Handshake] Session Activated!
[2025-12-23 12:42:14.457] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 12:42:14.457] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 12:42:14.457] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 12:42:14.458] [DEBUG] Window size set to: 1000x700
[2025-12-23 12:42:14.458] [DEBUG] Set window palette to white background
[2025-12-23 12:42:14.458] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 12:42:14.458] [DEBUG] Window background role color: #ffffff
[2025-12-23 12:42:14.458] [DEBUG] Initializing layout...
[2025-12-23 12:42:14.458] [DEBUG] centralwidget found at address: 2381485508176
[2025-12-23 12:42:14.459] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 12:42:14.459] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 12:42:14.459] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 12:42:14.459] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 12:42:14.459] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 12:42:14.460] [DEBUG] Set centralwidget palette to white background
[2025-12-23 12:42:14.460] [DEBUG] Layout initialized successfully
[2025-12-23 12:42:14.460] [DEBUG] Initializing title bar and status bar...
[2025-12-23 12:42:14.460] [DEBUG] Initializing title bar components...
[2025-12-23 12:42:14.460] [DEBUG] titleBarWidget found at address: 2381485514272
[2025-12-23 12:42:14.461] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 12:42:14.461] [DEBUG] titleLabel found at address: 2381485516336
[2025-12-23 12:42:14.461] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 12:42:14.461] [DEBUG] minimizeButton found at address: 2381485531728
[2025-12-23 12:42:14.461] [DEBUG] maximizeButton found at address: 2381485535424
[2025-12-23 12:42:14.461] [DEBUG] closeButton found at address: 2381485546016
[2025-12-23 12:42:14.461] [DEBUG] Title bar initialization completed
[2025-12-23 12:42:14.461] [DEBUG] Initializing status bar components...
[2025-12-23 12:42:14.462] [DEBUG] statusBarWidget found
[2025-12-23 12:42:14.462] [DEBUG] statusMessageLabel found
[2025-12-23 12:42:14.462] [DEBUG] networkStatusButton found
[2025-12-23 12:42:14.462] [DEBUG] userInfoButton found
[2025-12-23 12:42:14.462] [DEBUG] Status bar initialization completed
[2025-12-23 12:42:14.462] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 12:42:14.463] [DEBUG] stackedWidget found in UI
[2025-12-23 12:42:14.477] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 12:42:14.477] [DEBUG] Creating ToastWidget...
[2025-12-23 12:42:14.478] [DEBUG] === Validating Window Background ===
[2025-12-23 12:42:14.479] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 12:42:14.479] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 12:42:14.479] [INFO] CentralWidget background is correctly set to white
[2025-12-23 12:42:14.479] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 12:42:14.479] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 12:42:14.480] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 12:42:14.480] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 12:42:14.480] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 12:42:14.480] [DEBUG] === Background Validation Complete ===
[2025-12-23 12:42:14.480] [INFO] MainWindow initialization completed successfully
[2025-12-23 12:42:20.441] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 12:42:27.840] [INFO] Reconnecting to server...
[2025-12-23 12:42:27.841] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:01:46.546] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:01:46.546] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:01:46.547] [DEBUG] Setting up UI...
[2025-12-23 13:01:46.567] [DEBUG] Creating Manager instance...
[2025-12-23 13:01:46.567] [INFO] Manager initialized for server 127.0.0.1:8080
[2025-12-23 13:01:46.568] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:01:46.612] [DEBUG] Socket created successfully
[2025-12-23 13:01:46.612] [DEBUG] Client instance created
[2025-12-23 13:01:46.612] [DEBUG] Packet callback set
[2025-12-23 13:01:46.612] [DEBUG] Session activated callback set
[2025-12-23 13:01:46.613] [DEBUG] Signal connections setup completed
[2025-12-23 13:01:46.613] [INFO] Attempting to connect to server...
[2025-12-23 13:01:46.613] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:01:48.650] [ERROR] Connect failed: 10061
[2025-12-23 13:01:48.650] [ERROR] Failed to connect to server
[2025-12-23 13:01:48.650] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:01:48.650] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:01:48.657] [DEBUG] Configuring room table properties...
[2025-12-23 13:01:48.657] [DEBUG] Room table properties configured
[2025-12-23 13:01:48.657] [DEBUG] Initializing room table...
[2025-12-23 13:01:48.659] [DEBUG] Initializing player list...
[2025-12-23 13:01:48.659] [DEBUG] Setting up signals...
[2025-12-23 13:01:48.659] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:01:48.659] [DEBUG] Creating GameWidget...
[2025-12-23 13:01:48.664] [DEBUG] GameWidget UI initialized
[2025-12-23 13:01:48.664] [DEBUG] GameWidget signal connections established
[2025-12-23 13:01:48.664] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:01:48.665] [DEBUG] Creating GameManager instance...
[2025-12-23 13:01:48.665] [DEBUG] Setting up signal connections...
[2025-12-23 13:01:48.665] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:01:48.665] [DEBUG] localGame connection result: 1
[2025-12-23 13:01:48.666] [DEBUG] Initializing window components...
[2025-12-23 13:01:48.666] [DEBUG] Initializing window style...
[2025-12-23 13:01:48.677] [DEBUG] Set main window background to white
[2025-12-23 13:01:48.677] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:01:48.691] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:01:48.692] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:01:48.692] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:01:48.692] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:01:48.692] [DEBUG] Set window palette to white background
[2025-12-23 13:01:48.693] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:01:48.693] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:01:48.693] [DEBUG] Initializing layout...
[2025-12-23 13:01:48.693] [DEBUG] centralwidget found at address: 2312021673552
[2025-12-23 13:01:48.693] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:01:48.694] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:01:48.694] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:01:48.694] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:01:48.694] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:01:48.695] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:01:48.695] [DEBUG] Layout initialized successfully
[2025-12-23 13:01:48.695] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:01:48.695] [DEBUG] Initializing title bar components...
[2025-12-23 13:01:48.695] [DEBUG] titleBarWidget found at address: 2312021679648
[2025-12-23 13:01:48.696] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:01:48.696] [DEBUG] titleLabel found at address: 2312021681712
[2025-12-23 13:01:48.696] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:01:48.696] [DEBUG] minimizeButton found at address: 2312021697104
[2025-12-23 13:01:48.696] [DEBUG] maximizeButton found at address: 2312021700800
[2025-12-23 13:01:48.696] [DEBUG] closeButton found at address: 2312021711392
[2025-12-23 13:01:48.697] [DEBUG] Title bar initialization completed
[2025-12-23 13:01:48.697] [DEBUG] Initializing status bar components...
[2025-12-23 13:01:48.697] [DEBUG] statusBarWidget found
[2025-12-23 13:01:48.697] [DEBUG] statusMessageLabel found
[2025-12-23 13:01:48.697] [DEBUG] networkStatusButton found
[2025-12-23 13:01:48.698] [DEBUG] userInfoButton found
[2025-12-23 13:01:48.698] [DEBUG] Status bar initialization completed
[2025-12-23 13:01:48.698] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:01:48.698] [DEBUG] stackedWidget found in UI
[2025-12-23 13:01:48.708] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:01:48.709] [DEBUG] Creating ToastWidget...
[2025-12-23 13:01:48.712] [DEBUG] === Validating Window Background ===
[2025-12-23 13:01:48.713] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:01:48.713] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:01:48.713] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:01:48.713] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:01:48.713] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:01:48.714] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:01:48.714] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:01:48.714] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:01:48.714] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:01:48.714] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:01:52.478] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:01:52.479] [INFO] Reconnecting to server...
[2025-12-23 13:01:52.479] [INFO] Attempting to connect to server...
[2025-12-23 13:01:52.479] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:01:54.496] [ERROR] Connect failed: 10061
[2025-12-23 13:01:54.496] [ERROR] Failed to connect to server
[2025-12-23 13:01:56.502] [INFO] MainWindow destructor called
[2025-12-23 13:01:56.503] [DEBUG] Cleaning up UI...
[2025-12-23 13:01:56.503] [DEBUG] Cleaning up Manager...
[2025-12-23 13:01:56.503] [INFO] Manager destructor called
[2025-12-23 13:01:56.503] [DEBUG] Disconnecting client...
[2025-12-23 13:01:56.503] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 13:01:56.503] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 13:01:56.504] [DEBUG] Closing socket
[2025-12-23 13:01:56.504] [INFO] Client disconnected successfully.
[2025-12-23 13:01:56.504] [DEBUG] Client destructor called
[2025-12-23 13:01:56.504] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 13:01:56.504] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 13:01:56.504] [DEBUG] Closing socket
[2025-12-23 13:01:56.505] [INFO] Client disconnected successfully.
[2025-12-23 13:01:56.505] [DEBUG] Socket closed.
[2025-12-23 13:01:56.505] [DEBUG] Client cleanup completed
[2025-12-23 13:01:56.505] [DEBUG] Client disconnected and reset
[2025-12-23 13:01:56.505] [INFO] Manager cleanup completed
[2025-12-23 13:01:56.506] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 13:01:56.509] [DEBUG] Shutting down Logger...
[2025-12-23 13:01:56.510] [INFO] Logger shutting down.
[2025-12-23 13:05:00.647] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:05:00.647] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:05:00.648] [DEBUG] Setting up UI...
[2025-12-23 13:05:00.668] [DEBUG] Creating Manager instance...
[2025-12-23 13:05:00.668] [INFO] Manager initialized for server
[2025-12-23 13:05:00.669] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:05:00.723] [DEBUG] Socket created successfully
[2025-12-23 13:05:00.723] [DEBUG] Session activated callback set
[2025-12-23 13:05:00.723] [INFO] Attempting to connect to server...
[2025-12-23 13:05:00.723] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:05:02.747] [ERROR] Connect failed: 10061
[2025-12-23 13:05:02.747] [ERROR] Failed to connect to server
[2025-12-23 13:05:02.748] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:05:02.748] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:05:02.755] [DEBUG] Configuring room table properties...
[2025-12-23 13:05:02.756] [DEBUG] Room table properties configured
[2025-12-23 13:05:02.756] [DEBUG] Initializing room table...
[2025-12-23 13:05:02.758] [DEBUG] Initializing player list...
[2025-12-23 13:05:02.758] [DEBUG] Setting up signals...
[2025-12-23 13:05:02.758] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:05:02.759] [DEBUG] Creating GameWidget...
[2025-12-23 13:05:02.764] [DEBUG] GameWidget UI initialized
[2025-12-23 13:05:02.765] [DEBUG] GameWidget signal connections established
[2025-12-23 13:05:02.765] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:05:02.765] [DEBUG] Creating GameManager instance...
[2025-12-23 13:05:02.766] [DEBUG] Setting up signal connections...
[2025-12-23 13:05:02.766] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:05:02.766] [DEBUG] localGame connection result: 1
[2025-12-23 13:05:02.767] [DEBUG] Initializing window components...
[2025-12-23 13:05:02.767] [DEBUG] Initializing window style...
[2025-12-23 13:05:02.779] [DEBUG] Set main window background to white
[2025-12-23 13:05:02.779] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:05:02.787] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:05:02.787] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:05:02.788] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:05:02.788] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:05:02.788] [DEBUG] Set window palette to white background
[2025-12-23 13:05:02.788] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:05:02.789] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:05:02.789] [DEBUG] Initializing layout...
[2025-12-23 13:05:02.789] [DEBUG] centralwidget found at address: 3027340887632
[2025-12-23 13:05:02.789] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:05:02.789] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:05:02.790] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:05:02.790] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:05:02.790] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:05:02.790] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:05:02.790] [DEBUG] Layout initialized successfully
[2025-12-23 13:05:02.791] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:05:02.791] [DEBUG] Initializing title bar components...
[2025-12-23 13:05:02.791] [DEBUG] titleBarWidget found at address: 3027340893728
[2025-12-23 13:05:02.791] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:05:02.792] [DEBUG] titleLabel found at address: 3027340895792
[2025-12-23 13:05:02.792] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:05:02.793] [DEBUG] minimizeButton found at address: 3027340911184
[2025-12-23 13:05:02.793] [DEBUG] maximizeButton found at address: 3027340914880
[2025-12-23 13:05:02.793] [DEBUG] closeButton found at address: 3027340925472
[2025-12-23 13:05:02.793] [DEBUG] Title bar initialization completed
[2025-12-23 13:05:02.794] [DEBUG] Initializing status bar components...
[2025-12-23 13:05:02.794] [DEBUG] statusBarWidget found
[2025-12-23 13:05:02.794] [DEBUG] statusMessageLabel found
[2025-12-23 13:05:02.795] [DEBUG] networkStatusButton found
[2025-12-23 13:05:02.795] [DEBUG] userInfoButton found
[2025-12-23 13:05:02.795] [DEBUG] Status bar initialization completed
[2025-12-23 13:05:02.796] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:05:02.796] [DEBUG] stackedWidget found in UI
[2025-12-23 13:05:02.809] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:05:02.809] [DEBUG] Creating ToastWidget...
[2025-12-23 13:05:02.813] [DEBUG] === Validating Window Background ===
[2025-12-23 13:05:02.813] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:05:02.813] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:05:02.813] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:05:02.814] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:05:02.814] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:05:02.814] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:05:02.814] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:05:02.814] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:05:02.815] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:05:02.815] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:05:08.454] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:05:08.455] [INFO] Reconnecting to server...
[2025-12-23 13:05:08.455] [INFO] Attempting to connect to server...
[2025-12-23 13:05:08.455] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:05:10.477] [ERROR] Connect failed: 10061
[2025-12-23 13:05:10.478] [ERROR] Failed to connect to server
[2025-12-23 13:08:12.150] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:08:12.150] [INFO] Reconnecting to server...
[2025-12-23 13:08:12.151] [INFO] Attempting to connect to server...
[2025-12-23 13:08:12.151] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:08:12.151] [INFO] Connected to server successfully!
[2025-12-23 13:08:12.151] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:08:12.152] [DEBUG] Worker thread started
[2025-12-23 13:08:12.152] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:08:12.152] [INFO] Client loop started.
[2025-12-23 13:08:12.153] [INFO] Connection established and handshake initiated
[2025-12-23 13:08:12.153] [INFO] Successfully connected to server
[2025-12-23 13:08:21.217] [INFO] [Handshake] Received NewSession. ID: 11060880109373780468
[2025-12-23 13:08:24.298] [DEBUG] Saved server public key
[2025-12-23 13:08:24.313] [INFO] [Handshake] Session Activated!
[2025-12-23 13:08:24.314] [DEBUG] Calling sessionActivatedCallback with sessionId: 11060880109373780468
[2025-12-23 13:08:24.315] [INFO] Session activated callback received, sessionId: 11060880109373780468
[2025-12-23 13:08:43.355] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:08:44.955] [DEBUG] User chose to sign up
[2025-12-23 13:08:50.009] [INFO] Signin attempt for user: admin
[2025-12-23 13:08:50.009] [DEBUG] Sent packet (type: 257)
[2025-12-23 13:08:50.026] [DEBUG] Received Active frame.
[2025-12-23 13:08:50.026] [DEBUG] Received packet (type: 0)
[2025-12-23 13:08:50.026] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:08:51.932] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:08:53.758] [DEBUG] User chose to login with account
[2025-12-23 13:09:00.079] [INFO] Login attempt for user: admin
[2025-12-23 13:09:00.080] [DEBUG] Login packet created with session ID: 11060880109373780468
[2025-12-23 13:09:00.080] [DEBUG] Sending login packet...
[2025-12-23 13:09:00.080] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:09:00.080] [INFO] Login request sent for user: admin
[2025-12-23 13:09:00.097] [DEBUG] Received Active frame.
[2025-12-23 13:09:00.097] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:09:05.817] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 13:09:05.817] [DEBUG] localGame signal received, initializing local game
[2025-12-23 13:09:05.817] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 13:09:05.819] [DEBUG] Player list updated, count: 2
[2025-12-23 13:09:05.825] [INFO] Game started for player: 玩家1 (黑棋), rating: 1500
[2025-12-23 13:09:05.826] [DEBUG] Chat message from 游戏: 本地游戏已开始！玩家1 (黑棋) 执黑先行
[2025-12-23 13:09:05.826] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 13:09:05.829] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 13:09:05.832] [INFO] GameWidget initialized successfully
[2025-12-23 13:09:05.832] [DEBUG] Switching widget to index: 1
[2025-12-23 13:09:05.834] [INFO] Switching to Game widget
[2025-12-23 13:09:05.834] [DEBUG] Widget switch completed
[2025-12-23 13:09:08.004] [DEBUG] Back to lobby button clicked
[2025-12-23 13:09:08.004] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 13:09:08.007] [DEBUG] Switching widget to index: 0
[2025-12-23 13:09:08.008] [INFO] Switching to Lobby widget
[2025-12-23 13:09:08.008] [DEBUG] Widget switch completed
[2025-12-23 13:09:08.011] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 13:09:08.013] [INFO] GameWidget initialized successfully
[2025-12-23 13:09:08.013] [DEBUG] GameManager::setLocalGame called with isLocal: 0
[2025-12-23 13:09:08.013] [DEBUG] GameManager::setLocalGame: isLocal is false, not initializing local game
[2025-12-23 13:09:09.123] [DEBUG] Creating room
[2025-12-23 13:09:09.123] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:09:17.701] [DEBUG] Received Active frame.
[2025-12-23 13:09:17.702] [DEBUG] Received packet (type: 0)
[2025-12-23 13:09:17.702] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:09:25.118] [DEBUG] Creating room
[2025-12-23 13:09:25.118] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:09:25.126] [DEBUG] Received Active frame.
[2025-12-23 13:09:25.127] [DEBUG] Received packet (type: 0)
[2025-12-23 13:09:25.127] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:12:42.809] [DEBUG] Creating room
[2025-12-23 13:12:42.810] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:12:42.825] [DEBUG] Received Active frame.
[2025-12-23 13:12:42.825] [DEBUG] Received packet (type: 0)
[2025-12-23 13:12:42.825] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:12:46.235] [DEBUG] Creating room
[2025-12-23 13:12:46.235] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:12:46.250] [DEBUG] Received Active frame.
[2025-12-23 13:12:46.250] [DEBUG] Received packet (type: 0)
[2025-12-23 13:12:46.251] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:15:25.864] [DEBUG] Creating room
[2025-12-23 13:15:25.864] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:15:25.877] [DEBUG] Received Active frame.
[2025-12-23 13:15:25.877] [DEBUG] Received packet (type: 0)
[2025-12-23 13:15:25.877] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:24:06.708] [DEBUG] Creating room
[2025-12-23 13:24:06.708] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:24:06.714] [DEBUG] Received Active frame.
[2025-12-23 13:24:06.715] [DEBUG] Received packet (type: 0)
[2025-12-23 13:24:06.715] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:26:42.328] [DEBUG] Creating room
[2025-12-23 13:26:42.328] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:26:48.937] [DEBUG] Received Active frame.
[2025-12-23 13:26:48.938] [DEBUG] Received packet (type: 0)
[2025-12-23 13:26:48.938] [DEBUG] Unhandled packet type: 0
[2025-12-23 13:28:07.872] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:28:07.872] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:28:07.872] [DEBUG] Setting up UI...
[2025-12-23 13:28:07.896] [DEBUG] Creating Manager instance...
[2025-12-23 13:28:07.896] [INFO] Manager initialized for server
[2025-12-23 13:28:07.896] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:28:07.949] [DEBUG] Socket created successfully
[2025-12-23 13:28:07.950] [DEBUG] Session activated callback set
[2025-12-23 13:28:07.950] [INFO] Attempting to connect to server...
[2025-12-23 13:28:07.950] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:28:07.951] [INFO] Connected to server successfully!
[2025-12-23 13:28:07.951] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:28:07.952] [DEBUG] Worker thread started
[2025-12-23 13:28:07.952] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:28:07.953] [INFO] Connection established and handshake initiated
[2025-12-23 13:28:07.953] [INFO] Successfully connected to server
[2025-12-23 13:28:07.953] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:28:07.953] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:28:07.956] [INFO] Client loop started.
[2025-12-23 13:28:07.962] [DEBUG] Configuring room table properties...
[2025-12-23 13:28:07.963] [DEBUG] Room table properties configured
[2025-12-23 13:28:07.963] [DEBUG] Initializing room table...
[2025-12-23 13:28:07.965] [DEBUG] Initializing player list...
[2025-12-23 13:28:07.965] [DEBUG] Setting up signals...
[2025-12-23 13:28:07.966] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:28:07.966] [DEBUG] Creating GameWidget...
[2025-12-23 13:28:07.973] [DEBUG] GameWidget UI initialized
[2025-12-23 13:28:07.973] [DEBUG] GameWidget signal connections established
[2025-12-23 13:28:07.974] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:28:07.974] [DEBUG] Creating GameManager instance...
[2025-12-23 13:28:07.974] [DEBUG] Setting up signal connections...
[2025-12-23 13:28:07.974] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:28:07.975] [DEBUG] localGame connection result: 1
[2025-12-23 13:28:07.975] [DEBUG] Initializing window components...
[2025-12-23 13:28:07.976] [DEBUG] Initializing window style...
[2025-12-23 13:28:07.989] [DEBUG] Set main window background to white
[2025-12-23 13:28:07.989] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:28:08.000] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:28:08.001] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:28:08.001] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:28:08.001] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:28:08.001] [DEBUG] Set window palette to white background
[2025-12-23 13:28:08.002] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:28:08.002] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:28:08.002] [DEBUG] Initializing layout...
[2025-12-23 13:28:08.002] [DEBUG] centralwidget found at address: 1452699813456
[2025-12-23 13:28:08.002] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:28:08.002] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:28:08.003] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:28:08.003] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:28:08.003] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:28:08.003] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:28:08.004] [DEBUG] Layout initialized successfully
[2025-12-23 13:28:08.004] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:28:08.004] [DEBUG] Initializing title bar components...
[2025-12-23 13:28:08.004] [DEBUG] titleBarWidget found at address: 1452699819552
[2025-12-23 13:28:08.004] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:28:08.005] [DEBUG] titleLabel found at address: 1452699821616
[2025-12-23 13:28:08.005] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:28:08.005] [DEBUG] minimizeButton found at address: 1452699837008
[2025-12-23 13:28:08.005] [DEBUG] maximizeButton found at address: 1452699840704
[2025-12-23 13:28:08.005] [DEBUG] closeButton found at address: 1452699851296
[2025-12-23 13:28:08.005] [DEBUG] Title bar initialization completed
[2025-12-23 13:28:08.006] [DEBUG] Initializing status bar components...
[2025-12-23 13:28:08.006] [DEBUG] statusBarWidget found
[2025-12-23 13:28:08.006] [DEBUG] statusMessageLabel found
[2025-12-23 13:28:08.006] [DEBUG] networkStatusButton found
[2025-12-23 13:28:08.006] [DEBUG] userInfoButton found
[2025-12-23 13:28:08.006] [DEBUG] Status bar initialization completed
[2025-12-23 13:28:08.007] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:28:08.007] [DEBUG] stackedWidget found in UI
[2025-12-23 13:28:08.020] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:28:08.020] [DEBUG] Creating ToastWidget...
[2025-12-23 13:28:08.022] [DEBUG] === Validating Window Background ===
[2025-12-23 13:28:08.022] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:28:08.022] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:28:08.022] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:28:08.023] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:28:08.023] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:28:08.023] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:28:08.024] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:28:08.024] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:28:08.024] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:28:08.024] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:28:10.404] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:28:13.520] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:28:13.521] [INFO] Reconnecting to server...
[2025-12-23 13:28:13.521] [INFO] Attempting to connect to server...
[2025-12-23 13:28:13.521] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:28:13.521] [ERROR] Connect failed: 10056
[2025-12-23 13:28:13.521] [ERROR] Failed to connect to server
[2025-12-23 13:28:14.965] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:28:14.966] [INFO] Reconnecting to server...
[2025-12-23 13:28:14.966] [INFO] Attempting to connect to server...
[2025-12-23 13:28:14.966] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:28:14.966] [ERROR] Connect failed: 10056
[2025-12-23 13:28:14.966] [ERROR] Failed to connect to server
[2025-12-23 13:28:24.559] [INFO] [Handshake] Received NewSession. ID: 17751210142088720006
[2025-12-23 13:28:24.559] [DEBUG] Saved server public key
[2025-12-23 13:28:24.574] [INFO] [Handshake] Session Activated!
[2025-12-23 13:28:24.574] [DEBUG] Calling sessionActivatedCallback with sessionId: 17751210142088720006
[2025-12-23 13:28:24.575] [INFO] Session activated callback received, sessionId: 17751210142088720006
[2025-12-23 13:28:30.692] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:28:30.693] [INFO] Reconnecting to server...
[2025-12-23 13:28:30.693] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:28:33.847] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:28:33.848] [INFO] Reconnecting to server...
[2025-12-23 13:28:33.848] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:28:34.625] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:28:34.625] [INFO] Reconnecting to server...
[2025-12-23 13:28:34.626] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:30:49.502] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:30:49.503] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:30:49.503] [DEBUG] Setting up UI...
[2025-12-23 13:30:49.523] [DEBUG] Creating Manager instance...
[2025-12-23 13:30:49.523] [INFO] Manager initialized for server
[2025-12-23 13:30:49.523] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:30:49.565] [DEBUG] Socket created successfully
[2025-12-23 13:30:49.565] [DEBUG] Session activated callback set
[2025-12-23 13:30:49.566] [INFO] Attempting to connect to server...
[2025-12-23 13:30:49.566] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:30:49.566] [INFO] Connected to server successfully!
[2025-12-23 13:30:49.567] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:30:49.569] [DEBUG] Worker thread started
[2025-12-23 13:30:49.569] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:30:49.569] [INFO] Connection established and handshake initiated
[2025-12-23 13:30:49.569] [INFO] Successfully connected to server
[2025-12-23 13:30:49.570] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:30:49.570] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:30:49.572] [INFO] Client loop started.
[2025-12-23 13:30:49.577] [DEBUG] Configuring room table properties...
[2025-12-23 13:30:49.577] [DEBUG] Room table properties configured
[2025-12-23 13:30:49.578] [DEBUG] Initializing room table...
[2025-12-23 13:30:49.580] [DEBUG] Initializing player list...
[2025-12-23 13:30:49.580] [DEBUG] Setting up signals...
[2025-12-23 13:30:49.580] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:30:49.580] [DEBUG] Creating GameWidget...
[2025-12-23 13:30:49.585] [DEBUG] GameWidget UI initialized
[2025-12-23 13:30:49.585] [DEBUG] GameWidget signal connections established
[2025-12-23 13:30:49.585] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:30:49.585] [DEBUG] Creating GameManager instance...
[2025-12-23 13:30:49.586] [DEBUG] Setting up signal connections...
[2025-12-23 13:30:49.586] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:30:49.586] [DEBUG] localGame connection result: 1
[2025-12-23 13:30:49.586] [DEBUG] Initializing window components...
[2025-12-23 13:30:49.586] [DEBUG] Initializing window style...
[2025-12-23 13:30:49.594] [INFO] [Handshake] Received NewSession. ID: 17751210142088720006
[2025-12-23 13:30:49.596] [DEBUG] Saved server public key
[2025-12-23 13:30:49.602] [DEBUG] Set main window background to white
[2025-12-23 13:30:49.602] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:30:49.610] [INFO] [Handshake] Session Activated!
[2025-12-23 13:30:49.610] [DEBUG] Calling sessionActivatedCallback with sessionId: 17751210142088720006
[2025-12-23 13:30:49.610] [INFO] Session activated callback received, sessionId: 17751210142088720006
[2025-12-23 13:30:49.613] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:30:49.614] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:30:49.614] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:30:49.614] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:30:49.614] [DEBUG] Set window palette to white background
[2025-12-23 13:30:49.615] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:30:49.615] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:30:49.615] [DEBUG] Initializing layout...
[2025-12-23 13:30:49.615] [DEBUG] centralwidget found at address: 2883793323600
[2025-12-23 13:30:49.616] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:30:49.616] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:30:49.616] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:30:49.616] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:30:49.617] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:30:49.617] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:30:49.617] [DEBUG] Layout initialized successfully
[2025-12-23 13:30:49.617] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:30:49.618] [DEBUG] Initializing title bar components...
[2025-12-23 13:30:49.618] [DEBUG] titleBarWidget found at address: 2883793329696
[2025-12-23 13:30:49.618] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:30:49.618] [DEBUG] titleLabel found at address: 2883793331760
[2025-12-23 13:30:49.618] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:30:49.619] [DEBUG] minimizeButton found at address: 2883793347152
[2025-12-23 13:30:49.619] [DEBUG] maximizeButton found at address: 2883793350848
[2025-12-23 13:30:49.619] [DEBUG] closeButton found at address: 2883793361440
[2025-12-23 13:30:49.619] [DEBUG] Title bar initialization completed
[2025-12-23 13:30:49.620] [DEBUG] Initializing status bar components...
[2025-12-23 13:30:49.620] [DEBUG] statusBarWidget found
[2025-12-23 13:30:49.620] [DEBUG] statusMessageLabel found
[2025-12-23 13:30:49.620] [DEBUG] networkStatusButton found
[2025-12-23 13:30:49.621] [DEBUG] userInfoButton found
[2025-12-23 13:30:49.621] [DEBUG] Status bar initialization completed
[2025-12-23 13:30:49.621] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:30:49.621] [DEBUG] stackedWidget found in UI
[2025-12-23 13:30:49.636] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:30:49.636] [DEBUG] Creating ToastWidget...
[2025-12-23 13:30:49.637] [DEBUG] === Validating Window Background ===
[2025-12-23 13:30:49.637] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:30:49.637] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:30:49.638] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:30:49.638] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:30:49.638] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:30:49.638] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:30:49.638] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:30:49.638] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:30:49.639] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:30:49.639] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:30:52.610] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:30:52.610] [INFO] Reconnecting to server...
[2025-12-23 13:30:52.611] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:30:53.251] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:30:53.251] [INFO] Reconnecting to server...
[2025-12-23 13:30:53.252] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:34:22.373] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:34:22.374] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:34:22.374] [DEBUG] Setting up UI...
[2025-12-23 13:34:22.398] [DEBUG] Creating Manager instance...
[2025-12-23 13:34:22.398] [INFO] Manager initialized for server
[2025-12-23 13:34:22.399] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:34:22.450] [DEBUG] Socket created successfully
[2025-12-23 13:34:22.450] [DEBUG] Session activated callback set
[2025-12-23 13:34:22.450] [INFO] Attempting to connect to server...
[2025-12-23 13:34:22.450] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:34:22.451] [INFO] Connected to server successfully!
[2025-12-23 13:34:22.451] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:34:22.452] [DEBUG] Worker thread started
[2025-12-23 13:34:22.452] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:34:22.453] [INFO] Connection established and handshake initiated
[2025-12-23 13:34:22.453] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:34:22.454] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:34:22.456] [INFO] Client loop started.
[2025-12-23 13:34:22.462] [DEBUG] Configuring room table properties...
[2025-12-23 13:34:22.463] [DEBUG] Room table properties configured
[2025-12-23 13:34:22.463] [DEBUG] Initializing room table...
[2025-12-23 13:34:22.465] [DEBUG] Initializing player list...
[2025-12-23 13:34:22.465] [DEBUG] Setting up signals...
[2025-12-23 13:34:22.466] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:34:22.466] [DEBUG] Creating GameWidget...
[2025-12-23 13:34:22.468] [INFO] [Handshake] Received NewSession. ID: 11954230252867901724
[2025-12-23 13:34:22.471] [DEBUG] Saved server public key
[2025-12-23 13:34:22.474] [DEBUG] GameWidget UI initialized
[2025-12-23 13:34:22.474] [DEBUG] GameWidget signal connections established
[2025-12-23 13:34:22.474] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:34:22.475] [DEBUG] Creating GameManager instance...
[2025-12-23 13:34:22.475] [DEBUG] Setting up signal connections...
[2025-12-23 13:34:22.475] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:34:22.475] [DEBUG] localGame connection result: 1
[2025-12-23 13:34:22.476] [DEBUG] Initializing window components...
[2025-12-23 13:34:22.476] [DEBUG] Initializing window style...
[2025-12-23 13:34:22.484] [INFO] [Handshake] Session Activated!
[2025-12-23 13:34:22.484] [DEBUG] Calling sessionActivatedCallback with sessionId: 11954230252867901724
[2025-12-23 13:34:22.484] [INFO] Session activated callback received, sessionId: 11954230252867901724
[2025-12-23 13:34:22.490] [DEBUG] Set main window background to white
[2025-12-23 13:34:22.490] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:34:22.502] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:34:22.502] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:34:22.502] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:34:22.502] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:34:22.503] [DEBUG] Set window palette to white background
[2025-12-23 13:34:22.503] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:34:22.503] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:34:22.504] [DEBUG] Initializing layout...
[2025-12-23 13:34:22.504] [DEBUG] centralwidget found at address: 1840777856592
[2025-12-23 13:34:22.505] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:34:22.505] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:34:22.505] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:34:22.505] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:34:22.506] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:34:22.506] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:34:22.506] [DEBUG] Layout initialized successfully
[2025-12-23 13:34:22.506] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:34:22.507] [DEBUG] Initializing title bar components...
[2025-12-23 13:34:22.507] [DEBUG] titleBarWidget found at address: 1840777862688
[2025-12-23 13:34:22.507] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:34:22.507] [DEBUG] titleLabel found at address: 1840777864752
[2025-12-23 13:34:22.507] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:34:22.508] [DEBUG] minimizeButton found at address: 1840777880144
[2025-12-23 13:34:22.508] [DEBUG] maximizeButton found at address: 1840777883840
[2025-12-23 13:34:22.508] [DEBUG] closeButton found at address: 1840777894432
[2025-12-23 13:34:22.508] [DEBUG] Title bar initialization completed
[2025-12-23 13:34:22.508] [DEBUG] Initializing status bar components...
[2025-12-23 13:34:22.509] [DEBUG] statusBarWidget found
[2025-12-23 13:34:22.509] [DEBUG] statusMessageLabel found
[2025-12-23 13:34:22.509] [DEBUG] networkStatusButton found
[2025-12-23 13:34:22.509] [DEBUG] userInfoButton found
[2025-12-23 13:34:22.510] [DEBUG] Status bar initialization completed
[2025-12-23 13:34:22.510] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:34:22.510] [DEBUG] stackedWidget found in UI
[2025-12-23 13:34:22.523] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:34:22.524] [DEBUG] Creating ToastWidget...
[2025-12-23 13:34:22.525] [DEBUG] === Validating Window Background ===
[2025-12-23 13:34:22.526] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:34:22.526] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:34:22.526] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:34:22.526] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:34:22.527] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:34:22.527] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:34:22.527] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:34:22.527] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:34:22.528] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:34:22.528] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:34:38.948] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:34:43.619] [DEBUG] User chose to login with account
[2025-12-23 13:34:48.948] [INFO] Login attempt for user: admin
[2025-12-23 13:34:48.949] [DEBUG] Login packet created with session ID: 11954230252867901724
[2025-12-23 13:34:48.949] [DEBUG] Sending login packet...
[2025-12-23 13:34:48.949] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:34:48.949] [INFO] Login request sent for user: admin
[2025-12-23 13:34:48.958] [DEBUG] Received Active frame.
[2025-12-23 13:36:47.053] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:36:49.997] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:36:51.179] [DEBUG] User chose to login as guest
[2025-12-23 13:36:51.180] [INFO] Logging in as guest
[2025-12-23 13:36:51.180] [DEBUG] Sent packet (type: 258)
[2025-12-23 13:36:51.275] [DEBUG] Received Active frame.
[2025-12-23 13:40:14.507] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:40:14.508] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:40:14.508] [DEBUG] Setting up UI...
[2025-12-23 13:40:14.530] [DEBUG] Creating Manager instance...
[2025-12-23 13:40:14.530] [INFO] Manager initialized for server
[2025-12-23 13:40:14.530] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:40:14.581] [DEBUG] Socket created successfully
[2025-12-23 13:40:14.581] [DEBUG] Session activated callback set
[2025-12-23 13:40:14.581] [INFO] Attempting to connect to server...
[2025-12-23 13:40:14.581] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:40:14.582] [INFO] Connected to server successfully!
[2025-12-23 13:40:14.582] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:40:14.583] [DEBUG] Worker thread started
[2025-12-23 13:40:14.583] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:40:14.584] [INFO] Connection established and handshake initiated
[2025-12-23 13:40:14.584] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:40:14.584] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:40:14.588] [INFO] Client loop started.
[2025-12-23 13:40:14.593] [DEBUG] Configuring room table properties...
[2025-12-23 13:40:14.593] [DEBUG] Room table properties configured
[2025-12-23 13:40:14.593] [DEBUG] Initializing room table...
[2025-12-23 13:40:14.595] [DEBUG] Initializing player list...
[2025-12-23 13:40:14.596] [DEBUG] Setting up signals...
[2025-12-23 13:40:14.596] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:40:14.596] [DEBUG] Creating GameWidget...
[2025-12-23 13:40:14.603] [INFO] [Handshake] Received NewSession. ID: 11954230252867901724
[2025-12-23 13:40:14.603] [DEBUG] GameWidget UI initialized
[2025-12-23 13:40:14.604] [DEBUG] GameWidget signal connections established
[2025-12-23 13:40:14.604] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:40:14.604] [DEBUG] Creating GameManager instance...
[2025-12-23 13:40:14.605] [DEBUG] Setting up signal connections...
[2025-12-23 13:40:14.605] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:40:14.605] [DEBUG] Saved server public key
[2025-12-23 13:40:14.606] [DEBUG] localGame connection result: 1
[2025-12-23 13:40:14.606] [DEBUG] Initializing window components...
[2025-12-23 13:40:14.606] [DEBUG] Initializing window style...
[2025-12-23 13:40:14.619] [INFO] [Handshake] Session Activated!
[2025-12-23 13:40:14.619] [DEBUG] Calling sessionActivatedCallback with sessionId: 11954230252867901724
[2025-12-23 13:40:14.620] [INFO] Session activated callback received, sessionId: 11954230252867901724
[2025-12-23 13:40:14.622] [DEBUG] Set main window background to white
[2025-12-23 13:40:14.622] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:40:14.632] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:40:14.632] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:40:14.633] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:40:14.633] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:40:14.634] [DEBUG] Set window palette to white background
[2025-12-23 13:40:14.634] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:40:14.634] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:40:14.634] [DEBUG] Initializing layout...
[2025-12-23 13:40:14.635] [DEBUG] centralwidget found at address: 2483954452048
[2025-12-23 13:40:14.635] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:40:14.635] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:40:14.635] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:40:14.635] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:40:14.636] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:40:14.636] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:40:14.636] [DEBUG] Layout initialized successfully
[2025-12-23 13:40:14.636] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:40:14.636] [DEBUG] Initializing title bar components...
[2025-12-23 13:40:14.637] [DEBUG] titleBarWidget found at address: 2483954458144
[2025-12-23 13:40:14.637] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:40:14.637] [DEBUG] titleLabel found at address: 2483954460208
[2025-12-23 13:40:14.637] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:40:14.637] [DEBUG] minimizeButton found at address: 2483954475600
[2025-12-23 13:40:14.638] [DEBUG] maximizeButton found at address: 2483954479296
[2025-12-23 13:40:14.638] [DEBUG] closeButton found at address: 2483954489888
[2025-12-23 13:40:14.638] [DEBUG] Title bar initialization completed
[2025-12-23 13:40:14.638] [DEBUG] Initializing status bar components...
[2025-12-23 13:40:14.638] [DEBUG] statusBarWidget found
[2025-12-23 13:40:14.639] [DEBUG] statusMessageLabel found
[2025-12-23 13:40:14.639] [DEBUG] networkStatusButton found
[2025-12-23 13:40:14.639] [DEBUG] userInfoButton found
[2025-12-23 13:40:14.639] [DEBUG] Status bar initialization completed
[2025-12-23 13:40:14.640] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:40:14.640] [DEBUG] stackedWidget found in UI
[2025-12-23 13:40:14.656] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:40:14.657] [DEBUG] Creating ToastWidget...
[2025-12-23 13:40:14.658] [DEBUG] === Validating Window Background ===
[2025-12-23 13:40:14.659] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:40:14.659] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:40:14.659] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:40:14.660] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:40:14.660] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:40:14.660] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:40:14.661] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:40:14.661] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:40:14.661] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:40:14.661] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:40:17.339] [DEBUG] Creating room
[2025-12-23 13:40:17.340] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:40:17.352] [DEBUG] Received Active frame.
[2025-12-23 13:45:00.255] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:45:00.255] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:45:00.256] [DEBUG] Setting up UI...
[2025-12-23 13:45:00.282] [DEBUG] Creating Manager instance...
[2025-12-23 13:45:00.283] [INFO] Manager initialized for server
[2025-12-23 13:45:00.283] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:45:00.331] [DEBUG] Socket created successfully
[2025-12-23 13:45:00.331] [DEBUG] Session activated callback set
[2025-12-23 13:45:00.331] [INFO] Attempting to connect to server...
[2025-12-23 13:45:00.332] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:45:00.332] [INFO] Connected to server successfully!
[2025-12-23 13:45:00.333] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:45:00.333] [DEBUG] Worker thread started
[2025-12-23 13:45:00.334] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:45:00.334] [INFO] Connection established and handshake initiated
[2025-12-23 13:45:00.334] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:45:00.335] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:45:00.338] [INFO] Client loop started.
[2025-12-23 13:45:00.342] [DEBUG] Configuring room table properties...
[2025-12-23 13:45:00.343] [DEBUG] Room table properties configured
[2025-12-23 13:45:00.343] [DEBUG] Initializing room table...
[2025-12-23 13:45:00.345] [DEBUG] Initializing player list...
[2025-12-23 13:45:00.346] [DEBUG] Setting up signals...
[2025-12-23 13:45:00.346] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:45:00.347] [DEBUG] Creating GameWidget...
[2025-12-23 13:45:00.349] [INFO] [Handshake] Received NewSession. ID: 4469892529539269579
[2025-12-23 13:45:00.352] [DEBUG] Saved server public key
[2025-12-23 13:45:00.355] [DEBUG] GameWidget UI initialized
[2025-12-23 13:45:00.355] [DEBUG] GameWidget signal connections established
[2025-12-23 13:45:00.355] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:45:00.356] [DEBUG] Creating GameManager instance...
[2025-12-23 13:45:00.356] [DEBUG] Setting up signal connections...
[2025-12-23 13:45:00.356] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:45:00.357] [DEBUG] localGame connection result: 1
[2025-12-23 13:45:00.357] [DEBUG] Initializing window components...
[2025-12-23 13:45:00.358] [DEBUG] Initializing window style...
[2025-12-23 13:45:00.365] [INFO] [Handshake] Session Activated!
[2025-12-23 13:45:00.365] [DEBUG] Calling sessionActivatedCallback with sessionId: 4469892529539269579
[2025-12-23 13:45:00.366] [INFO] Session activated callback received, sessionId: 4469892529539269579
[2025-12-23 13:45:00.375] [DEBUG] Set main window background to white
[2025-12-23 13:45:00.376] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:45:00.388] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:45:00.389] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:45:00.389] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:45:00.389] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:45:00.390] [DEBUG] Set window palette to white background
[2025-12-23 13:45:00.390] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:45:00.390] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:45:00.391] [DEBUG] Initializing layout...
[2025-12-23 13:45:00.391] [DEBUG] centralwidget found at address: 1713548953168
[2025-12-23 13:45:00.391] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:45:00.392] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:45:00.392] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:45:00.392] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:45:00.392] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:45:00.393] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:45:00.393] [DEBUG] Layout initialized successfully
[2025-12-23 13:45:00.393] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:45:00.393] [DEBUG] Initializing title bar components...
[2025-12-23 13:45:00.393] [DEBUG] titleBarWidget found at address: 1713548959264
[2025-12-23 13:45:00.394] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:45:00.394] [DEBUG] titleLabel found at address: 1713548961328
[2025-12-23 13:45:00.394] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:45:00.394] [DEBUG] minimizeButton found at address: 1713548976720
[2025-12-23 13:45:00.395] [DEBUG] maximizeButton found at address: 1713548980416
[2025-12-23 13:45:00.395] [DEBUG] closeButton found at address: 1713548991008
[2025-12-23 13:45:00.395] [DEBUG] Title bar initialization completed
[2025-12-23 13:45:00.396] [DEBUG] Initializing status bar components...
[2025-12-23 13:45:00.396] [DEBUG] statusBarWidget found
[2025-12-23 13:45:00.396] [DEBUG] statusMessageLabel found
[2025-12-23 13:45:00.397] [DEBUG] networkStatusButton found
[2025-12-23 13:45:00.397] [DEBUG] userInfoButton found
[2025-12-23 13:45:00.397] [DEBUG] Status bar initialization completed
[2025-12-23 13:45:00.398] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:45:00.398] [DEBUG] stackedWidget found in UI
[2025-12-23 13:45:00.414] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:45:00.414] [DEBUG] Creating ToastWidget...
[2025-12-23 13:45:00.416] [DEBUG] === Validating Window Background ===
[2025-12-23 13:45:00.417] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:45:00.417] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:45:00.417] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:45:00.418] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:45:00.418] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:45:00.418] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:45:00.419] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:45:00.419] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:45:00.419] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:45:00.419] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:45:06.133] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:45:07.134] [DEBUG] User chose to login as guest
[2025-12-23 13:45:07.135] [INFO] Logging in as guest
[2025-12-23 13:45:07.135] [DEBUG] Sent packet (type: 258)
[2025-12-23 13:45:07.144] [DEBUG] Received Active frame.
[2025-12-23 13:45:14.660] [DEBUG] Received packet (type: 258)
[2025-12-23 13:45:29.099] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:45:30.120] [DEBUG] User chose to login as guest
[2025-12-23 13:45:30.121] [INFO] Logging in as guest
[2025-12-23 13:45:30.121] [DEBUG] Sent packet (type: 258)
[2025-12-23 13:45:30.125] [DEBUG] Received Active frame.
[2025-12-23 13:45:30.125] [DEBUG] Received packet (type: 258)
[2025-12-23 13:45:32.551] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:45:38.865] [DEBUG] User chose to login with account
[2025-12-23 13:45:45.316] [INFO] Login attempt for user: admin
[2025-12-23 13:45:45.316] [DEBUG] Login packet created with session ID: 4469892529539269579
[2025-12-23 13:45:45.317] [DEBUG] Sending login packet...
[2025-12-23 13:45:45.317] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:45:45.317] [INFO] Login request sent for user: admin
[2025-12-23 13:45:45.328] [DEBUG] Received Active frame.
[2025-12-23 13:45:45.328] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:46:11.382] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:46:13.133] [DEBUG] User chose to sign up
[2025-12-23 13:46:18.095] [INFO] Signin attempt for user: admin
[2025-12-23 13:46:18.095] [DEBUG] Sent packet (type: 257)
[2025-12-23 13:46:18.107] [DEBUG] Received Active frame.
[2025-12-23 13:46:18.107] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:46:21.333] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:46:22.197] [DEBUG] User chose to login with account
[2025-12-23 13:46:27.414] [INFO] Login attempt for user: admin
[2025-12-23 13:46:27.414] [DEBUG] Login packet created with session ID: 4469892529539269579
[2025-12-23 13:46:27.414] [DEBUG] Sending login packet...
[2025-12-23 13:46:27.414] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:46:27.415] [INFO] Login request sent for user: admin
[2025-12-23 13:46:27.425] [DEBUG] Received Active frame.
[2025-12-23 13:46:27.425] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:46:30.030] [DEBUG] Creating room
[2025-12-23 13:46:30.031] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:46:30.039] [DEBUG] Received Active frame.
[2025-12-23 13:46:30.039] [DEBUG] Received packet (type: 512)
[2025-12-23 13:48:10.874] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:48:10.874] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:48:10.874] [DEBUG] Setting up UI...
[2025-12-23 13:48:10.892] [DEBUG] Creating Manager instance...
[2025-12-23 13:48:10.892] [INFO] Manager initialized for server
[2025-12-23 13:48:10.892] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:48:10.935] [DEBUG] Socket created successfully
[2025-12-23 13:48:10.935] [DEBUG] Session activated callback set
[2025-12-23 13:48:10.935] [INFO] Attempting to connect to server...
[2025-12-23 13:48:10.935] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:48:10.936] [INFO] Connected to server successfully!
[2025-12-23 13:48:10.937] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:48:10.937] [DEBUG] Worker thread started
[2025-12-23 13:48:10.939] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:48:10.940] [INFO] Connection established and handshake initiated
[2025-12-23 13:48:10.940] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:48:10.940] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:48:10.942] [INFO] Client loop started.
[2025-12-23 13:48:10.949] [DEBUG] Configuring room table properties...
[2025-12-23 13:48:10.950] [DEBUG] Room table properties configured
[2025-12-23 13:48:10.950] [DEBUG] Initializing room table...
[2025-12-23 13:48:10.953] [DEBUG] Initializing player list...
[2025-12-23 13:48:10.953] [DEBUG] Setting up signals...
[2025-12-23 13:48:10.953] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:48:10.954] [DEBUG] Creating GameWidget...
[2025-12-23 13:48:10.955] [DEBUG] [Handshake] Received NewSession. ID: 5907647573473888364
[2025-12-23 13:48:10.958] [DEBUG] Saved server public key
[2025-12-23 13:48:10.960] [DEBUG] GameWidget UI initialized
[2025-12-23 13:48:10.961] [DEBUG] GameWidget signal connections established
[2025-12-23 13:48:10.961] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:48:10.961] [DEBUG] Creating GameManager instance...
[2025-12-23 13:48:10.961] [DEBUG] Setting up signal connections...
[2025-12-23 13:48:10.962] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:48:10.962] [DEBUG] localGame connection result: 1
[2025-12-23 13:48:10.963] [DEBUG] Initializing window components...
[2025-12-23 13:48:10.963] [DEBUG] Initializing window style...
[2025-12-23 13:48:10.970] [INFO] [Handshake] Session Activated!
[2025-12-23 13:48:10.970] [DEBUG] Calling sessionActivatedCallback with sessionId: 5907647573473888364
[2025-12-23 13:48:10.971] [INFO] Session activated callback received, sessionId: 5907647573473888364
[2025-12-23 13:48:10.976] [DEBUG] Set main window background to white
[2025-12-23 13:48:10.976] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:48:10.987] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:48:10.988] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:48:10.988] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:48:10.988] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:48:10.988] [DEBUG] Set window palette to white background
[2025-12-23 13:48:10.988] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:48:10.989] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:48:10.989] [DEBUG] Initializing layout...
[2025-12-23 13:48:10.989] [DEBUG] centralwidget found at address: 2588149876304
[2025-12-23 13:48:10.989] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:48:10.989] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:48:10.990] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:48:10.990] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:48:10.990] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:48:10.990] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:48:10.990] [DEBUG] Layout initialized successfully
[2025-12-23 13:48:10.990] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:48:10.991] [DEBUG] Initializing title bar components...
[2025-12-23 13:48:10.991] [DEBUG] titleBarWidget found at address: 2588149882400
[2025-12-23 13:48:10.991] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:48:10.991] [DEBUG] titleLabel found at address: 2588149884464
[2025-12-23 13:48:10.991] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:48:10.991] [DEBUG] minimizeButton found at address: 2588149899856
[2025-12-23 13:48:10.992] [DEBUG] maximizeButton found at address: 2588149903552
[2025-12-23 13:48:10.992] [DEBUG] closeButton found at address: 2588149914144
[2025-12-23 13:48:10.992] [DEBUG] Title bar initialization completed
[2025-12-23 13:48:10.992] [DEBUG] Initializing status bar components...
[2025-12-23 13:48:10.992] [DEBUG] statusBarWidget found
[2025-12-23 13:48:10.992] [DEBUG] statusMessageLabel found
[2025-12-23 13:48:10.992] [DEBUG] networkStatusButton found
[2025-12-23 13:48:10.993] [DEBUG] userInfoButton found
[2025-12-23 13:48:10.993] [DEBUG] Status bar initialization completed
[2025-12-23 13:48:10.993] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:48:10.994] [DEBUG] stackedWidget found in UI
[2025-12-23 13:48:11.007] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:48:11.008] [DEBUG] Creating ToastWidget...
[2025-12-23 13:48:11.009] [DEBUG] === Validating Window Background ===
[2025-12-23 13:48:11.009] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:48:11.009] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:48:11.009] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:48:11.010] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:48:11.010] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:48:11.010] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:48:11.010] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:48:11.011] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:48:11.011] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:48:11.011] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:48:14.095] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:48:15.099] [DEBUG] User chose to login with account
[2025-12-23 13:48:23.072] [INFO] Login attempt for user: admin
[2025-12-23 13:48:23.073] [DEBUG] Login packet created with session ID: 5907647573473888364
[2025-12-23 13:48:23.073] [DEBUG] Sending login packet...
[2025-12-23 13:48:23.073] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:48:23.073] [INFO] Login request sent for user: admin
[2025-12-23 13:48:23.078] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:48:37.171] [DEBUG] Creating room
[2025-12-23 13:48:37.171] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:48:42.761] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:48:46.924] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:48:47.684] [DEBUG] User chose to sign up
[2025-12-23 13:48:52.808] [INFO] Signin attempt for user: admin
[2025-12-23 13:48:52.808] [DEBUG] Sent packet (type: 257)
[2025-12-23 13:48:52.820] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:48:54.589] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:48:55.416] [DEBUG] User chose to login with account
[2025-12-23 13:49:03.592] [INFO] Login attempt for user: admin
[2025-12-23 13:49:03.593] [DEBUG] Login packet created with session ID: 5907647573473888364
[2025-12-23 13:49:03.593] [DEBUG] Sending login packet...
[2025-12-23 13:49:03.593] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:49:03.594] [INFO] Login request sent for user: admin
[2025-12-23 13:49:03.597] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:49:08.913] [DEBUG] Creating room
[2025-12-23 13:49:08.913] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:49:37.503] [WARN] Server disconnected.
[2025-12-23 13:50:07.458] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:50:09.578] [DEBUG] User chose to login with account
[2025-12-23 13:50:12.259] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 13:50:12.260] [INFO] Reconnecting to server...
[2025-12-23 13:50:12.260] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 13:50:13.160] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:50:14.236] [DEBUG] User chose to login with account
[2025-12-23 13:50:18.820] [INFO] Login attempt for user: admin
[2025-12-23 13:50:18.820] [DEBUG] Login packet created with session ID: 5907647573473888364
[2025-12-23 13:50:18.820] [DEBUG] Sending login packet...
[2025-12-23 13:50:18.820] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:50:18.820] [ERROR] Socket not connected.
[2025-12-23 13:50:18.820] [INFO] Login request sent for user: admin
[2025-12-23 13:56:18.451] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:56:18.451] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:56:18.452] [DEBUG] Setting up UI...
[2025-12-23 13:56:18.488] [DEBUG] Creating Manager instance...
[2025-12-23 13:56:18.488] [INFO] Manager initialized for server
[2025-12-23 13:56:18.489] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:56:18.543] [DEBUG] Socket created successfully
[2025-12-23 13:56:18.543] [DEBUG] Session activated callback set
[2025-12-23 13:56:18.544] [INFO] Attempting to connect to server...
[2025-12-23 13:56:18.544] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:56:18.544] [INFO] Connected to server successfully!
[2025-12-23 13:56:18.545] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:56:18.545] [DEBUG] Worker thread started
[2025-12-23 13:56:18.546] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:56:18.546] [INFO] Connection established and handshake initiated
[2025-12-23 13:56:18.546] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:56:18.547] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:56:18.549] [INFO] Client loop started.
[2025-12-23 13:56:18.556] [DEBUG] Configuring room table properties...
[2025-12-23 13:56:18.557] [DEBUG] Room table properties configured
[2025-12-23 13:56:18.557] [DEBUG] Initializing room table...
[2025-12-23 13:56:18.558] [DEBUG] Initializing player list...
[2025-12-23 13:56:18.558] [DEBUG] Setting up signals...
[2025-12-23 13:56:18.559] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:56:18.559] [DEBUG] Creating GameWidget...
[2025-12-23 13:56:18.564] [DEBUG] GameWidget UI initialized
[2025-12-23 13:56:18.564] [DEBUG] GameWidget signal connections established
[2025-12-23 13:56:18.564] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:56:18.564] [DEBUG] Creating GameManager instance...
[2025-12-23 13:56:18.565] [DEBUG] Setting up signal connections...
[2025-12-23 13:56:18.565] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:56:18.565] [DEBUG] localGame connection result: 1
[2025-12-23 13:56:18.565] [DEBUG] Initializing window components...
[2025-12-23 13:56:18.566] [DEBUG] Initializing window style...
[2025-12-23 13:56:18.577] [DEBUG] [Handshake] Received NewSession. ID: 14260273769062109102
[2025-12-23 13:56:18.579] [DEBUG] Saved server public key
[2025-12-23 13:56:18.582] [DEBUG] Set main window background to white
[2025-12-23 13:56:18.582] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:56:18.593] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:56:18.593] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:56:18.593] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:56:18.594] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:56:18.594] [DEBUG] Set window palette to white background
[2025-12-23 13:56:18.594] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:56:18.594] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:56:18.595] [DEBUG] Initializing layout...
[2025-12-23 13:56:18.595] [DEBUG] centralwidget found at address: 2501401052752
[2025-12-23 13:56:18.595] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:56:18.595] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:56:18.595] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:56:18.596] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:56:18.596] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:56:18.596] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:56:18.596] [DEBUG] Layout initialized successfully
[2025-12-23 13:56:18.597] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:56:18.597] [DEBUG] Initializing title bar components...
[2025-12-23 13:56:18.597] [DEBUG] titleBarWidget found at address: 2501401058848
[2025-12-23 13:56:18.597] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:56:18.597] [DEBUG] titleLabel found at address: 2501401060912
[2025-12-23 13:56:18.598] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:56:18.598] [DEBUG] minimizeButton found at address: 2501401076304
[2025-12-23 13:56:18.598] [DEBUG] maximizeButton found at address: 2501401080000
[2025-12-23 13:56:18.598] [DEBUG] closeButton found at address: 2501401090592
[2025-12-23 13:56:18.598] [DEBUG] Title bar initialization completed
[2025-12-23 13:56:18.599] [DEBUG] Initializing status bar components...
[2025-12-23 13:56:18.599] [DEBUG] statusBarWidget found
[2025-12-23 13:56:18.599] [DEBUG] statusMessageLabel found
[2025-12-23 13:56:18.599] [DEBUG] networkStatusButton found
[2025-12-23 13:56:18.600] [DEBUG] userInfoButton found
[2025-12-23 13:56:18.600] [DEBUG] Status bar initialization completed
[2025-12-23 13:56:18.600] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:56:18.600] [DEBUG] stackedWidget found in UI
[2025-12-23 13:56:18.601] [INFO] [Handshake] Session Activated!
[2025-12-23 13:56:18.601] [DEBUG] Calling sessionActivatedCallback with sessionId: 14260273769062109102
[2025-12-23 13:56:18.602] [INFO] Session activated callback received, sessionId: 14260273769062109102
[2025-12-23 13:56:18.617] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:56:18.617] [DEBUG] Creating ToastWidget...
[2025-12-23 13:56:18.619] [DEBUG] === Validating Window Background ===
[2025-12-23 13:56:18.619] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:56:18.619] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:56:18.619] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:56:18.620] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:56:18.620] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:56:18.620] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:56:18.620] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:56:18.621] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:56:18.621] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:56:18.621] [INFO] MainWindow initialization completed successfully
[2025-12-23 13:56:42.932] [DEBUG] Creating room
[2025-12-23 13:56:42.932] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:56:50.168] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:56:57.225] [DEBUG] Creating room
[2025-12-23 13:56:57.226] [DEBUG] Sent packet (type: 512)
[2025-12-23 13:56:59.685] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:57:04.002] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 13:57:05.318] [DEBUG] User chose to login with account
[2025-12-23 13:57:10.741] [INFO] Login attempt for user: admin
[2025-12-23 13:57:10.741] [DEBUG] Login packet created with session ID: 14260273769062109102
[2025-12-23 13:57:10.741] [DEBUG] Sending login packet...
[2025-12-23 13:57:10.742] [DEBUG] Sent packet (type: 256)
[2025-12-23 13:57:10.742] [INFO] Login request sent for user: admin
[2025-12-23 13:57:10.759] [DEBUG] Received packet (type: 65535)
[2025-12-23 13:58:43.383] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 13:58:43.383] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 13:58:43.383] [DEBUG] Setting up UI...
[2025-12-23 13:58:43.410] [DEBUG] Creating Manager instance...
[2025-12-23 13:58:43.411] [INFO] Manager initialized for server
[2025-12-23 13:58:43.411] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 13:58:43.460] [DEBUG] Socket created successfully
[2025-12-23 13:58:43.461] [DEBUG] Session activated callback set
[2025-12-23 13:58:43.461] [INFO] Attempting to connect to server...
[2025-12-23 13:58:43.461] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 13:58:43.462] [INFO] Connected to server successfully!
[2025-12-23 13:58:43.462] [DEBUG] Socket set to non-blocking mode
[2025-12-23 13:58:43.463] [DEBUG] Worker thread started
[2025-12-23 13:58:43.463] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 13:58:43.464] [INFO] Connection established and handshake initiated
[2025-12-23 13:58:43.464] [DEBUG] Creating LobbyWidget...
[2025-12-23 13:58:43.464] [DEBUG] LobbyWidget Initializing...
[2025-12-23 13:58:43.468] [INFO] Client loop started.
[2025-12-23 13:58:43.473] [DEBUG] Configuring room table properties...
[2025-12-23 13:58:43.473] [DEBUG] Room table properties configured
[2025-12-23 13:58:43.474] [DEBUG] Initializing room table...
[2025-12-23 13:58:43.475] [DEBUG] Initializing player list...
[2025-12-23 13:58:43.475] [DEBUG] Setting up signals...
[2025-12-23 13:58:43.476] [INFO] LobbyWidget initialized successfully
[2025-12-23 13:58:43.476] [DEBUG] Creating GameWidget...
[2025-12-23 13:58:43.481] [DEBUG] GameWidget UI initialized
[2025-12-23 13:58:43.482] [DEBUG] GameWidget signal connections established
[2025-12-23 13:58:43.482] [DEBUG] GameWidget constructed successfully
[2025-12-23 13:58:43.483] [DEBUG] Creating GameManager instance...
[2025-12-23 13:58:43.483] [DEBUG] Setting up signal connections...
[2025-12-23 13:58:43.484] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 13:58:43.484] [DEBUG] localGame connection result: 1
[2025-12-23 13:58:43.484] [DEBUG] Initializing window components...
[2025-12-23 13:58:43.484] [DEBUG] Initializing window style...
[2025-12-23 13:58:43.493] [DEBUG] [Handshake] Received NewSession. ID: 1708901694497784963
[2025-12-23 13:58:43.496] [DEBUG] Saved server public key
[2025-12-23 13:58:43.500] [DEBUG] Set main window background to white
[2025-12-23 13:58:43.500] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 13:58:43.511] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 13:58:43.511] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 13:58:43.512] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 13:58:43.512] [DEBUG] Window size set to: 1000x700
[2025-12-23 13:58:43.512] [DEBUG] Set window palette to white background
[2025-12-23 13:58:43.513] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 13:58:43.513] [DEBUG] Window background role color: #ffffff
[2025-12-23 13:58:43.513] [DEBUG] Initializing layout...
[2025-12-23 13:58:43.513] [DEBUG] centralwidget found at address: 2211587556944
[2025-12-23 13:58:43.514] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 13:58:43.514] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 13:58:43.514] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 13:58:43.514] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 13:58:43.514] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 13:58:43.515] [DEBUG] Set centralwidget palette to white background
[2025-12-23 13:58:43.515] [DEBUG] Layout initialized successfully
[2025-12-23 13:58:43.515] [DEBUG] Initializing title bar and status bar...
[2025-12-23 13:58:43.515] [DEBUG] Initializing title bar components...
[2025-12-23 13:58:43.515] [DEBUG] titleBarWidget found at address: 2211587563040
[2025-12-23 13:58:43.515] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 13:58:43.516] [DEBUG] titleLabel found at address: 2211587565104
[2025-12-23 13:58:43.516] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 13:58:43.516] [DEBUG] minimizeButton found at address: 2211587580496
[2025-12-23 13:58:43.516] [DEBUG] maximizeButton found at address: 2211587584192
[2025-12-23 13:58:43.516] [DEBUG] closeButton found at address: 2211587594784
[2025-12-23 13:58:43.517] [DEBUG] Title bar initialization completed
[2025-12-23 13:58:43.517] [DEBUG] Initializing status bar components...
[2025-12-23 13:58:43.517] [DEBUG] statusBarWidget found
[2025-12-23 13:58:43.517] [DEBUG] statusMessageLabel found
[2025-12-23 13:58:43.518] [DEBUG] networkStatusButton found
[2025-12-23 13:58:43.518] [DEBUG] userInfoButton found
[2025-12-23 13:58:43.518] [DEBUG] Status bar initialization completed
[2025-12-23 13:58:43.519] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 13:58:43.519] [DEBUG] stackedWidget found in UI
[2025-12-23 13:58:43.519] [INFO] [Handshake] Session Activated!
[2025-12-23 13:58:43.520] [DEBUG] Calling sessionActivatedCallback with sessionId: 1708901694497784963
[2025-12-23 13:58:43.520] [INFO] Session activated callback received, sessionId: 1708901694497784963
[2025-12-23 13:58:43.533] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 13:58:43.534] [DEBUG] Creating ToastWidget...
[2025-12-23 13:58:43.535] [DEBUG] === Validating Window Background ===
[2025-12-23 13:58:43.536] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 13:58:43.536] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 13:58:43.537] [INFO] CentralWidget background is correctly set to white
[2025-12-23 13:58:43.537] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 13:58:43.537] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 13:58:43.538] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 13:58:43.538] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 13:58:43.538] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 13:58:43.539] [DEBUG] === Background Validation Complete ===
[2025-12-23 13:58:43.539] [INFO] MainWindow initialization completed successfully
[2025-12-23 14:06:04.471] [DEBUG] Creating room
[2025-12-23 14:06:04.472] [DEBUG] Sent packet (type: 512)
[2025-12-23 14:06:11.457] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:06:15.324] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:06:17.064] [DEBUG] User chose to login with account
[2025-12-23 14:06:21.892] [INFO] Login attempt for user: admin
[2025-12-23 14:06:21.892] [DEBUG] Login packet created with session ID: 1708901694497784963
[2025-12-23 14:06:21.892] [DEBUG] Sending login packet...
[2025-12-23 14:06:21.892] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:06:21.893] [INFO] Login request sent for user: admin
[2025-12-23 14:06:21.899] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:07:50.006] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:07:51.165] [DEBUG] User chose to login with account
[2025-12-23 14:07:55.345] [INFO] Login attempt for user: admin
[2025-12-23 14:07:55.345] [DEBUG] Login packet created with session ID: 1708901694497784963
[2025-12-23 14:07:55.345] [DEBUG] Sending login packet...
[2025-12-23 14:07:55.345] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:07:55.346] [INFO] Login request sent for user: admin
[2025-12-23 14:08:08.349] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:08:17.751] [DEBUG] Creating room
[2025-12-23 14:08:17.752] [DEBUG] Sent packet (type: 512)
[2025-12-23 14:08:17.755] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:08:21.973] [DEBUG] Creating room
[2025-12-23 14:08:21.974] [DEBUG] Sent packet (type: 512)
[2025-12-23 14:08:21.976] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:08:25.562] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:08:26.575] [DEBUG] User chose to login with account
[2025-12-23 14:08:30.359] [INFO] Login attempt for user: admin
[2025-12-23 14:08:30.360] [DEBUG] Login packet created with session ID: 1708901694497784963
[2025-12-23 14:08:30.360] [DEBUG] Sending login packet...
[2025-12-23 14:08:30.360] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:08:30.360] [INFO] Login request sent for user: admin
[2025-12-23 14:08:33.835] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:08:58.644] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:08:59.637] [DEBUG] User chose to login with account
[2025-12-23 14:09:03.672] [INFO] Login attempt for user: admin
[2025-12-23 14:09:03.673] [DEBUG] Login packet created with session ID: 1708901694497784963
[2025-12-23 14:09:03.673] [DEBUG] Sending login packet...
[2025-12-23 14:09:03.673] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:09:03.673] [INFO] Login request sent for user: admin
[2025-12-23 14:09:03.746] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:09:58.906] [WARN] Server disconnected.
[2025-12-23 14:09:58.906] [DEBUG] Calling disconnectedCallback
[2025-12-23 14:09:58.906] [INFO] Disconnected from server callback triggered
[2025-12-23 14:10:21.468] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 14:10:21.468] [INFO] Reconnecting to server...
[2025-12-23 14:10:21.468] [INFO] Attempting to connect to server...
[2025-12-23 14:10:21.469] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:10:21.469] [ERROR] Connect failed: 10056
[2025-12-23 14:10:24.312] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 14:10:24.312] [INFO] Reconnecting to server...
[2025-12-23 14:10:24.313] [INFO] Attempting to connect to server...
[2025-12-23 14:10:24.313] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:10:24.313] [ERROR] Connect failed: 10056
[2025-12-23 14:10:28.392] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 14:10:28.392] [INFO] Reconnecting to server...
[2025-12-23 14:10:28.392] [INFO] Attempting to connect to server...
[2025-12-23 14:10:28.392] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:10:28.392] [ERROR] Connect failed: 10056
[2025-12-23 14:10:29.462] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 14:10:29.462] [INFO] Reconnecting to server...
[2025-12-23 14:10:29.462] [INFO] Attempting to connect to server...
[2025-12-23 14:10:29.462] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:10:29.462] [ERROR] Connect failed: 10056
[2025-12-23 14:15:03.946] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 14:15:03.946] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 14:15:03.946] [DEBUG] Setting up UI...
[2025-12-23 14:15:03.971] [DEBUG] Creating Manager instance...
[2025-12-23 14:15:03.971] [INFO] Manager initialized for server
[2025-12-23 14:15:03.972] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 14:15:04.023] [DEBUG] Socket created successfully
[2025-12-23 14:15:04.024] [DEBUG] Session activated callback set
[2025-12-23 14:15:04.024] [INFO] Attempting to connect to server...
[2025-12-23 14:15:04.024] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:15:04.025] [INFO] Connected to server successfully!
[2025-12-23 14:15:04.025] [DEBUG] Socket set to non-blocking mode
[2025-12-23 14:15:04.025] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:15:04.025] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 14:15:04.025] [DEBUG] Worker thread started
[2025-12-23 14:15:04.026] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 14:15:04.026] [INFO] Connection established and handshake initiated
[2025-12-23 14:15:04.027] [DEBUG] Creating LobbyWidget...
[2025-12-23 14:15:04.027] [DEBUG] LobbyWidget Initializing...
[2025-12-23 14:15:04.030] [INFO] Client loop started.
[2025-12-23 14:15:04.036] [DEBUG] Configuring room table properties...
[2025-12-23 14:15:04.036] [DEBUG] Room table properties configured
[2025-12-23 14:15:04.036] [DEBUG] Initializing room table...
[2025-12-23 14:15:04.038] [DEBUG] Initializing player list...
[2025-12-23 14:15:04.038] [DEBUG] Setting up signals...
[2025-12-23 14:15:04.039] [INFO] LobbyWidget initialized successfully
[2025-12-23 14:15:04.039] [DEBUG] Creating GameWidget...
[2025-12-23 14:15:04.045] [DEBUG] GameWidget UI initialized
[2025-12-23 14:15:04.045] [DEBUG] GameWidget signal connections established
[2025-12-23 14:15:04.045] [DEBUG] GameWidget constructed successfully
[2025-12-23 14:15:04.046] [DEBUG] Creating GameManager instance...
[2025-12-23 14:15:04.046] [DEBUG] Setting up signal connections...
[2025-12-23 14:15:04.046] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 14:15:04.046] [DEBUG] localGame connection result: 1
[2025-12-23 14:15:04.047] [DEBUG] Initializing window components...
[2025-12-23 14:15:04.047] [DEBUG] Initializing window style...
[2025-12-23 14:15:04.047] [DEBUG] [Handshake] Received NewSession. ID: 932389651985103776
[2025-12-23 14:15:04.050] [DEBUG] Saved server public key
[2025-12-23 14:15:04.059] [INFO] [Handshake] Session Activated!
[2025-12-23 14:15:04.059] [DEBUG] Calling sessionActivatedCallback with sessionId: 932389651985103776
[2025-12-23 14:15:04.059] [INFO] Session activated callback received, sessionId: 932389651985103776
[2025-12-23 14:15:04.062] [DEBUG] Set main window background to white
[2025-12-23 14:15:04.062] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 14:15:04.072] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 14:15:04.072] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 14:15:04.072] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 14:15:04.073] [DEBUG] Window size set to: 1000x700
[2025-12-23 14:15:04.073] [DEBUG] Set window palette to white background
[2025-12-23 14:15:04.073] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 14:15:04.073] [DEBUG] Window background role color: #ffffff
[2025-12-23 14:15:04.073] [DEBUG] Initializing layout...
[2025-12-23 14:15:04.074] [DEBUG] centralwidget found at address: 1828009608784
[2025-12-23 14:15:04.074] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 14:15:04.074] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 14:15:04.075] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 14:15:04.075] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 14:15:04.075] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 14:15:04.075] [DEBUG] Set centralwidget palette to white background
[2025-12-23 14:15:04.075] [DEBUG] Layout initialized successfully
[2025-12-23 14:15:04.076] [DEBUG] Initializing title bar and status bar...
[2025-12-23 14:15:04.076] [DEBUG] Initializing title bar components...
[2025-12-23 14:15:04.076] [DEBUG] titleBarWidget found at address: 1828009614880
[2025-12-23 14:15:04.076] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 14:15:04.076] [DEBUG] titleLabel found at address: 1828009616944
[2025-12-23 14:15:04.076] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 14:15:04.077] [DEBUG] minimizeButton found at address: 1828009632336
[2025-12-23 14:15:04.077] [DEBUG] maximizeButton found at address: 1828009636032
[2025-12-23 14:15:04.077] [DEBUG] closeButton found at address: 1828009646624
[2025-12-23 14:15:04.077] [DEBUG] Title bar initialization completed
[2025-12-23 14:15:04.077] [DEBUG] Initializing status bar components...
[2025-12-23 14:15:04.078] [DEBUG] statusBarWidget found
[2025-12-23 14:15:04.078] [DEBUG] statusMessageLabel found
[2025-12-23 14:15:04.078] [DEBUG] networkStatusButton found
[2025-12-23 14:15:04.078] [DEBUG] userInfoButton found
[2025-12-23 14:15:04.078] [DEBUG] Status bar initialization completed
[2025-12-23 14:15:04.079] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 14:15:04.079] [DEBUG] stackedWidget found in UI
[2025-12-23 14:15:04.093] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 14:15:04.093] [DEBUG] Creating ToastWidget...
[2025-12-23 14:15:04.094] [DEBUG] === Validating Window Background ===
[2025-12-23 14:15:04.095] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 14:15:04.095] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 14:15:04.095] [INFO] CentralWidget background is correctly set to white
[2025-12-23 14:15:04.095] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 14:15:04.095] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 14:15:04.096] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 14:15:04.096] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 14:15:04.096] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 14:15:04.096] [DEBUG] === Background Validation Complete ===
[2025-12-23 14:15:04.096] [INFO] MainWindow initialization completed successfully
[2025-12-23 14:15:09.901] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:15:15.715] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:15:16.596] [DEBUG] User chose to login with account
[2025-12-23 14:15:21.647] [INFO] Login attempt for user: admin
[2025-12-23 14:15:21.648] [DEBUG] Login packet created with session ID: 932389651985103776
[2025-12-23 14:15:21.648] [DEBUG] Sending login packet...
[2025-12-23 14:15:21.648] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:15:21.648] [INFO] Login request sent for user: admin
[2025-12-23 14:15:21.666] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:16:29.765] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 14:16:29.766] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 14:16:29.766] [DEBUG] Setting up UI...
[2025-12-23 14:16:29.792] [DEBUG] Creating Manager instance...
[2025-12-23 14:16:29.792] [INFO] Manager initialized for server
[2025-12-23 14:16:29.793] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 14:16:29.840] [DEBUG] Socket created successfully
[2025-12-23 14:16:29.840] [DEBUG] Session activated callback set
[2025-12-23 14:16:29.840] [INFO] Attempting to connect to server...
[2025-12-23 14:16:29.840] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:16:29.841] [INFO] Connected to server successfully!
[2025-12-23 14:16:29.842] [DEBUG] Socket set to non-blocking mode
[2025-12-23 14:16:29.842] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:16:29.842] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 14:16:29.843] [DEBUG] Worker thread started
[2025-12-23 14:16:29.843] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 14:16:29.844] [INFO] Connection established and handshake initiated
[2025-12-23 14:16:29.844] [DEBUG] Creating LobbyWidget...
[2025-12-23 14:16:29.844] [DEBUG] LobbyWidget Initializing...
[2025-12-23 14:16:29.847] [INFO] Client loop started.
[2025-12-23 14:16:29.854] [DEBUG] Configuring room table properties...
[2025-12-23 14:16:29.854] [DEBUG] Room table properties configured
[2025-12-23 14:16:29.855] [DEBUG] Initializing room table...
[2025-12-23 14:16:29.857] [DEBUG] Initializing player list...
[2025-12-23 14:16:29.857] [DEBUG] Setting up signals...
[2025-12-23 14:16:29.857] [INFO] LobbyWidget initialized successfully
[2025-12-23 14:16:29.858] [DEBUG] Creating GameWidget...
[2025-12-23 14:16:29.863] [DEBUG] GameWidget UI initialized
[2025-12-23 14:16:29.863] [DEBUG] GameWidget signal connections established
[2025-12-23 14:16:29.863] [DEBUG] GameWidget constructed successfully
[2025-12-23 14:16:29.864] [DEBUG] Creating GameManager instance...
[2025-12-23 14:16:29.864] [DEBUG] Setting up signal connections...
[2025-12-23 14:16:29.865] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 14:16:29.865] [DEBUG] localGame connection result: 1
[2025-12-23 14:16:29.865] [DEBUG] Initializing window components...
[2025-12-23 14:16:29.866] [DEBUG] Initializing window style...
[2025-12-23 14:16:29.872] [DEBUG] [Handshake] Received NewSession. ID: 2742165393123967157
[2025-12-23 14:16:29.875] [DEBUG] Saved server public key
[2025-12-23 14:16:29.880] [DEBUG] Set main window background to white
[2025-12-23 14:16:29.880] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 14:16:29.888] [INFO] [Handshake] Session Activated!
[2025-12-23 14:16:29.889] [DEBUG] Calling sessionActivatedCallback with sessionId: 2742165393123967157
[2025-12-23 14:16:29.889] [INFO] Session activated callback received, sessionId: 2742165393123967157
[2025-12-23 14:16:29.892] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 14:16:29.892] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 14:16:29.892] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 14:16:29.893] [DEBUG] Window size set to: 1000x700
[2025-12-23 14:16:29.893] [DEBUG] Set window palette to white background
[2025-12-23 14:16:29.893] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 14:16:29.893] [DEBUG] Window background role color: #ffffff
[2025-12-23 14:16:29.894] [DEBUG] Initializing layout...
[2025-12-23 14:16:29.894] [DEBUG] centralwidget found at address: 2282772563536
[2025-12-23 14:16:29.894] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 14:16:29.894] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 14:16:29.895] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 14:16:29.895] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 14:16:29.895] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 14:16:29.895] [DEBUG] Set centralwidget palette to white background
[2025-12-23 14:16:29.896] [DEBUG] Layout initialized successfully
[2025-12-23 14:16:29.896] [DEBUG] Initializing title bar and status bar...
[2025-12-23 14:16:29.896] [DEBUG] Initializing title bar components...
[2025-12-23 14:16:29.896] [DEBUG] titleBarWidget found at address: 2282772569632
[2025-12-23 14:16:29.897] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 14:16:29.897] [DEBUG] titleLabel found at address: 2282772571696
[2025-12-23 14:16:29.897] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 14:16:29.898] [DEBUG] minimizeButton found at address: 2282772587088
[2025-12-23 14:16:29.898] [DEBUG] maximizeButton found at address: 2282772590784
[2025-12-23 14:16:29.898] [DEBUG] closeButton found at address: 2282772601376
[2025-12-23 14:16:29.899] [DEBUG] Title bar initialization completed
[2025-12-23 14:16:29.899] [DEBUG] Initializing status bar components...
[2025-12-23 14:16:29.899] [DEBUG] statusBarWidget found
[2025-12-23 14:16:29.900] [DEBUG] statusMessageLabel found
[2025-12-23 14:16:29.900] [DEBUG] networkStatusButton found
[2025-12-23 14:16:29.901] [DEBUG] userInfoButton found
[2025-12-23 14:16:29.901] [DEBUG] Status bar initialization completed
[2025-12-23 14:16:29.901] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 14:16:29.902] [DEBUG] stackedWidget found in UI
[2025-12-23 14:16:29.915] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 14:16:29.916] [DEBUG] Creating ToastWidget...
[2025-12-23 14:16:29.917] [DEBUG] === Validating Window Background ===
[2025-12-23 14:16:29.918] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 14:16:29.918] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 14:16:29.919] [INFO] CentralWidget background is correctly set to white
[2025-12-23 14:16:29.919] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 14:16:29.919] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 14:16:29.920] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 14:16:29.920] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 14:16:29.920] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 14:16:29.921] [DEBUG] === Background Validation Complete ===
[2025-12-23 14:16:29.921] [INFO] MainWindow initialization completed successfully
[2025-12-23 14:16:34.350] [DEBUG] Creating room
[2025-12-23 14:16:34.350] [DEBUG] Sent packet (type: 512)
[2025-12-23 14:16:34.367] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:16:36.070] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:16:37.761] [DEBUG] User chose to login with account
[2025-12-23 14:16:41.595] [INFO] Login attempt for user: admin
[2025-12-23 14:16:41.595] [DEBUG] Login packet created with session ID: 2742165393123967157
[2025-12-23 14:16:41.595] [DEBUG] Sending login packet...
[2025-12-23 14:16:41.595] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:16:41.595] [INFO] Login request sent for user: admin
[2025-12-23 14:16:41.598] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:22:08.200] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 14:22:08.201] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 14:22:08.201] [DEBUG] Setting up UI...
[2025-12-23 14:22:08.241] [DEBUG] Creating Manager instance...
[2025-12-23 14:22:08.241] [INFO] Manager initialized for server
[2025-12-23 14:22:08.242] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 14:22:08.318] [DEBUG] Socket created successfully
[2025-12-23 14:22:08.319] [DEBUG] Session activated callback set
[2025-12-23 14:22:08.320] [INFO] Attempting to connect to server...
[2025-12-23 14:22:08.320] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:22:08.321] [INFO] Connected to server successfully!
[2025-12-23 14:22:08.322] [DEBUG] Socket set to non-blocking mode
[2025-12-23 14:22:08.322] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:22:08.322] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 14:22:08.323] [DEBUG] Worker thread started
[2025-12-23 14:22:08.324] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 14:22:08.324] [INFO] Connection established and handshake initiated
[2025-12-23 14:22:08.325] [DEBUG] Creating LobbyWidget...
[2025-12-23 14:22:08.325] [DEBUG] LobbyWidget Initializing...
[2025-12-23 14:22:08.329] [INFO] Client loop started.
[2025-12-23 14:22:08.338] [DEBUG] [Handshake] Received NewSession. ID: 5029704022433750014
[2025-12-23 14:22:08.339] [DEBUG] Configuring room table properties...
[2025-12-23 14:22:08.339] [DEBUG] Room table properties configured
[2025-12-23 14:22:08.340] [DEBUG] Initializing room table...
[2025-12-23 14:22:08.341] [DEBUG] Saved server public key
[2025-12-23 14:22:08.344] [DEBUG] Initializing player list...
[2025-12-23 14:22:08.344] [DEBUG] Setting up signals...
[2025-12-23 14:22:08.345] [INFO] LobbyWidget initialized successfully
[2025-12-23 14:22:08.345] [DEBUG] Creating GameWidget...
[2025-12-23 14:22:08.352] [DEBUG] GameWidget UI initialized
[2025-12-23 14:22:08.352] [DEBUG] GameWidget signal connections established
[2025-12-23 14:22:08.353] [DEBUG] GameWidget constructed successfully
[2025-12-23 14:22:08.354] [DEBUG] Creating GameManager instance...
[2025-12-23 14:22:08.354] [DEBUG] Setting up signal connections...
[2025-12-23 14:22:08.354] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 14:22:08.355] [INFO] [Handshake] Session Activated!
[2025-12-23 14:22:08.355] [DEBUG] Calling sessionActivatedCallback with sessionId: 5029704022433750014
[2025-12-23 14:22:08.355] [DEBUG] localGame connection result: 1
[2025-12-23 14:22:08.356] [INFO] Session activated callback received, sessionId: 5029704022433750014
[2025-12-23 14:22:08.356] [DEBUG] Initializing window components...
[2025-12-23 14:22:08.356] [DEBUG] Initializing window style...
[2025-12-23 14:22:08.376] [DEBUG] Set main window background to white
[2025-12-23 14:22:08.376] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 14:22:08.392] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 14:22:08.393] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 14:22:08.393] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 14:22:08.393] [DEBUG] Window size set to: 1000x700
[2025-12-23 14:22:08.394] [DEBUG] Set window palette to white background
[2025-12-23 14:22:08.394] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 14:22:08.395] [DEBUG] Window background role color: #ffffff
[2025-12-23 14:22:08.395] [DEBUG] Initializing layout...
[2025-12-23 14:22:08.395] [DEBUG] centralwidget found at address: 2419113920080
[2025-12-23 14:22:08.396] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 14:22:08.396] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 14:22:08.397] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 14:22:08.397] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 14:22:08.397] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 14:22:08.398] [DEBUG] Set centralwidget palette to white background
[2025-12-23 14:22:08.398] [DEBUG] Layout initialized successfully
[2025-12-23 14:22:08.398] [DEBUG] Initializing title bar and status bar...
[2025-12-23 14:22:08.399] [DEBUG] Initializing title bar components...
[2025-12-23 14:22:08.399] [DEBUG] titleBarWidget found at address: 2419113926176
[2025-12-23 14:22:08.399] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 14:22:08.400] [DEBUG] titleLabel found at address: 2419113928240
[2025-12-23 14:22:08.400] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 14:22:08.401] [DEBUG] minimizeButton found at address: 2419113943632
[2025-12-23 14:22:08.401] [DEBUG] maximizeButton found at address: 2419113947328
[2025-12-23 14:22:08.401] [DEBUG] closeButton found at address: 2419113957920
[2025-12-23 14:22:08.402] [DEBUG] Title bar initialization completed
[2025-12-23 14:22:08.402] [DEBUG] Initializing status bar components...
[2025-12-23 14:22:08.402] [DEBUG] statusBarWidget found
[2025-12-23 14:22:08.403] [DEBUG] statusMessageLabel found
[2025-12-23 14:22:08.403] [DEBUG] networkStatusButton found
[2025-12-23 14:22:08.403] [DEBUG] userInfoButton found
[2025-12-23 14:22:08.404] [DEBUG] Status bar initialization completed
[2025-12-23 14:22:08.404] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 14:22:08.405] [DEBUG] stackedWidget found in UI
[2025-12-23 14:22:08.427] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 14:22:08.428] [DEBUG] Creating ToastWidget...
[2025-12-23 14:22:08.430] [DEBUG] === Validating Window Background ===
[2025-12-23 14:22:08.430] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 14:22:08.431] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 14:22:08.431] [INFO] CentralWidget background is correctly set to white
[2025-12-23 14:22:08.432] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 14:22:08.432] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 14:22:08.433] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 14:22:08.433] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 14:22:08.433] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 14:22:08.434] [DEBUG] === Background Validation Complete ===
[2025-12-23 14:22:08.434] [INFO] MainWindow initialization completed successfully
[2025-12-23 14:22:11.673] [DEBUG] Creating room
[2025-12-23 14:22:11.673] [DEBUG] Sent packet (type: 512)
[2025-12-23 14:22:11.685] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:23:55.901] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:23:56.961] [DEBUG] User chose to login with account
[2025-12-23 14:24:01.514] [INFO] Login attempt for user: admin
[2025-12-23 14:24:01.514] [DEBUG] Login packet created with session ID: 5029704022433750014
[2025-12-23 14:24:01.514] [DEBUG] Sending login packet...
[2025-12-23 14:24:01.514] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:24:01.515] [INFO] Login request sent for user: admin
[2025-12-23 14:24:01.525] [DEBUG] Received packet (type: 65535)
[2025-12-23 14:27:42.595] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 14:27:42.595] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 14:27:42.595] [DEBUG] Setting up UI...
[2025-12-23 14:27:42.614] [DEBUG] Creating Manager instance...
[2025-12-23 14:27:42.615] [INFO] Manager initialized for server
[2025-12-23 14:27:42.615] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 14:27:42.660] [DEBUG] Socket created successfully
[2025-12-23 14:27:42.661] [DEBUG] Session activated callback set
[2025-12-23 14:27:42.661] [INFO] Attempting to connect to server...
[2025-12-23 14:27:42.661] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:27:42.661] [INFO] Connected to server successfully!
[2025-12-23 14:27:42.661] [DEBUG] Socket set to non-blocking mode
[2025-12-23 14:27:42.662] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:27:42.662] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 14:27:42.662] [DEBUG] Worker thread started
[2025-12-23 14:27:42.663] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 14:27:42.663] [INFO] Connection established and handshake initiated
[2025-12-23 14:27:42.663] [DEBUG] Creating LobbyWidget...
[2025-12-23 14:27:42.663] [DEBUG] LobbyWidget Initializing...
[2025-12-23 14:27:42.666] [INFO] Client loop started.
[2025-12-23 14:27:42.671] [DEBUG] Configuring room table properties...
[2025-12-23 14:27:42.672] [DEBUG] Room table properties configured
[2025-12-23 14:27:42.672] [DEBUG] Initializing room table...
[2025-12-23 14:27:42.674] [DEBUG] Initializing player list...
[2025-12-23 14:27:42.674] [DEBUG] Setting up signals...
[2025-12-23 14:27:42.674] [INFO] LobbyWidget initialized successfully
[2025-12-23 14:27:42.674] [DEBUG] Creating GameWidget...
[2025-12-23 14:27:42.679] [DEBUG] [Handshake] Received NewSession. ID: 4917451944433281137
[2025-12-23 14:27:42.679] [DEBUG] GameWidget UI initialized
[2025-12-23 14:27:42.680] [DEBUG] GameWidget signal connections established
[2025-12-23 14:27:42.680] [DEBUG] GameWidget constructed successfully
[2025-12-23 14:27:42.680] [DEBUG] Creating GameManager instance...
[2025-12-23 14:27:42.680] [DEBUG] Setting up signal connections...
[2025-12-23 14:27:42.680] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 14:27:42.680] [DEBUG] localGame connection result: 1
[2025-12-23 14:27:42.681] [DEBUG] Initializing window components...
[2025-12-23 14:27:42.681] [DEBUG] Initializing window style...
[2025-12-23 14:27:42.681] [DEBUG] Saved server public key
[2025-12-23 14:27:42.692] [DEBUG] Set main window background to white
[2025-12-23 14:27:42.692] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 14:27:42.695] [INFO] [Handshake] Session Activated!
[2025-12-23 14:27:42.695] [DEBUG] Calling sessionActivatedCallback with sessionId: 4917451944433281137
[2025-12-23 14:27:42.696] [INFO] Session activated callback received, sessionId: 4917451944433281137
[2025-12-23 14:27:42.703] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 14:27:42.703] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 14:27:42.703] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 14:27:42.703] [DEBUG] Window size set to: 1000x700
[2025-12-23 14:27:42.704] [DEBUG] Set window palette to white background
[2025-12-23 14:27:42.704] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 14:27:42.704] [DEBUG] Window background role color: #ffffff
[2025-12-23 14:27:42.704] [DEBUG] Initializing layout...
[2025-12-23 14:27:42.704] [DEBUG] centralwidget found at address: 2140222916176
[2025-12-23 14:27:42.704] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 14:27:42.705] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 14:27:42.705] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 14:27:42.705] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 14:27:42.705] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 14:27:42.705] [DEBUG] Set centralwidget palette to white background
[2025-12-23 14:27:42.705] [DEBUG] Layout initialized successfully
[2025-12-23 14:27:42.706] [DEBUG] Initializing title bar and status bar...
[2025-12-23 14:27:42.706] [DEBUG] Initializing title bar components...
[2025-12-23 14:27:42.706] [DEBUG] titleBarWidget found at address: 2140222922272
[2025-12-23 14:27:42.706] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 14:27:42.706] [DEBUG] titleLabel found at address: 2140222924336
[2025-12-23 14:27:42.706] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 14:27:42.707] [DEBUG] minimizeButton found at address: 2140222939728
[2025-12-23 14:27:42.707] [DEBUG] maximizeButton found at address: 2140222943424
[2025-12-23 14:27:42.707] [DEBUG] closeButton found at address: 2140222954016
[2025-12-23 14:27:42.707] [DEBUG] Title bar initialization completed
[2025-12-23 14:27:42.707] [DEBUG] Initializing status bar components...
[2025-12-23 14:27:42.708] [DEBUG] statusBarWidget found
[2025-12-23 14:27:42.708] [DEBUG] statusMessageLabel found
[2025-12-23 14:27:42.708] [DEBUG] networkStatusButton found
[2025-12-23 14:27:42.708] [DEBUG] userInfoButton found
[2025-12-23 14:27:42.708] [DEBUG] Status bar initialization completed
[2025-12-23 14:27:42.708] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 14:27:42.708] [DEBUG] stackedWidget found in UI
[2025-12-23 14:27:42.720] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 14:27:42.720] [DEBUG] Creating ToastWidget...
[2025-12-23 14:27:42.721] [DEBUG] === Validating Window Background ===
[2025-12-23 14:27:42.721] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 14:27:42.722] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 14:27:42.722] [INFO] CentralWidget background is correctly set to white
[2025-12-23 14:27:42.722] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 14:27:42.722] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 14:27:42.722] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 14:27:42.723] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 14:27:42.723] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 14:27:42.723] [DEBUG] === Background Validation Complete ===
[2025-12-23 14:27:42.723] [INFO] MainWindow initialization completed successfully
[2025-12-23 14:27:48.470] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:27:49.565] [DEBUG] User chose to login with account
[2025-12-23 14:27:53.346] [INFO] Login attempt for user: admin
[2025-12-23 14:27:53.346] [DEBUG] Login packet created with session ID: 4917451944433281137
[2025-12-23 14:27:53.347] [DEBUG] Sending login packet...
[2025-12-23 14:27:53.347] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:27:53.347] [INFO] Login request sent for user: admin
[2025-12-23 14:27:53.359] [DEBUG] Received packet (type: 256)
[2025-12-23 14:28:02.241] [INFO] MainWindow destructor called
[2025-12-23 14:28:02.241] [DEBUG] Cleaning up UI...
[2025-12-23 14:28:02.241] [DEBUG] Cleaning up Manager...
[2025-12-23 14:28:02.241] [INFO] Manager destructor called
[2025-12-23 14:28:02.241] [DEBUG] Disconnecting client...
[2025-12-23 14:28:02.242] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:28:02.242] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 14:28:02.346] [DEBUG] Worker thread joined successfully.
[2025-12-23 14:28:02.346] [DEBUG] Closing socket
[2025-12-23 14:28:02.347] [DEBUG] Resetting session context
[2025-12-23 14:28:02.347] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 14:28:02.347] [INFO] Disconnected from server callback triggered
[2025-12-23 14:28:02.351] [INFO] Client disconnected successfully.
[2025-12-23 14:28:02.351] [DEBUG] Client destructor called
[2025-12-23 14:28:02.351] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:28:02.351] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 14:28:02.352] [DEBUG] Closing socket
[2025-12-23 14:28:02.352] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 14:28:02.352] [INFO] Disconnected from server callback triggered
[2025-12-23 14:28:02.353] [INFO] Client disconnected successfully.
[2025-12-23 14:28:02.353] [DEBUG] Socket closed.
[2025-12-23 14:28:02.354] [DEBUG] Client cleanup completed
[2025-12-23 14:28:02.354] [DEBUG] Client disconnected and reset
[2025-12-23 14:28:02.354] [INFO] Manager cleanup completed
[2025-12-23 14:28:02.354] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 14:28:02.358] [DEBUG] Shutting down Logger...
[2025-12-23 14:28:02.358] [INFO] Logger shutting down.
[2025-12-23 14:28:12.531] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 14:28:12.531] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 14:28:12.531] [DEBUG] Setting up UI...
[2025-12-23 14:28:12.552] [DEBUG] Creating Manager instance...
[2025-12-23 14:28:12.552] [INFO] Manager initialized for server
[2025-12-23 14:28:12.552] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 14:28:12.594] [DEBUG] Socket created successfully
[2025-12-23 14:28:12.594] [DEBUG] Session activated callback set
[2025-12-23 14:28:12.594] [INFO] Attempting to connect to server...
[2025-12-23 14:28:12.594] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 14:28:12.595] [INFO] Connected to server successfully!
[2025-12-23 14:28:12.595] [DEBUG] Socket set to non-blocking mode
[2025-12-23 14:28:12.595] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 14:28:12.595] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 14:28:12.597] [DEBUG] Worker thread started
[2025-12-23 14:28:12.598] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 14:28:12.598] [INFO] Connection established and handshake initiated
[2025-12-23 14:28:12.598] [DEBUG] Creating LobbyWidget...
[2025-12-23 14:28:12.599] [DEBUG] LobbyWidget Initializing...
[2025-12-23 14:28:12.600] [INFO] Client loop started.
[2025-12-23 14:28:12.606] [DEBUG] Configuring room table properties...
[2025-12-23 14:28:12.607] [DEBUG] Room table properties configured
[2025-12-23 14:28:12.607] [DEBUG] Initializing room table...
[2025-12-23 14:28:12.608] [DEBUG] Initializing player list...
[2025-12-23 14:28:12.608] [DEBUG] Setting up signals...
[2025-12-23 14:28:12.609] [INFO] LobbyWidget initialized successfully
[2025-12-23 14:28:12.609] [DEBUG] Creating GameWidget...
[2025-12-23 14:28:12.613] [DEBUG] GameWidget UI initialized
[2025-12-23 14:28:12.613] [DEBUG] GameWidget signal connections established
[2025-12-23 14:28:12.614] [DEBUG] GameWidget constructed successfully
[2025-12-23 14:28:12.614] [DEBUG] Creating GameManager instance...
[2025-12-23 14:28:12.614] [DEBUG] Setting up signal connections...
[2025-12-23 14:28:12.615] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 14:28:12.615] [DEBUG] localGame connection result: 1
[2025-12-23 14:28:12.615] [DEBUG] Initializing window components...
[2025-12-23 14:28:12.615] [DEBUG] Initializing window style...
[2025-12-23 14:28:12.618] [DEBUG] [Handshake] Received NewSession. ID: 5029704022433750014
[2025-12-23 14:28:12.620] [DEBUG] Saved server public key
[2025-12-23 14:28:12.628] [DEBUG] Set main window background to white
[2025-12-23 14:28:12.629] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 14:28:12.634] [INFO] [Handshake] Session Activated!
[2025-12-23 14:28:12.635] [DEBUG] Calling sessionActivatedCallback with sessionId: 5029704022433750014
[2025-12-23 14:28:12.635] [INFO] Session activated callback received, sessionId: 5029704022433750014
[2025-12-23 14:28:12.638] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 14:28:12.638] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 14:28:12.638] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 14:28:12.639] [DEBUG] Window size set to: 1000x700
[2025-12-23 14:28:12.639] [DEBUG] Set window palette to white background
[2025-12-23 14:28:12.639] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 14:28:12.639] [DEBUG] Window background role color: #ffffff
[2025-12-23 14:28:12.639] [DEBUG] Initializing layout...
[2025-12-23 14:28:12.640] [DEBUG] centralwidget found at address: 2229064304208
[2025-12-23 14:28:12.640] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 14:28:12.640] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 14:28:12.640] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 14:28:12.640] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 14:28:12.641] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 14:28:12.641] [DEBUG] Set centralwidget palette to white background
[2025-12-23 14:28:12.641] [DEBUG] Layout initialized successfully
[2025-12-23 14:28:12.641] [DEBUG] Initializing title bar and status bar...
[2025-12-23 14:28:12.641] [DEBUG] Initializing title bar components...
[2025-12-23 14:28:12.641] [DEBUG] titleBarWidget found at address: 2229064310304
[2025-12-23 14:28:12.641] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 14:28:12.641] [DEBUG] titleLabel found at address: 2229064312368
[2025-12-23 14:28:12.642] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 14:28:12.642] [DEBUG] minimizeButton found at address: 2229064327760
[2025-12-23 14:28:12.642] [DEBUG] maximizeButton found at address: 2229064331456
[2025-12-23 14:28:12.642] [DEBUG] closeButton found at address: 2229064342048
[2025-12-23 14:28:12.642] [DEBUG] Title bar initialization completed
[2025-12-23 14:28:12.642] [DEBUG] Initializing status bar components...
[2025-12-23 14:28:12.642] [DEBUG] statusBarWidget found
[2025-12-23 14:28:12.643] [DEBUG] statusMessageLabel found
[2025-12-23 14:28:12.643] [DEBUG] networkStatusButton found
[2025-12-23 14:28:12.643] [DEBUG] userInfoButton found
[2025-12-23 14:28:12.643] [DEBUG] Status bar initialization completed
[2025-12-23 14:28:12.643] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 14:28:12.643] [DEBUG] stackedWidget found in UI
[2025-12-23 14:28:12.656] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 14:28:12.656] [DEBUG] Creating ToastWidget...
[2025-12-23 14:28:12.657] [DEBUG] === Validating Window Background ===
[2025-12-23 14:28:12.658] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 14:28:12.658] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 14:28:12.658] [INFO] CentralWidget background is correctly set to white
[2025-12-23 14:28:12.658] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 14:28:12.658] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 14:28:12.658] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 14:28:12.659] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 14:28:12.659] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 14:28:12.659] [DEBUG] === Background Validation Complete ===
[2025-12-23 14:28:12.659] [INFO] MainWindow initialization completed successfully
[2025-12-23 14:28:16.035] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 14:28:18.157] [DEBUG] User chose to login with account
[2025-12-23 14:28:22.493] [INFO] Login attempt for user: admin
[2025-12-23 14:28:22.493] [DEBUG] Login packet created with session ID: 5029704022433750014
[2025-12-23 14:28:22.493] [DEBUG] Sending login packet...
[2025-12-23 14:28:22.493] [DEBUG] Sent packet (type: 256)
[2025-12-23 14:28:22.494] [INFO] Login request sent for user: admin
[2025-12-23 14:28:22.497] [DEBUG] Received packet (type: 256)
[2025-12-23 14:39:22.634] [WARN] Server disconnected.
[2025-12-23 14:39:22.634] [DEBUG] Calling disconnectedCallback
[2025-12-23 14:39:22.634] [INFO] Disconnected from server callback triggered
[2025-12-23 15:06:42.965] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 15:06:42.965] [DEBUG] localGame signal received, initializing local game
[2025-12-23 15:06:42.965] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 15:06:42.967] [DEBUG] Player list updated, count: 2
[2025-12-23 15:06:42.972] [INFO] Game started for player: 玩家1 (黑棋), rating: 1500
[2025-12-23 15:06:42.972] [DEBUG] Chat message from 游戏: 本地游戏已开始！玩家1 (黑棋) 执黑先行
[2025-12-23 15:06:42.973] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 15:06:42.975] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 15:06:42.976] [INFO] GameWidget initialized successfully
[2025-12-23 15:06:42.977] [DEBUG] Switching widget to index: 1
[2025-12-23 15:06:42.979] [INFO] Switching to Game widget
[2025-12-23 15:06:42.979] [DEBUG] Widget switch completed
[2025-12-23 15:06:49.054] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 15:06:49.055] [DEBUG] Chat message from 游戏: 玩家1 (黑棋) 在 (11, 3) 落黑子
[2025-12-23 15:06:49.056] [DEBUG] Chat message from 游戏: 轮到 玩家2 (白棋) 落子
[2025-12-23 15:06:50.828] [DEBUG] GameManager::onMakeMove called, x: 11, y: 11, isLocalGame: 1
[2025-12-23 15:06:50.830] [DEBUG] Chat message from 游戏: 玩家2 (白棋) 在 (11, 11) 落白子
[2025-12-23 15:06:50.831] [DEBUG] Chat message from 游戏: 轮到 玩家1 (黑棋) 落子
[2025-12-23 15:06:52.162] [INFO] MainWindow destructor called
[2025-12-23 15:06:52.162] [DEBUG] Cleaning up UI...
[2025-12-23 15:06:52.162] [DEBUG] Cleaning up Manager...
[2025-12-23 15:06:52.163] [INFO] Manager destructor called
[2025-12-23 15:06:52.163] [DEBUG] Disconnecting client...
[2025-12-23 15:06:52.163] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:06:52.163] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 15:06:52.164] [DEBUG] Worker thread joined successfully.
[2025-12-23 15:06:52.164] [DEBUG] Closing socket
[2025-12-23 15:06:52.164] [DEBUG] Resetting session context
[2025-12-23 15:06:52.164] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 15:06:52.165] [INFO] Disconnected from server callback triggered
[2025-12-23 15:06:52.169] [INFO] Client disconnected successfully.
[2025-12-23 15:06:52.170] [DEBUG] Client destructor called
[2025-12-23 15:06:52.170] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:06:52.170] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 15:06:52.171] [DEBUG] Closing socket
[2025-12-23 15:06:52.171] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 15:06:52.171] [INFO] Disconnected from server callback triggered
[2025-12-23 15:06:52.174] [INFO] Client disconnected successfully.
[2025-12-23 15:06:52.174] [DEBUG] Socket closed.
[2025-12-23 15:06:52.174] [DEBUG] Client cleanup completed
[2025-12-23 15:06:52.175] [DEBUG] Client disconnected and reset
[2025-12-23 15:06:52.175] [INFO] Manager cleanup completed
[2025-12-23 15:06:52.175] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 15:06:52.188] [DEBUG] Shutting down Logger...
[2025-12-23 15:06:52.188] [INFO] Logger shutting down.
[2025-12-23 15:08:19.507] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:08:19.507] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:08:19.507] [DEBUG] Setting up UI...
[2025-12-23 15:08:19.530] [DEBUG] Creating Manager instance...
[2025-12-23 15:08:19.531] [INFO] Manager initialized for server
[2025-12-23 15:08:19.531] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:08:19.579] [DEBUG] Socket created successfully
[2025-12-23 15:08:19.580] [DEBUG] Session activated callback set
[2025-12-23 15:08:19.580] [INFO] Attempting to connect to server...
[2025-12-23 15:08:19.580] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:08:21.590] [ERROR] Connect failed: 10061
[2025-12-23 15:08:21.591] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:08:21.591] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:08:21.597] [DEBUG] Configuring room table properties...
[2025-12-23 15:08:21.597] [DEBUG] Room table properties configured
[2025-12-23 15:08:21.597] [DEBUG] Initializing room table...
[2025-12-23 15:08:21.599] [DEBUG] Initializing player list...
[2025-12-23 15:08:21.599] [DEBUG] Setting up signals...
[2025-12-23 15:08:21.600] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:08:21.600] [DEBUG] Creating GameWidget...
[2025-12-23 15:08:21.603] [DEBUG] GameWidget UI initialized
[2025-12-23 15:08:21.604] [DEBUG] GameWidget signal connections established
[2025-12-23 15:08:21.604] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:08:21.604] [DEBUG] Creating GameManager instance...
[2025-12-23 15:08:21.604] [DEBUG] Setting up signal connections...
[2025-12-23 15:08:21.604] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:08:21.605] [DEBUG] localGame connection result: 1
[2025-12-23 15:08:21.605] [DEBUG] Initializing window components...
[2025-12-23 15:08:21.605] [DEBUG] Initializing window style...
[2025-12-23 15:08:21.618] [DEBUG] Set main window background to white
[2025-12-23 15:08:21.618] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:08:21.628] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:08:21.628] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:08:21.629] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:08:21.629] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:08:21.629] [DEBUG] Set window palette to white background
[2025-12-23 15:08:21.629] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:08:21.630] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:08:21.630] [DEBUG] Initializing layout...
[2025-12-23 15:08:21.630] [DEBUG] centralwidget found at address: 3115507320400
[2025-12-23 15:08:21.630] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:08:21.630] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:08:21.631] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:08:21.631] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:08:21.631] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:08:21.631] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:08:21.631] [DEBUG] Layout initialized successfully
[2025-12-23 15:08:21.631] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:08:21.632] [DEBUG] Initializing title bar components...
[2025-12-23 15:08:21.632] [DEBUG] titleBarWidget found at address: 3115507326496
[2025-12-23 15:08:21.632] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:08:21.632] [DEBUG] titleLabel found at address: 3115507328560
[2025-12-23 15:08:21.632] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:08:21.632] [DEBUG] minimizeButton found at address: 3115507343952
[2025-12-23 15:08:21.633] [DEBUG] maximizeButton found at address: 3115507347648
[2025-12-23 15:08:21.633] [DEBUG] closeButton found at address: 3115507358240
[2025-12-23 15:08:21.633] [DEBUG] Title bar initialization completed
[2025-12-23 15:08:21.633] [DEBUG] Initializing status bar components...
[2025-12-23 15:08:21.633] [DEBUG] statusBarWidget found
[2025-12-23 15:08:21.633] [DEBUG] statusMessageLabel found
[2025-12-23 15:08:21.633] [DEBUG] networkStatusButton found
[2025-12-23 15:08:21.634] [DEBUG] userInfoButton found
[2025-12-23 15:08:21.634] [DEBUG] Status bar initialization completed
[2025-12-23 15:08:21.634] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:08:21.635] [DEBUG] stackedWidget found in UI
[2025-12-23 15:08:21.648] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:08:21.649] [DEBUG] Creating ToastWidget...
[2025-12-23 15:08:21.653] [DEBUG] === Validating Window Background ===
[2025-12-23 15:08:21.654] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:08:21.654] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:08:21.654] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:08:21.654] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:08:21.654] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:08:21.655] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:08:21.655] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:08:21.655] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:08:21.655] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:08:21.655] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:08:27.577] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:08:27.578] [INFO] Reconnecting to server...
[2025-12-23 15:08:27.578] [INFO] Attempting to connect to server...
[2025-12-23 15:08:27.578] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:08:29.601] [ERROR] Connect failed: 10061
[2025-12-23 15:34:37.399] [DEBUG] Creating room
[2025-12-23 15:34:41.247] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:34:41.247] [INFO] Reconnecting to server...
[2025-12-23 15:34:41.248] [INFO] Attempting to connect to server...
[2025-12-23 15:34:41.248] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:34:43.276] [ERROR] Connect failed: 10061
[2025-12-23 15:36:23.592] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:36:23.592] [INFO] Reconnecting to server...
[2025-12-23 15:36:23.592] [INFO] Attempting to connect to server...
[2025-12-23 15:36:23.592] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:36:25.641] [ERROR] Connect failed: 10061
[2025-12-23 15:36:58.937] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:36:58.937] [INFO] Reconnecting to server...
[2025-12-23 15:36:58.938] [INFO] Attempting to connect to server...
[2025-12-23 15:36:58.938] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:37:00.966] [ERROR] Connect failed: 10061
[2025-12-23 15:37:20.252] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:37:20.253] [INFO] Reconnecting to server...
[2025-12-23 15:37:20.253] [INFO] Attempting to connect to server...
[2025-12-23 15:37:20.253] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:37:20.253] [INFO] Connected to server successfully!
[2025-12-23 15:37:20.254] [DEBUG] Socket set to non-blocking mode
[2025-12-23 15:37:20.254] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:37:20.254] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 15:37:20.255] [DEBUG] Worker thread started
[2025-12-23 15:37:20.255] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 15:37:20.255] [INFO] Client loop started.
[2025-12-23 15:37:20.255] [INFO] Connection established and handshake initiated
[2025-12-23 15:37:20.288] [DEBUG] [Handshake] Received NewSession. ID: 15204604672452067047
[2025-12-23 15:37:20.289] [DEBUG] Saved server public key
[2025-12-23 15:37:20.314] [INFO] [Handshake] Session Activated!
[2025-12-23 15:37:20.314] [DEBUG] Calling sessionActivatedCallback with sessionId: 15204604672452067047
[2025-12-23 15:37:20.315] [INFO] Session activated callback received, sessionId: 15204604672452067047
[2025-12-23 15:37:26.396] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:37:27.570] [DEBUG] User chose to login with account
[2025-12-23 15:37:32.783] [INFO] Login attempt for user: admin
[2025-12-23 15:37:32.783] [DEBUG] Login packet created with session ID: 15204604672452067047
[2025-12-23 15:37:32.783] [DEBUG] Sending login packet...
[2025-12-23 15:37:32.784] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:37:32.784] [INFO] Login request sent for user: admin
[2025-12-23 15:37:32.799] [DEBUG] Received packet (type: 65535)
[2025-12-23 15:37:58.465] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:38:01.022] [DEBUG] User chose to sign up
[2025-12-23 15:38:07.134] [INFO] Signin attempt for user: admin
[2025-12-23 15:38:07.135] [DEBUG] Sent packet (type: 257)
[2025-12-23 15:38:07.148] [DEBUG] Received packet (type: 257)
[2025-12-23 15:38:35.843] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:38:36.728] [DEBUG] User chose to sign up
[2025-12-23 15:38:42.368] [INFO] Signin attempt for user: admin
[2025-12-23 15:38:42.369] [DEBUG] Sent packet (type: 257)
[2025-12-23 15:38:42.386] [DEBUG] Received packet (type: 65535)
[2025-12-23 15:38:55.397] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:38:56.860] [DEBUG] User chose to login with account
[2025-12-23 15:39:00.674] [INFO] Login attempt for user: admin
[2025-12-23 15:39:00.674] [DEBUG] Login packet created with session ID: 15204604672452067047
[2025-12-23 15:39:00.675] [DEBUG] Sending login packet...
[2025-12-23 15:39:00.675] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:39:00.675] [INFO] Login request sent for user: admin
[2025-12-23 15:39:31.777] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:39:32.720] [DEBUG] User chose to login with account
[2025-12-23 15:39:52.106] [INFO] Login attempt for user: admin
[2025-12-23 15:39:52.106] [DEBUG] Login packet created with session ID: 15204604672452067047
[2025-12-23 15:39:52.106] [DEBUG] Sending login packet...
[2025-12-23 15:39:52.106] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:39:52.107] [INFO] Login request sent for user: admin
[2025-12-23 15:41:54.692] [WARN] Server disconnected.
[2025-12-23 15:41:54.695] [DEBUG] Calling disconnectedCallback
[2025-12-23 15:41:54.695] [INFO] Disconnected from server callback triggered
[2025-12-23 15:42:07.894] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:42:07.895] [INFO] Reconnecting to server...
[2025-12-23 15:42:07.895] [INFO] Attempting to connect to server...
[2025-12-23 15:42:07.895] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:42:07.896] [ERROR] Connect failed: 10056
[2025-12-23 15:42:10.819] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:42:10.819] [INFO] Reconnecting to server...
[2025-12-23 15:42:10.820] [INFO] Attempting to connect to server...
[2025-12-23 15:42:10.820] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:42:10.820] [ERROR] Connect failed: 10056
[2025-12-23 15:42:15.411] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:42:15.412] [INFO] Reconnecting to server...
[2025-12-23 15:42:15.412] [INFO] Attempting to connect to server...
[2025-12-23 15:42:15.412] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:42:15.412] [ERROR] Connect failed: 10056
[2025-12-23 15:42:16.235] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:42:16.235] [INFO] Reconnecting to server...
[2025-12-23 15:42:16.236] [INFO] Attempting to connect to server...
[2025-12-23 15:42:16.236] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:42:16.236] [ERROR] Connect failed: 10056
[2025-12-23 15:42:16.655] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:42:16.655] [INFO] Reconnecting to server...
[2025-12-23 15:42:16.656] [INFO] Attempting to connect to server...
[2025-12-23 15:42:16.656] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:42:16.656] [ERROR] Connect failed: 10056
[2025-12-23 15:43:23.346] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:43:23.346] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:43:23.346] [DEBUG] Setting up UI...
[2025-12-23 15:43:23.372] [DEBUG] Creating Manager instance...
[2025-12-23 15:43:23.373] [INFO] Manager initialized for server
[2025-12-23 15:43:23.373] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:43:23.427] [DEBUG] Socket created successfully
[2025-12-23 15:43:23.428] [DEBUG] Session activated callback set
[2025-12-23 15:43:23.428] [INFO] Attempting to connect to server...
[2025-12-23 15:43:23.428] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:43:23.429] [ERROR] Connect failed: 10038
[2025-12-23 15:43:23.429] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:43:23.429] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:43:23.436] [DEBUG] Configuring room table properties...
[2025-12-23 15:43:23.436] [DEBUG] Room table properties configured
[2025-12-23 15:43:23.437] [DEBUG] Initializing room table...
[2025-12-23 15:43:23.439] [DEBUG] Initializing player list...
[2025-12-23 15:43:23.439] [DEBUG] Setting up signals...
[2025-12-23 15:43:23.440] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:43:23.440] [DEBUG] Creating GameWidget...
[2025-12-23 15:43:23.448] [DEBUG] GameWidget UI initialized
[2025-12-23 15:43:23.448] [DEBUG] GameWidget signal connections established
[2025-12-23 15:43:23.449] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:43:23.449] [DEBUG] Creating GameManager instance...
[2025-12-23 15:43:23.449] [DEBUG] Setting up signal connections...
[2025-12-23 15:43:23.450] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:43:23.450] [DEBUG] localGame connection result: 1
[2025-12-23 15:43:23.451] [DEBUG] Initializing window components...
[2025-12-23 15:43:23.451] [DEBUG] Initializing window style...
[2025-12-23 15:43:23.468] [DEBUG] Set main window background to white
[2025-12-23 15:43:23.468] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:43:23.482] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:43:23.482] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:43:23.483] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:43:23.483] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:43:23.484] [DEBUG] Set window palette to white background
[2025-12-23 15:43:23.484] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:43:23.485] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:43:23.485] [DEBUG] Initializing layout...
[2025-12-23 15:43:23.485] [DEBUG] centralwidget found at address: 2743505061456
[2025-12-23 15:43:23.486] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:43:23.486] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:43:23.487] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:43:23.487] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:43:23.487] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:43:23.488] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:43:23.488] [DEBUG] Layout initialized successfully
[2025-12-23 15:43:23.488] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:43:23.489] [DEBUG] Initializing title bar components...
[2025-12-23 15:43:23.489] [DEBUG] titleBarWidget found at address: 2743505067552
[2025-12-23 15:43:23.489] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:43:23.490] [DEBUG] titleLabel found at address: 2743505069616
[2025-12-23 15:43:23.490] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:43:23.490] [DEBUG] minimizeButton found at address: 2743505085008
[2025-12-23 15:43:23.491] [DEBUG] maximizeButton found at address: 2743505088704
[2025-12-23 15:43:23.491] [DEBUG] closeButton found at address: 2743505099296
[2025-12-23 15:43:23.491] [DEBUG] Title bar initialization completed
[2025-12-23 15:43:23.492] [DEBUG] Initializing status bar components...
[2025-12-23 15:43:23.492] [DEBUG] statusBarWidget found
[2025-12-23 15:43:23.492] [DEBUG] statusMessageLabel found
[2025-12-23 15:43:23.493] [DEBUG] networkStatusButton found
[2025-12-23 15:43:23.493] [DEBUG] userInfoButton found
[2025-12-23 15:43:23.494] [DEBUG] Status bar initialization completed
[2025-12-23 15:43:23.494] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:43:23.494] [DEBUG] stackedWidget found in UI
[2025-12-23 15:43:23.511] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:43:23.511] [DEBUG] Creating ToastWidget...
[2025-12-23 15:43:23.513] [DEBUG] === Validating Window Background ===
[2025-12-23 15:43:23.513] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:43:23.513] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:43:23.513] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:43:23.514] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:43:23.514] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:43:23.514] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:43:23.515] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:43:23.515] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:43:23.515] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:43:23.515] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:43:27.127] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:43:27.127] [INFO] Reconnecting to server...
[2025-12-23 15:43:27.127] [INFO] Attempting to connect to server...
[2025-12-23 15:43:27.127] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:43:27.127] [ERROR] Connect failed: 10038
[2025-12-23 15:45:20.814] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:45:20.814] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:45:20.815] [DEBUG] Setting up UI...
[2025-12-23 15:45:20.839] [DEBUG] Creating Manager instance...
[2025-12-23 15:45:20.840] [INFO] Manager initialized for server
[2025-12-23 15:45:20.840] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:45:20.897] [DEBUG] Socket created successfully
[2025-12-23 15:45:20.897] [DEBUG] Session activated callback set
[2025-12-23 15:45:20.897] [INFO] Attempting to connect to server...
[2025-12-23 15:45:20.898] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:45:27.468] [ERROR] Connect failed: 10038
[2025-12-23 15:45:27.468] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:45:27.469] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:45:27.474] [DEBUG] Configuring room table properties...
[2025-12-23 15:45:27.474] [DEBUG] Room table properties configured
[2025-12-23 15:45:27.475] [DEBUG] Initializing room table...
[2025-12-23 15:45:27.477] [DEBUG] Initializing player list...
[2025-12-23 15:45:27.477] [DEBUG] Setting up signals...
[2025-12-23 15:45:27.477] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:45:27.478] [DEBUG] Creating GameWidget...
[2025-12-23 15:45:27.482] [DEBUG] GameWidget UI initialized
[2025-12-23 15:45:27.483] [DEBUG] GameWidget signal connections established
[2025-12-23 15:45:27.483] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:45:27.484] [DEBUG] Creating GameManager instance...
[2025-12-23 15:45:27.484] [DEBUG] Setting up signal connections...
[2025-12-23 15:45:27.484] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:45:27.484] [DEBUG] localGame connection result: 1
[2025-12-23 15:45:27.485] [DEBUG] Initializing window components...
[2025-12-23 15:45:27.485] [DEBUG] Initializing window style...
[2025-12-23 15:45:27.498] [DEBUG] Set main window background to white
[2025-12-23 15:45:27.498] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:45:27.510] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:45:27.511] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:45:27.511] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:45:27.511] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:45:27.511] [DEBUG] Set window palette to white background
[2025-12-23 15:45:27.512] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:45:27.512] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:45:27.512] [DEBUG] Initializing layout...
[2025-12-23 15:45:27.512] [DEBUG] centralwidget found at address: 2352978396752
[2025-12-23 15:45:27.512] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:45:27.513] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:45:27.513] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:45:27.513] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:45:27.513] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:45:27.514] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:45:27.514] [DEBUG] Layout initialized successfully
[2025-12-23 15:45:27.514] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:45:27.514] [DEBUG] Initializing title bar components...
[2025-12-23 15:45:27.515] [DEBUG] titleBarWidget found at address: 2352978402848
[2025-12-23 15:45:27.515] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:45:27.515] [DEBUG] titleLabel found at address: 2352978404912
[2025-12-23 15:45:27.516] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:45:27.516] [DEBUG] minimizeButton found at address: 2352978420304
[2025-12-23 15:45:27.516] [DEBUG] maximizeButton found at address: 2352978424000
[2025-12-23 15:45:27.516] [DEBUG] closeButton found at address: 2352978434592
[2025-12-23 15:45:27.517] [DEBUG] Title bar initialization completed
[2025-12-23 15:45:27.517] [DEBUG] Initializing status bar components...
[2025-12-23 15:45:27.517] [DEBUG] statusBarWidget found
[2025-12-23 15:45:27.517] [DEBUG] statusMessageLabel found
[2025-12-23 15:45:27.518] [DEBUG] networkStatusButton found
[2025-12-23 15:45:27.518] [DEBUG] userInfoButton found
[2025-12-23 15:45:27.518] [DEBUG] Status bar initialization completed
[2025-12-23 15:45:27.518] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:45:27.518] [DEBUG] stackedWidget found in UI
[2025-12-23 15:45:27.531] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:45:27.531] [DEBUG] Creating ToastWidget...
[2025-12-23 15:45:27.535] [DEBUG] === Validating Window Background ===
[2025-12-23 15:45:27.536] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:45:27.536] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:45:27.536] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:45:27.537] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:45:27.537] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:45:27.537] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:45:27.538] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:45:27.538] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:45:27.538] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:45:27.538] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:47:14.256] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:14.258] [INFO] Reconnecting to server...
[2025-12-23 15:47:14.260] [INFO] Attempting to connect to server...
[2025-12-23 15:47:14.262] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:14.263] [ERROR] Connect failed: 10038
[2025-12-23 15:47:15.908] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:15.909] [INFO] Reconnecting to server...
[2025-12-23 15:47:15.911] [INFO] Attempting to connect to server...
[2025-12-23 15:47:15.913] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:15.914] [ERROR] Connect failed: 10038
[2025-12-23 15:47:16.078] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:16.080] [INFO] Reconnecting to server...
[2025-12-23 15:47:16.082] [INFO] Attempting to connect to server...
[2025-12-23 15:47:16.084] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:16.085] [ERROR] Connect failed: 10038
[2025-12-23 15:47:16.260] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:16.261] [INFO] Reconnecting to server...
[2025-12-23 15:47:16.263] [INFO] Attempting to connect to server...
[2025-12-23 15:47:16.264] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:16.266] [ERROR] Connect failed: 10038
[2025-12-23 15:47:16.747] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:16.749] [INFO] Reconnecting to server...
[2025-12-23 15:47:16.751] [INFO] Attempting to connect to server...
[2025-12-23 15:47:16.752] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:16.754] [ERROR] Connect failed: 10038
[2025-12-23 15:47:17.190] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:17.192] [INFO] Reconnecting to server...
[2025-12-23 15:47:17.193] [INFO] Attempting to connect to server...
[2025-12-23 15:47:17.195] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:17.196] [ERROR] Connect failed: 10038
[2025-12-23 15:47:17.523] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:47:17.525] [INFO] Reconnecting to server...
[2025-12-23 15:47:17.526] [INFO] Attempting to connect to server...
[2025-12-23 15:47:17.528] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:47:17.530] [ERROR] Connect failed: 10038
[2025-12-23 15:48:14.130] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:48:14.130] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:48:14.130] [DEBUG] Setting up UI...
[2025-12-23 15:48:14.150] [DEBUG] Creating Manager instance...
[2025-12-23 15:48:14.150] [INFO] Manager initialized for server
[2025-12-23 15:48:14.151] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:48:14.199] [DEBUG] Socket created successfully
[2025-12-23 15:48:14.199] [DEBUG] Session activated callback set
[2025-12-23 15:48:14.200] [INFO] Attempting to connect to server...
[2025-12-23 15:48:14.200] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:48:14.200] [DEBUG] Current socket value before connection: 976
[2025-12-23 15:49:25.180] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:49:25.180] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:49:25.181] [DEBUG] Setting up UI...
[2025-12-23 15:49:25.206] [DEBUG] Creating Manager instance...
[2025-12-23 15:49:25.206] [INFO] Manager initialized for server
[2025-12-23 15:49:25.206] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:49:25.245] [DEBUG] Socket created successfully
[2025-12-23 15:49:25.245] [DEBUG] Session activated callback set
[2025-12-23 15:49:25.246] [INFO] Attempting to connect to server...
[2025-12-23 15:49:25.246] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:49:25.246] [DEBUG] Current socket value before connection: -1163005939
[2025-12-23 15:49:54.597] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:49:54.597] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:49:54.597] [DEBUG] Setting up UI...
[2025-12-23 15:49:54.623] [DEBUG] Creating Manager instance...
[2025-12-23 15:49:54.623] [INFO] Manager initialized for server
[2025-12-23 15:49:54.624] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:49:54.669] [DEBUG] Session activated callback set
[2025-12-23 15:49:54.669] [INFO] Attempting to connect to server...
[2025-12-23 15:49:54.669] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:49:54.670] [DEBUG] Current socket value before connection: -1163005939
[2025-12-23 15:50:21.014] [DEBUG] Closing existing socket before creating new one
[2025-12-23 15:50:45.264] [DEBUG] New socket created successfully, socket value: 1012
[2025-12-23 15:51:45.440] [INFO] Connected to server successfully!
[2025-12-23 15:51:50.379] [DEBUG] Socket set to non-blocking mode
[2025-12-23 15:51:50.379] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:51:50.379] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 15:51:50.382] [DEBUG] Worker thread started
[2025-12-23 15:51:50.382] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 15:51:50.383] [INFO] Connection established and handshake initiated
[2025-12-23 15:51:50.383] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:51:50.383] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:51:50.387] [INFO] Client loop started.
[2025-12-23 15:51:50.393] [DEBUG] Configuring room table properties...
[2025-12-23 15:51:50.394] [DEBUG] Room table properties configured
[2025-12-23 15:51:50.394] [DEBUG] Initializing room table...
[2025-12-23 15:51:50.396] [DEBUG] Initializing player list...
[2025-12-23 15:51:50.396] [DEBUG] Setting up signals...
[2025-12-23 15:51:50.396] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:51:50.396] [DEBUG] Creating GameWidget...
[2025-12-23 15:51:50.399] [DEBUG] [Handshake] Received NewSession. ID: 3444876933946577859
[2025-12-23 15:51:50.401] [DEBUG] Saved server public key
[2025-12-23 15:51:50.402] [DEBUG] GameWidget UI initialized
[2025-12-23 15:51:50.403] [DEBUG] GameWidget signal connections established
[2025-12-23 15:51:50.403] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:51:50.403] [DEBUG] Creating GameManager instance...
[2025-12-23 15:51:50.404] [DEBUG] Setting up signal connections...
[2025-12-23 15:51:50.404] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:51:50.404] [DEBUG] localGame connection result: 1
[2025-12-23 15:51:50.404] [DEBUG] Initializing window components...
[2025-12-23 15:51:50.405] [DEBUG] Initializing window style...
[2025-12-23 15:51:50.412] [INFO] [Handshake] Session Activated!
[2025-12-23 15:51:50.412] [DEBUG] Calling sessionActivatedCallback with sessionId: 3444876933946577859
[2025-12-23 15:51:50.413] [INFO] Session activated callback received, sessionId: 3444876933946577859
[2025-12-23 15:51:50.422] [DEBUG] Set main window background to white
[2025-12-23 15:51:50.422] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:51:50.431] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:51:50.432] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:51:50.432] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:51:50.432] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:51:50.433] [DEBUG] Set window palette to white background
[2025-12-23 15:51:50.433] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:51:50.433] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:51:50.433] [DEBUG] Initializing layout...
[2025-12-23 15:51:50.434] [DEBUG] centralwidget found at address: 2671402747472
[2025-12-23 15:51:50.434] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:51:50.434] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:51:50.434] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:51:50.434] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:51:50.434] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:51:50.435] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:51:50.435] [DEBUG] Layout initialized successfully
[2025-12-23 15:51:50.435] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:51:50.435] [DEBUG] Initializing title bar components...
[2025-12-23 15:51:50.435] [DEBUG] titleBarWidget found at address: 2671402753568
[2025-12-23 15:51:50.436] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:51:50.436] [DEBUG] titleLabel found at address: 2671402755632
[2025-12-23 15:51:50.436] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:51:50.436] [DEBUG] minimizeButton found at address: 2671402771024
[2025-12-23 15:51:50.437] [DEBUG] maximizeButton found at address: 2671402774720
[2025-12-23 15:51:50.437] [DEBUG] closeButton found at address: 2671402785312
[2025-12-23 15:51:50.437] [DEBUG] Title bar initialization completed
[2025-12-23 15:51:50.437] [DEBUG] Initializing status bar components...
[2025-12-23 15:51:50.437] [DEBUG] statusBarWidget found
[2025-12-23 15:51:50.438] [DEBUG] statusMessageLabel found
[2025-12-23 15:51:50.438] [DEBUG] networkStatusButton found
[2025-12-23 15:51:50.438] [DEBUG] userInfoButton found
[2025-12-23 15:51:50.438] [DEBUG] Status bar initialization completed
[2025-12-23 15:51:50.439] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:51:50.439] [DEBUG] stackedWidget found in UI
[2025-12-23 15:51:50.451] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:51:50.451] [DEBUG] Creating ToastWidget...
[2025-12-23 15:51:50.453] [DEBUG] === Validating Window Background ===
[2025-12-23 15:51:50.453] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:51:50.454] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:51:50.454] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:51:50.454] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:51:50.454] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:51:50.454] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:51:50.455] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:51:50.455] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:51:50.455] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:51:50.455] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:51:55.459] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:51:55.459] [INFO] Reconnecting to server...
[2025-12-23 15:51:55.459] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 15:52:00.794] [DEBUG] Creating room
[2025-12-23 15:52:00.794] [DEBUG] Sent packet (type: 512)
[2025-12-23 15:52:00.809] [DEBUG] Received packet (type: 65535)
[2025-12-23 15:52:19.191] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:52:20.136] [DEBUG] User chose to login with account
[2025-12-23 15:52:24.429] [INFO] Login attempt for user: admin
[2025-12-23 15:52:24.429] [DEBUG] Login packet created with session ID: 3444876933946577859
[2025-12-23 15:52:24.429] [DEBUG] Sending login packet...
[2025-12-23 15:52:24.429] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:52:24.429] [INFO] Login request sent for user: admin
[2025-12-23 15:53:59.078] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:53:59.078] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:53:59.078] [DEBUG] Setting up UI...
[2025-12-23 15:53:59.101] [DEBUG] Creating Manager instance...
[2025-12-23 15:53:59.101] [INFO] Manager initialized for server
[2025-12-23 15:53:59.101] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:53:59.140] [DEBUG] Session activated callback set
[2025-12-23 15:53:59.141] [INFO] Attempting to connect to server...
[2025-12-23 15:53:59.141] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:53:59.141] [DEBUG] Current socket value before connection: -1163005939
[2025-12-23 15:54:51.391] [DEBUG] Closing existing socket before creating new one
[2025-12-23 15:55:13.338] [DEBUG] New socket created successfully, socket value: 1012
[2025-12-23 15:55:13.339] [INFO] Connected to server successfully!
[2025-12-23 15:55:13.339] [DEBUG] Socket set to non-blocking mode
[2025-12-23 15:55:13.339] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:55:13.340] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 15:55:13.342] [DEBUG] Worker thread started
[2025-12-23 15:55:13.343] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 15:55:13.343] [TRACE] Sending frame: 0
[2025-12-23 15:55:13.343] [INFO] Connection established and handshake initiated
[2025-12-23 15:55:13.343] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:55:13.344] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:55:13.347] [INFO] Client loop started.
[2025-12-23 15:55:13.353] [DEBUG] Configuring room table properties...
[2025-12-23 15:55:13.353] [DEBUG] Room table properties configured
[2025-12-23 15:55:13.353] [DEBUG] Initializing room table...
[2025-12-23 15:55:13.355] [DEBUG] Initializing player list...
[2025-12-23 15:55:13.356] [DEBUG] Setting up signals...
[2025-12-23 15:55:13.356] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:55:13.356] [DEBUG] Creating GameWidget...
[2025-12-23 15:55:13.362] [DEBUG] [Handshake] Received NewSession. ID: 1241559163697071234
[2025-12-23 15:55:13.362] [DEBUG] GameWidget UI initialized
[2025-12-23 15:55:13.362] [DEBUG] GameWidget signal connections established
[2025-12-23 15:55:13.362] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:55:13.363] [DEBUG] Creating GameManager instance...
[2025-12-23 15:55:13.363] [DEBUG] Setting up signal connections...
[2025-12-23 15:55:13.363] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:55:13.363] [DEBUG] localGame connection result: 1
[2025-12-23 15:55:13.364] [DEBUG] Initializing window components...
[2025-12-23 15:55:13.364] [DEBUG] Initializing window style...
[2025-12-23 15:55:13.364] [DEBUG] Saved server public key
[2025-12-23 15:55:13.364] [TRACE] Sending frame: 1
[2025-12-23 15:55:13.376] [DEBUG] Set main window background to white
[2025-12-23 15:55:13.376] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:55:13.377] [INFO] [Handshake] Session Activated!
[2025-12-23 15:55:13.377] [DEBUG] Calling sessionActivatedCallback with sessionId: 1241559163697071234
[2025-12-23 15:55:13.378] [INFO] Session activated callback received, sessionId: 1241559163697071234
[2025-12-23 15:55:13.387] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:55:13.387] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:55:13.388] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:55:13.388] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:55:13.388] [DEBUG] Set window palette to white background
[2025-12-23 15:55:13.388] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:55:13.388] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:55:13.389] [DEBUG] Initializing layout...
[2025-12-23 15:55:13.389] [DEBUG] centralwidget found at address: 2881155630672
[2025-12-23 15:55:13.389] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:55:13.389] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:55:13.389] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:55:13.390] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:55:13.390] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:55:13.390] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:55:13.390] [DEBUG] Layout initialized successfully
[2025-12-23 15:55:13.390] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:55:13.391] [DEBUG] Initializing title bar components...
[2025-12-23 15:55:13.391] [DEBUG] titleBarWidget found at address: 2881155636768
[2025-12-23 15:55:13.391] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:55:13.391] [DEBUG] titleLabel found at address: 2881155638832
[2025-12-23 15:55:13.392] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:55:13.392] [DEBUG] minimizeButton found at address: 2881155654224
[2025-12-23 15:55:13.392] [DEBUG] maximizeButton found at address: 2881155657920
[2025-12-23 15:55:13.392] [DEBUG] closeButton found at address: 2881155668512
[2025-12-23 15:55:13.392] [DEBUG] Title bar initialization completed
[2025-12-23 15:55:13.392] [DEBUG] Initializing status bar components...
[2025-12-23 15:55:13.393] [DEBUG] statusBarWidget found
[2025-12-23 15:55:13.393] [DEBUG] statusMessageLabel found
[2025-12-23 15:55:13.393] [DEBUG] networkStatusButton found
[2025-12-23 15:55:13.393] [DEBUG] userInfoButton found
[2025-12-23 15:55:13.393] [DEBUG] Status bar initialization completed
[2025-12-23 15:55:13.394] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:55:13.394] [DEBUG] stackedWidget found in UI
[2025-12-23 15:55:13.408] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:55:13.408] [DEBUG] Creating ToastWidget...
[2025-12-23 15:55:13.410] [DEBUG] === Validating Window Background ===
[2025-12-23 15:55:13.410] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:55:13.410] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:55:13.410] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:55:13.411] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:55:13.411] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:55:13.411] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:55:13.411] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:55:13.411] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:55:13.412] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:55:13.412] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:55:18.079] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:55:19.077] [DEBUG] User chose to login with account
[2025-12-23 15:55:22.629] [INFO] Login attempt for user: admin
[2025-12-23 15:55:22.630] [DEBUG] Login packet created with session ID: 1241559163697071234
[2025-12-23 15:55:22.630] [DEBUG] Sending login packet...
[2025-12-23 15:55:22.630] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:55:22.630] [TRACE] Sending frame: 2
[2025-12-23 15:55:22.630] [INFO] Login request sent for user: admin
[2025-12-23 15:55:22.638] [TRACE] Received Active frame.
[2025-12-23 15:55:23.407] [TRACE] Sending frame: 2
[2025-12-23 15:55:23.407] [TRACE] Heartbeat sent.
[2025-12-23 15:55:33.458] [TRACE] Sending frame: 2
[2025-12-23 15:55:33.459] [TRACE] Heartbeat sent.
[2025-12-23 15:55:43.508] [TRACE] Sending frame: 2
[2025-12-23 15:55:43.509] [TRACE] Heartbeat sent.
[2025-12-23 15:55:53.535] [TRACE] Sending frame: 2
[2025-12-23 15:55:53.536] [TRACE] Heartbeat sent.
[2025-12-23 15:56:03.559] [TRACE] Sending frame: 2
[2025-12-23 15:56:03.560] [TRACE] Heartbeat sent.
[2025-12-23 15:56:13.608] [TRACE] Sending frame: 2
[2025-12-23 15:56:13.609] [TRACE] Heartbeat sent.
[2025-12-23 15:56:23.650] [TRACE] Sending frame: 2
[2025-12-23 15:56:23.650] [TRACE] Heartbeat sent.
[2025-12-23 15:56:33.728] [TRACE] Sending frame: 2
[2025-12-23 15:56:33.728] [TRACE] Heartbeat sent.
[2025-12-23 15:56:43.742] [TRACE] Sending frame: 2
[2025-12-23 15:56:43.742] [TRACE] Heartbeat sent.
[2025-12-23 15:56:53.836] [TRACE] Sending frame: 2
[2025-12-23 15:56:53.837] [TRACE] Heartbeat sent.
[2025-12-23 15:57:03.846] [TRACE] Sending frame: 2
[2025-12-23 15:57:03.846] [TRACE] Heartbeat sent.
[2025-12-23 15:57:13.911] [TRACE] Sending frame: 2
[2025-12-23 15:57:13.912] [TRACE] Heartbeat sent.
[2025-12-23 15:57:23.976] [TRACE] Sending frame: 2
[2025-12-23 15:57:23.977] [TRACE] Heartbeat sent.
[2025-12-23 15:57:34.063] [TRACE] Sending frame: 2
[2025-12-23 15:57:34.064] [TRACE] Heartbeat sent.
[2025-12-23 15:57:50.891] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:57:50.892] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:57:50.892] [DEBUG] Setting up UI...
[2025-12-23 15:57:50.914] [DEBUG] Creating Manager instance...
[2025-12-23 15:57:50.915] [INFO] Manager initialized for server
[2025-12-23 15:57:50.915] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:57:50.956] [DEBUG] Session activated callback set
[2025-12-23 15:57:50.957] [INFO] Attempting to connect to server...
[2025-12-23 15:57:50.957] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:58:00.329] [DEBUG] New socket created successfully, socket value: 1040
[2025-12-23 15:58:00.329] [INFO] Connected to server successfully!
[2025-12-23 15:58:00.330] [DEBUG] Socket set to non-blocking mode
[2025-12-23 15:58:00.330] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:58:00.330] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 15:58:00.334] [DEBUG] Worker thread started
[2025-12-23 15:58:00.335] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 15:58:00.335] [TRACE] Sending frame: 0
[2025-12-23 15:58:00.336] [INFO] Connection established and handshake initiated
[2025-12-23 15:58:00.336] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:58:00.336] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:58:00.339] [INFO] Client loop started.
[2025-12-23 15:58:00.350] [DEBUG] Configuring room table properties...
[2025-12-23 15:58:00.350] [DEBUG] Room table properties configured
[2025-12-23 15:58:00.351] [DEBUG] Initializing room table...
[2025-12-23 15:58:00.353] [DEBUG] Initializing player list...
[2025-12-23 15:58:00.354] [DEBUG] Setting up signals...
[2025-12-23 15:58:00.354] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:58:00.355] [DEBUG] Creating GameWidget...
[2025-12-23 15:58:00.361] [DEBUG] [Handshake] Received NewSession. ID: 11442109848805051030
[2025-12-23 15:58:00.363] [DEBUG] GameWidget UI initialized
[2025-12-23 15:58:00.363] [DEBUG] GameWidget signal connections established
[2025-12-23 15:58:00.363] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:58:00.363] [DEBUG] Creating GameManager instance...
[2025-12-23 15:58:00.364] [DEBUG] Saved server public key
[2025-12-23 15:58:00.364] [DEBUG] Setting up signal connections...
[2025-12-23 15:58:00.364] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:58:00.365] [TRACE] Sending frame: 1
[2025-12-23 15:58:00.365] [DEBUG] localGame connection result: 1
[2025-12-23 15:58:00.366] [DEBUG] Initializing window components...
[2025-12-23 15:58:00.366] [DEBUG] Initializing window style...
[2025-12-23 15:58:00.376] [INFO] [Handshake] Session Activated!
[2025-12-23 15:58:00.377] [DEBUG] Calling sessionActivatedCallback with sessionId: 11442109848805051030
[2025-12-23 15:58:00.377] [INFO] Session activated callback received, sessionId: 11442109848805051030
[2025-12-23 15:58:00.380] [DEBUG] Set main window background to white
[2025-12-23 15:58:00.381] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:58:00.393] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:58:00.394] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:58:00.394] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:58:00.394] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:58:00.394] [DEBUG] Set window palette to white background
[2025-12-23 15:58:00.395] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:58:00.395] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:58:00.395] [DEBUG] Initializing layout...
[2025-12-23 15:58:00.395] [DEBUG] centralwidget found at address: 2769384179280
[2025-12-23 15:58:00.395] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:58:00.396] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:58:00.396] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:58:00.396] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:58:00.396] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:58:00.396] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:58:00.397] [DEBUG] Layout initialized successfully
[2025-12-23 15:58:00.397] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:58:00.397] [DEBUG] Initializing title bar components...
[2025-12-23 15:58:00.398] [DEBUG] titleBarWidget found at address: 2769384185376
[2025-12-23 15:58:00.398] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:58:00.398] [DEBUG] titleLabel found at address: 2769384187440
[2025-12-23 15:58:00.399] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:58:00.399] [DEBUG] minimizeButton found at address: 2769384202832
[2025-12-23 15:58:00.399] [DEBUG] maximizeButton found at address: 2769384206528
[2025-12-23 15:58:00.399] [DEBUG] closeButton found at address: 2769384217120
[2025-12-23 15:58:00.399] [DEBUG] Title bar initialization completed
[2025-12-23 15:58:00.400] [DEBUG] Initializing status bar components...
[2025-12-23 15:58:00.400] [DEBUG] statusBarWidget found
[2025-12-23 15:58:00.400] [DEBUG] statusMessageLabel found
[2025-12-23 15:58:00.400] [DEBUG] networkStatusButton found
[2025-12-23 15:58:00.400] [DEBUG] userInfoButton found
[2025-12-23 15:58:00.401] [DEBUG] Status bar initialization completed
[2025-12-23 15:58:00.401] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:58:00.401] [DEBUG] stackedWidget found in UI
[2025-12-23 15:58:00.415] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:58:00.415] [DEBUG] Creating ToastWidget...
[2025-12-23 15:58:00.417] [DEBUG] === Validating Window Background ===
[2025-12-23 15:58:00.418] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:58:00.418] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:58:00.418] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:58:00.419] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:58:00.419] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:58:00.419] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:58:00.419] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:58:00.419] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:58:00.420] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:58:00.420] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:58:09.871] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 15:58:09.871] [INFO] Reconnecting to server...
[2025-12-23 15:58:09.871] [INFO] Already connected to server, skipping connection attempt
[2025-12-23 15:58:10.447] [TRACE] Sending frame: 2
[2025-12-23 15:58:10.447] [TRACE] Heartbeat sent.
[2025-12-23 15:58:20.479] [TRACE] Sending frame: 2
[2025-12-23 15:58:20.480] [TRACE] Heartbeat sent.
[2025-12-23 15:58:23.459] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:58:24.483] [DEBUG] User chose to login with account
[2025-12-23 15:58:28.228] [INFO] Login attempt for user: admin
[2025-12-23 15:58:28.228] [DEBUG] Login packet created with session ID: 11442109848805051030
[2025-12-23 15:58:28.228] [DEBUG] Sending login packet...
[2025-12-23 15:58:28.229] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:58:28.229] [TRACE] Sending frame: 2
[2025-12-23 15:58:28.229] [INFO] Login request sent for user: admin
[2025-12-23 15:58:28.240] [TRACE] Received Active frame.
[2025-12-23 15:58:28.240] [WARN] Deserialize failed
[2025-12-23 15:58:30.559] [TRACE] Sending frame: 2
[2025-12-23 15:58:30.559] [TRACE] Heartbeat sent.
[2025-12-23 15:58:40.584] [TRACE] Sending frame: 2
[2025-12-23 15:58:40.585] [TRACE] Heartbeat sent.
[2025-12-23 15:58:50.610] [TRACE] Sending frame: 2
[2025-12-23 15:58:50.610] [TRACE] Heartbeat sent.
[2025-12-23 15:59:00.656] [TRACE] Sending frame: 2
[2025-12-23 15:59:00.657] [TRACE] Heartbeat sent.
[2025-12-23 15:59:10.704] [TRACE] Sending frame: 2
[2025-12-23 15:59:10.704] [TRACE] Heartbeat sent.
[2025-12-23 15:59:23.425] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 15:59:23.425] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 15:59:23.425] [DEBUG] Setting up UI...
[2025-12-23 15:59:23.444] [DEBUG] Creating Manager instance...
[2025-12-23 15:59:23.444] [INFO] Manager initialized for server
[2025-12-23 15:59:23.444] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 15:59:23.480] [DEBUG] Session activated callback set
[2025-12-23 15:59:23.480] [INFO] Attempting to connect to server...
[2025-12-23 15:59:23.480] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 15:59:23.489] [DEBUG] New socket created successfully, socket value: 1040
[2025-12-23 15:59:23.490] [INFO] Connected to server successfully!
[2025-12-23 15:59:23.490] [DEBUG] Socket set to non-blocking mode
[2025-12-23 15:59:23.490] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 15:59:23.490] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 15:59:23.493] [DEBUG] Worker thread started
[2025-12-23 15:59:23.493] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 15:59:23.493] [TRACE] Sending frame: 0
[2025-12-23 15:59:23.494] [INFO] Connection established and handshake initiated
[2025-12-23 15:59:23.494] [DEBUG] Creating LobbyWidget...
[2025-12-23 15:59:23.494] [DEBUG] LobbyWidget Initializing...
[2025-12-23 15:59:23.497] [INFO] Client loop started.
[2025-12-23 15:59:23.502] [DEBUG] Configuring room table properties...
[2025-12-23 15:59:23.502] [DEBUG] Room table properties configured
[2025-12-23 15:59:23.502] [DEBUG] Initializing room table...
[2025-12-23 15:59:23.504] [DEBUG] Initializing player list...
[2025-12-23 15:59:23.505] [DEBUG] Setting up signals...
[2025-12-23 15:59:23.505] [INFO] LobbyWidget initialized successfully
[2025-12-23 15:59:23.505] [DEBUG] Creating GameWidget...
[2025-12-23 15:59:23.510] [DEBUG] GameWidget UI initialized
[2025-12-23 15:59:23.510] [DEBUG] GameWidget signal connections established
[2025-12-23 15:59:23.510] [DEBUG] GameWidget constructed successfully
[2025-12-23 15:59:23.511] [DEBUG] Creating GameManager instance...
[2025-12-23 15:59:23.511] [DEBUG] Setting up signal connections...
[2025-12-23 15:59:23.511] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 15:59:23.511] [DEBUG] localGame connection result: 1
[2025-12-23 15:59:23.512] [DEBUG] Initializing window components...
[2025-12-23 15:59:23.512] [DEBUG] Initializing window style...
[2025-12-23 15:59:23.514] [DEBUG] [Handshake] Received NewSession. ID: 1241559163697071234
[2025-12-23 15:59:23.516] [DEBUG] Saved server public key
[2025-12-23 15:59:23.517] [TRACE] Sending frame: 1
[2025-12-23 15:59:23.525] [DEBUG] Set main window background to white
[2025-12-23 15:59:23.525] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 15:59:23.529] [INFO] [Handshake] Session Activated!
[2025-12-23 15:59:23.530] [DEBUG] Calling sessionActivatedCallback with sessionId: 1241559163697071234
[2025-12-23 15:59:23.530] [INFO] Session activated callback received, sessionId: 1241559163697071234
[2025-12-23 15:59:23.537] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 15:59:23.537] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 15:59:23.537] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 15:59:23.537] [DEBUG] Window size set to: 1000x700
[2025-12-23 15:59:23.538] [DEBUG] Set window palette to white background
[2025-12-23 15:59:23.538] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 15:59:23.538] [DEBUG] Window background role color: #ffffff
[2025-12-23 15:59:23.538] [DEBUG] Initializing layout...
[2025-12-23 15:59:23.538] [DEBUG] centralwidget found at address: 2167338370640
[2025-12-23 15:59:23.539] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 15:59:23.539] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 15:59:23.539] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 15:59:23.539] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 15:59:23.539] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 15:59:23.540] [DEBUG] Set centralwidget palette to white background
[2025-12-23 15:59:23.540] [DEBUG] Layout initialized successfully
[2025-12-23 15:59:23.540] [DEBUG] Initializing title bar and status bar...
[2025-12-23 15:59:23.540] [DEBUG] Initializing title bar components...
[2025-12-23 15:59:23.540] [DEBUG] titleBarWidget found at address: 2167338376736
[2025-12-23 15:59:23.541] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 15:59:23.541] [DEBUG] titleLabel found at address: 2167338378800
[2025-12-23 15:59:23.541] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 15:59:23.541] [DEBUG] minimizeButton found at address: 2167338394192
[2025-12-23 15:59:23.541] [DEBUG] maximizeButton found at address: 2167338397888
[2025-12-23 15:59:23.541] [DEBUG] closeButton found at address: 2167338408480
[2025-12-23 15:59:23.542] [DEBUG] Title bar initialization completed
[2025-12-23 15:59:23.542] [DEBUG] Initializing status bar components...
[2025-12-23 15:59:23.542] [DEBUG] statusBarWidget found
[2025-12-23 15:59:23.542] [DEBUG] statusMessageLabel found
[2025-12-23 15:59:23.542] [DEBUG] networkStatusButton found
[2025-12-23 15:59:23.542] [DEBUG] userInfoButton found
[2025-12-23 15:59:23.543] [DEBUG] Status bar initialization completed
[2025-12-23 15:59:23.543] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 15:59:23.543] [DEBUG] stackedWidget found in UI
[2025-12-23 15:59:23.556] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 15:59:23.557] [DEBUG] Creating ToastWidget...
[2025-12-23 15:59:23.558] [DEBUG] === Validating Window Background ===
[2025-12-23 15:59:23.558] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 15:59:23.559] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 15:59:23.559] [INFO] CentralWidget background is correctly set to white
[2025-12-23 15:59:23.559] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 15:59:23.559] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 15:59:23.560] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 15:59:23.560] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 15:59:23.560] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 15:59:23.560] [DEBUG] === Background Validation Complete ===
[2025-12-23 15:59:23.560] [INFO] MainWindow initialization completed successfully
[2025-12-23 15:59:33.527] [TRACE] Sending frame: 2
[2025-12-23 15:59:33.527] [TRACE] Heartbeat sent.
[2025-12-23 15:59:43.574] [TRACE] Sending frame: 2
[2025-12-23 15:59:43.574] [TRACE] Heartbeat sent.
[2025-12-23 15:59:45.457] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 15:59:47.350] [DEBUG] User chose to login with account
[2025-12-23 15:59:50.601] [INFO] Login attempt for user: admin
[2025-12-23 15:59:50.602] [DEBUG] Login packet created with session ID: 1241559163697071234
[2025-12-23 15:59:50.602] [DEBUG] Sending login packet...
[2025-12-23 15:59:50.602] [DEBUG] Sent packet (type: 256)
[2025-12-23 15:59:50.602] [TRACE] Sending frame: 2
[2025-12-23 15:59:50.602] [INFO] Login request sent for user: admin
[2025-12-23 15:59:50.617] [TRACE] Received Active frame.
[2025-12-23 16:03:38.727] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 16:03:38.728] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 16:03:38.728] [DEBUG] Setting up UI...
[2025-12-23 16:03:38.757] [DEBUG] Creating Manager instance...
[2025-12-23 16:03:38.757] [INFO] Manager initialized for server
[2025-12-23 16:03:38.758] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 16:03:38.801] [DEBUG] Session activated callback set
[2025-12-23 16:03:38.801] [INFO] Attempting to connect to server...
[2025-12-23 16:03:38.802] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 16:03:38.814] [DEBUG] New socket created successfully, socket value: 1028
[2025-12-23 16:03:38.814] [INFO] Connected to server successfully!
[2025-12-23 16:03:38.815] [DEBUG] Socket set to non-blocking mode
[2025-12-23 16:03:38.815] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:03:38.815] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:03:38.816] [DEBUG] Worker thread started
[2025-12-23 16:03:38.816] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 16:03:38.816] [TRACE] Sending frame: 0
[2025-12-23 16:03:38.817] [INFO] Connection established and handshake initiated
[2025-12-23 16:03:38.817] [DEBUG] Creating LobbyWidget...
[2025-12-23 16:03:38.817] [DEBUG] LobbyWidget Initializing...
[2025-12-23 16:03:38.820] [INFO] Client loop started.
[2025-12-23 16:03:38.827] [DEBUG] Configuring room table properties...
[2025-12-23 16:03:38.827] [DEBUG] Room table properties configured
[2025-12-23 16:03:38.828] [DEBUG] Initializing room table...
[2025-12-23 16:03:38.830] [DEBUG] Initializing player list...
[2025-12-23 16:03:38.830] [DEBUG] Setting up signals...
[2025-12-23 16:03:38.830] [INFO] LobbyWidget initialized successfully
[2025-12-23 16:03:38.831] [DEBUG] Creating GameWidget...
[2025-12-23 16:03:38.839] [DEBUG] GameWidget UI initialized
[2025-12-23 16:03:38.840] [DEBUG] GameWidget signal connections established
[2025-12-23 16:03:38.840] [DEBUG] GameWidget constructed successfully
[2025-12-23 16:03:38.841] [DEBUG] Creating GameManager instance...
[2025-12-23 16:03:38.841] [DEBUG] Setting up signal connections...
[2025-12-23 16:03:38.841] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 16:03:38.842] [DEBUG] localGame connection result: 1
[2025-12-23 16:03:38.842] [DEBUG] [Handshake] Received NewSession. ID: 15384622234764677629
[2025-12-23 16:03:38.842] [DEBUG] Initializing window components...
[2025-12-23 16:03:38.843] [DEBUG] Initializing window style...
[2025-12-23 16:03:38.844] [DEBUG] Saved server public key
[2025-12-23 16:03:38.845] [TRACE] Sending frame: 1
[2025-12-23 16:03:38.858] [DEBUG] Set main window background to white
[2025-12-23 16:03:38.858] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 16:03:38.869] [INFO] [Handshake] Session Activated!
[2025-12-23 16:03:38.870] [DEBUG] Calling sessionActivatedCallback with sessionId: 15384622234764677629
[2025-12-23 16:03:38.870] [INFO] Session activated callback received, sessionId: 15384622234764677629
[2025-12-23 16:03:38.872] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 16:03:38.872] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 16:03:38.872] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 16:03:38.873] [DEBUG] Window size set to: 1000x700
[2025-12-23 16:03:38.873] [DEBUG] Set window palette to white background
[2025-12-23 16:03:38.873] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 16:03:38.874] [DEBUG] Window background role color: #ffffff
[2025-12-23 16:03:38.874] [DEBUG] Initializing layout...
[2025-12-23 16:03:38.874] [DEBUG] centralwidget found at address: 2486815557200
[2025-12-23 16:03:38.874] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 16:03:38.874] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 16:03:38.875] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 16:03:38.875] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 16:03:38.875] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 16:03:38.876] [DEBUG] Set centralwidget palette to white background
[2025-12-23 16:03:38.876] [DEBUG] Layout initialized successfully
[2025-12-23 16:03:38.876] [DEBUG] Initializing title bar and status bar...
[2025-12-23 16:03:38.877] [DEBUG] Initializing title bar components...
[2025-12-23 16:03:38.877] [DEBUG] titleBarWidget found at address: 2486815563296
[2025-12-23 16:03:38.877] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 16:03:38.878] [DEBUG] titleLabel found at address: 2486815565360
[2025-12-23 16:03:38.878] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 16:03:38.879] [DEBUG] minimizeButton found at address: 2486815580752
[2025-12-23 16:03:38.879] [DEBUG] maximizeButton found at address: 2486815584448
[2025-12-23 16:03:38.879] [DEBUG] closeButton found at address: 2486815595040
[2025-12-23 16:03:38.880] [DEBUG] Title bar initialization completed
[2025-12-23 16:03:38.880] [DEBUG] Initializing status bar components...
[2025-12-23 16:03:38.880] [DEBUG] statusBarWidget found
[2025-12-23 16:03:38.881] [DEBUG] statusMessageLabel found
[2025-12-23 16:03:38.881] [DEBUG] networkStatusButton found
[2025-12-23 16:03:38.881] [DEBUG] userInfoButton found
[2025-12-23 16:03:38.881] [DEBUG] Status bar initialization completed
[2025-12-23 16:03:38.882] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 16:03:38.882] [DEBUG] stackedWidget found in UI
[2025-12-23 16:03:38.897] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 16:03:38.898] [DEBUG] Creating ToastWidget...
[2025-12-23 16:03:38.899] [DEBUG] === Validating Window Background ===
[2025-12-23 16:03:38.900] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 16:03:38.900] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 16:03:38.900] [INFO] CentralWidget background is correctly set to white
[2025-12-23 16:03:38.901] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 16:03:38.901] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 16:03:38.901] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 16:03:38.901] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 16:03:38.902] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 16:03:38.902] [DEBUG] === Background Validation Complete ===
[2025-12-23 16:03:38.902] [INFO] MainWindow initialization completed successfully
[2025-12-23 16:03:48.867] [TRACE] Sending frame: 2
[2025-12-23 16:03:48.867] [TRACE] Heartbeat sent.
[2025-12-23 16:03:49.864] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 16:03:50.929] [DEBUG] User chose to login with account
[2025-12-23 16:03:54.607] [INFO] Login attempt for user: admin
[2025-12-23 16:03:54.607] [DEBUG] Login packet created with session ID: 15384622234764677629
[2025-12-23 16:03:54.607] [DEBUG] Sending login packet...
[2025-12-23 16:03:54.607] [DEBUG] Sent packet (type: 256)
[2025-12-23 16:03:54.608] [TRACE] Sending frame: 2
[2025-12-23 16:03:54.608] [INFO] Login request sent for user: admin
[2025-12-23 16:03:54.623] [TRACE] Received Active frame.
[2025-12-23 16:03:54.623] [TRACE] Received Packet
[2025-12-23 16:03:54.623] [DEBUG] Received packet (type: 256)
[2025-12-23 16:04:03.072] [TRACE] Sending frame: 2
[2025-12-23 16:04:03.073] [TRACE] Heartbeat sent.
[2025-12-23 16:04:05.879] [DEBUG] Creating room
[2025-12-23 16:04:05.879] [DEBUG] Sent packet (type: 512)
[2025-12-23 16:04:05.879] [TRACE] Sending frame: 2
[2025-12-23 16:04:05.891] [TRACE] Received Active frame.
[2025-12-23 16:04:05.891] [TRACE] Received Packet
[2025-12-23 16:04:05.891] [DEBUG] Received packet (type: 512)
[2025-12-23 16:04:13.106] [TRACE] Sending frame: 2
[2025-12-23 16:04:13.107] [TRACE] Heartbeat sent.
[2025-12-23 16:04:23.141] [TRACE] Sending frame: 2
[2025-12-23 16:04:23.142] [TRACE] Heartbeat sent.
[2025-12-23 16:04:33.181] [TRACE] Sending frame: 2
[2025-12-23 16:04:33.182] [TRACE] Heartbeat sent.
[2025-12-23 16:04:43.185] [TRACE] Sending frame: 2
[2025-12-23 16:04:43.185] [TRACE] Heartbeat sent.
[2025-12-23 16:04:53.231] [TRACE] Sending frame: 2
[2025-12-23 16:04:53.232] [TRACE] Heartbeat sent.
[2025-12-23 16:05:03.304] [TRACE] Sending frame: 2
[2025-12-23 16:05:03.304] [TRACE] Heartbeat sent.
[2025-12-23 16:05:13.318] [TRACE] Sending frame: 2
[2025-12-23 16:05:13.318] [TRACE] Heartbeat sent.
[2025-12-23 16:05:23.321] [TRACE] Sending frame: 2
[2025-12-23 16:05:23.321] [TRACE] Heartbeat sent.
[2025-12-23 16:05:33.386] [TRACE] Sending frame: 2
[2025-12-23 16:05:33.386] [TRACE] Heartbeat sent.
[2025-12-23 16:05:43.452] [TRACE] Sending frame: 2
[2025-12-23 16:05:43.453] [TRACE] Heartbeat sent.
[2025-12-23 16:05:53.545] [TRACE] Sending frame: 2
[2025-12-23 16:05:53.545] [TRACE] Heartbeat sent.
[2025-12-23 16:06:03.617] [TRACE] Sending frame: 2
[2025-12-23 16:06:03.618] [TRACE] Heartbeat sent.
[2025-12-23 16:06:13.697] [TRACE] Sending frame: 2
[2025-12-23 16:06:13.697] [TRACE] Heartbeat sent.
[2025-12-23 16:06:23.791] [TRACE] Sending frame: 2
[2025-12-23 16:06:23.792] [TRACE] Heartbeat sent.
[2025-12-23 16:06:33.883] [TRACE] Sending frame: 2
[2025-12-23 16:06:33.883] [TRACE] Heartbeat sent.
[2025-12-23 16:06:43.936] [TRACE] Sending frame: 2
[2025-12-23 16:06:43.936] [TRACE] Heartbeat sent.
[2025-12-23 16:06:54.007] [TRACE] Sending frame: 2
[2025-12-23 16:06:54.008] [TRACE] Heartbeat sent.
[2025-12-23 16:07:04.022] [TRACE] Sending frame: 2
[2025-12-23 16:07:04.022] [TRACE] Heartbeat sent.
[2025-12-23 16:07:14.123] [TRACE] Sending frame: 2
[2025-12-23 16:07:14.124] [TRACE] Heartbeat sent.
[2025-12-23 16:07:24.194] [TRACE] Sending frame: 2
[2025-12-23 16:07:24.194] [TRACE] Heartbeat sent.
[2025-12-23 16:07:34.272] [TRACE] Sending frame: 2
[2025-12-23 16:07:34.273] [TRACE] Heartbeat sent.
[2025-12-23 16:07:44.290] [TRACE] Sending frame: 2
[2025-12-23 16:07:44.292] [TRACE] Heartbeat sent.
[2025-12-23 16:07:54.307] [TRACE] Sending frame: 2
[2025-12-23 16:07:54.308] [TRACE] Heartbeat sent.
[2025-12-23 16:08:04.374] [TRACE] Sending frame: 2
[2025-12-23 16:08:04.375] [TRACE] Heartbeat sent.
[2025-12-23 16:08:14.395] [TRACE] Sending frame: 2
[2025-12-23 16:08:14.396] [TRACE] Heartbeat sent.
[2025-12-23 16:08:24.418] [TRACE] Sending frame: 2
[2025-12-23 16:08:24.419] [TRACE] Heartbeat sent.
[2025-12-23 16:08:34.463] [TRACE] Sending frame: 2
[2025-12-23 16:08:34.463] [TRACE] Heartbeat sent.
[2025-12-23 16:08:44.551] [TRACE] Sending frame: 2
[2025-12-23 16:08:44.552] [TRACE] Heartbeat sent.
[2025-12-23 16:08:54.585] [TRACE] Sending frame: 2
[2025-12-23 16:08:54.586] [TRACE] Heartbeat sent.
[2025-12-23 16:09:04.679] [TRACE] Sending frame: 2
[2025-12-23 16:09:04.680] [TRACE] Heartbeat sent.
[2025-12-23 16:09:14.787] [TRACE] Sending frame: 2
[2025-12-23 16:09:14.787] [TRACE] Heartbeat sent.
[2025-12-23 16:09:24.880] [TRACE] Sending frame: 2
[2025-12-23 16:09:24.881] [TRACE] Heartbeat sent.
[2025-12-23 16:09:34.979] [TRACE] Sending frame: 2
[2025-12-23 16:09:34.980] [TRACE] Heartbeat sent.
[2025-12-23 16:09:45.055] [TRACE] Sending frame: 2
[2025-12-23 16:09:45.056] [TRACE] Heartbeat sent.
[2025-12-23 16:09:55.070] [TRACE] Sending frame: 2
[2025-12-23 16:09:55.071] [TRACE] Heartbeat sent.
[2025-12-23 16:10:05.074] [TRACE] Sending frame: 2
[2025-12-23 16:10:05.075] [TRACE] Heartbeat sent.
[2025-12-23 16:10:15.161] [TRACE] Sending frame: 2
[2025-12-23 16:10:15.162] [TRACE] Heartbeat sent.
[2025-12-23 16:10:25.237] [TRACE] Sending frame: 2
[2025-12-23 16:10:25.237] [TRACE] Heartbeat sent.
[2025-12-23 16:10:35.260] [TRACE] Sending frame: 2
[2025-12-23 16:10:35.261] [TRACE] Heartbeat sent.
[2025-12-23 16:10:45.293] [TRACE] Sending frame: 2
[2025-12-23 16:10:45.294] [TRACE] Heartbeat sent.
[2025-12-23 16:10:55.342] [TRACE] Sending frame: 2
[2025-12-23 16:10:55.342] [TRACE] Heartbeat sent.
[2025-12-23 16:11:05.439] [TRACE] Sending frame: 2
[2025-12-23 16:11:05.439] [TRACE] Heartbeat sent.
[2025-12-23 16:11:15.496] [TRACE] Sending frame: 2
[2025-12-23 16:11:15.497] [TRACE] Heartbeat sent.
[2025-12-23 16:11:25.526] [TRACE] Sending frame: 2
[2025-12-23 16:11:25.526] [TRACE] Heartbeat sent.
[2025-12-23 16:11:35.595] [TRACE] Sending frame: 2
[2025-12-23 16:11:35.596] [TRACE] Heartbeat sent.
[2025-12-23 16:11:45.621] [TRACE] Sending frame: 2
[2025-12-23 16:11:45.621] [TRACE] Heartbeat sent.
[2025-12-23 16:11:55.668] [TRACE] Sending frame: 2
[2025-12-23 16:11:55.668] [TRACE] Heartbeat sent.
[2025-12-23 16:12:17.387] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 16:12:17.388] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 16:12:17.388] [DEBUG] Setting up UI...
[2025-12-23 16:12:17.416] [DEBUG] Creating Manager instance...
[2025-12-23 16:12:17.417] [INFO] Manager initialized for server
[2025-12-23 16:12:17.417] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 16:12:17.457] [DEBUG] Session activated callback set
[2025-12-23 16:12:17.458] [INFO] Attempting to connect to server...
[2025-12-23 16:12:17.458] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 16:12:17.469] [DEBUG] New socket created successfully, socket value: 992
[2025-12-23 16:12:17.470] [INFO] Connected to server successfully!
[2025-12-23 16:12:17.471] [DEBUG] Socket set to non-blocking mode
[2025-12-23 16:12:17.471] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:12:17.471] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:12:17.472] [DEBUG] Worker thread started
[2025-12-23 16:12:17.472] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 16:12:17.473] [INFO] Connection established and handshake initiated
[2025-12-23 16:12:17.473] [DEBUG] Creating LobbyWidget...
[2025-12-23 16:12:17.474] [DEBUG] LobbyWidget Initializing...
[2025-12-23 16:12:17.477] [INFO] Client loop started.
[2025-12-23 16:12:17.483] [DEBUG] Configuring room table properties...
[2025-12-23 16:12:17.483] [DEBUG] Room table properties configured
[2025-12-23 16:12:17.484] [DEBUG] Initializing room table...
[2025-12-23 16:12:17.486] [DEBUG] Initializing player list...
[2025-12-23 16:12:17.487] [DEBUG] Setting up signals...
[2025-12-23 16:12:17.487] [INFO] LobbyWidget initialized successfully
[2025-12-23 16:12:17.488] [DEBUG] Creating GameWidget...
[2025-12-23 16:12:17.489] [DEBUG] [Handshake] Received NewSession. ID: 1115885022352911014
[2025-12-23 16:12:17.491] [DEBUG] Saved server public key
[2025-12-23 16:12:17.497] [DEBUG] GameWidget UI initialized
[2025-12-23 16:12:17.498] [DEBUG] GameWidget signal connections established
[2025-12-23 16:12:17.499] [DEBUG] GameWidget constructed successfully
[2025-12-23 16:12:17.499] [DEBUG] Creating GameManager instance...
[2025-12-23 16:12:17.500] [DEBUG] Setting up signal connections...
[2025-12-23 16:12:17.501] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 16:12:17.501] [DEBUG] localGame connection result: 1
[2025-12-23 16:12:17.502] [DEBUG] Initializing window components...
[2025-12-23 16:12:17.502] [DEBUG] Initializing window style...
[2025-12-23 16:12:17.505] [INFO] [Handshake] Session Activated!
[2025-12-23 16:12:17.505] [DEBUG] Calling sessionActivatedCallback with sessionId: 1115885022352911014
[2025-12-23 16:12:17.506] [INFO] Session activated callback received, sessionId: 1115885022352911014
[2025-12-23 16:12:17.520] [DEBUG] Set main window background to white
[2025-12-23 16:12:17.521] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 16:12:17.537] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 16:12:17.538] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 16:12:17.539] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 16:12:17.539] [DEBUG] Window size set to: 1000x700
[2025-12-23 16:12:17.540] [DEBUG] Set window palette to white background
[2025-12-23 16:12:17.540] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 16:12:17.540] [DEBUG] Window background role color: #ffffff
[2025-12-23 16:12:17.541] [DEBUG] Initializing layout...
[2025-12-23 16:12:17.541] [DEBUG] centralwidget found at address: 2589378020944
[2025-12-23 16:12:17.542] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 16:12:17.542] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 16:12:17.542] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 16:12:17.543] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 16:12:17.543] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 16:12:17.543] [DEBUG] Set centralwidget palette to white background
[2025-12-23 16:12:17.544] [DEBUG] Layout initialized successfully
[2025-12-23 16:12:17.544] [DEBUG] Initializing title bar and status bar...
[2025-12-23 16:12:17.544] [DEBUG] Initializing title bar components...
[2025-12-23 16:12:17.545] [DEBUG] titleBarWidget found at address: 2589378027040
[2025-12-23 16:12:17.545] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 16:12:17.546] [DEBUG] titleLabel found at address: 2589378029104
[2025-12-23 16:12:17.546] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 16:12:17.547] [DEBUG] minimizeButton found at address: 2589378044496
[2025-12-23 16:12:17.547] [DEBUG] maximizeButton found at address: 2589378048192
[2025-12-23 16:12:17.548] [DEBUG] closeButton found at address: 2589378058784
[2025-12-23 16:12:17.548] [DEBUG] Title bar initialization completed
[2025-12-23 16:12:17.549] [DEBUG] Initializing status bar components...
[2025-12-23 16:12:17.549] [DEBUG] statusBarWidget found
[2025-12-23 16:12:17.550] [DEBUG] statusMessageLabel found
[2025-12-23 16:12:17.550] [DEBUG] networkStatusButton found
[2025-12-23 16:12:17.550] [DEBUG] userInfoButton found
[2025-12-23 16:12:17.551] [DEBUG] Status bar initialization completed
[2025-12-23 16:12:17.551] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 16:12:17.551] [DEBUG] stackedWidget found in UI
[2025-12-23 16:12:17.575] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 16:12:17.575] [DEBUG] Creating ToastWidget...
[2025-12-23 16:12:17.577] [DEBUG] === Validating Window Background ===
[2025-12-23 16:12:17.578] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 16:12:17.579] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 16:12:17.580] [INFO] CentralWidget background is correctly set to white
[2025-12-23 16:12:17.580] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 16:12:17.581] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 16:12:17.582] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 16:12:17.582] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 16:12:17.583] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 16:12:17.583] [DEBUG] === Background Validation Complete ===
[2025-12-23 16:12:17.583] [INFO] MainWindow initialization completed successfully
[2025-12-23 16:12:22.638] [DEBUG] Creating room
[2025-12-23 16:12:22.639] [DEBUG] Sent packet (type: 512)
[2025-12-23 16:12:22.644] [DEBUG] Received packet (type: 65535)
[2025-12-23 16:12:24.998] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 16:12:27.316] [DEBUG] User chose to login with account
[2025-12-23 16:12:33.432] [INFO] Login attempt for user: xixi
[2025-12-23 16:12:33.432] [DEBUG] Login packet created with session ID: 1115885022352911014
[2025-12-23 16:12:33.432] [DEBUG] Sending login packet...
[2025-12-23 16:12:33.432] [DEBUG] Sent packet (type: 256)
[2025-12-23 16:12:33.433] [INFO] Login request sent for user: xixi
[2025-12-23 16:12:33.449] [DEBUG] Received packet (type: 65535)
[2025-12-23 16:12:35.676] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 16:12:36.729] [DEBUG] User chose to login with account
[2025-12-23 16:12:40.906] [INFO] Login attempt for user: admin
[2025-12-23 16:12:40.906] [DEBUG] Login packet created with session ID: 1115885022352911014
[2025-12-23 16:12:40.906] [DEBUG] Sending login packet...
[2025-12-23 16:12:40.906] [DEBUG] Sent packet (type: 256)
[2025-12-23 16:12:40.906] [INFO] Login request sent for user: admin
[2025-12-23 16:12:40.917] [DEBUG] Received packet (type: 256)
[2025-12-23 16:12:47.234] [DEBUG] Creating room
[2025-12-23 16:12:47.235] [DEBUG] Sent packet (type: 512)
[2025-12-23 16:12:47.248] [DEBUG] Received packet (type: 512)
[2025-12-23 16:12:47.248] [INFO] Room created successfully, room ID: 0
[2025-12-23 16:12:47.251] [DEBUG] Switching widget to index: 1
[2025-12-23 16:12:47.253] [INFO] Switching to Game widget
[2025-12-23 16:12:47.253] [DEBUG] Widget switch completed
[2025-12-23 16:12:47.256] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 16:12:47.258] [INFO] GameWidget initialized successfully
[2025-12-23 16:12:47.259] [DEBUG] GameManager::setLocalGame called with isLocal: 0
[2025-12-23 16:12:47.259] [DEBUG] GameManager::setLocalGame: isLocal is false, not initializing local game
[2025-12-23 16:16:10.751] [WARN] Server disconnected.
[2025-12-23 16:16:10.751] [DEBUG] Calling disconnectedCallback
[2025-12-23 16:16:10.751] [INFO] Disconnected from server callback triggered
[2025-12-23 16:16:22.989] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:23.786] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:23.965] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:24.372] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:24.532] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:24.723] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:25.191] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:25.355] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:25.582] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:25.750] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:25.928] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:26.380] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:26.566] [DEBUG] Back to lobby button clicked
[2025-12-23 16:16:36.552] [DEBUG] Close button clicked
[2025-12-23 16:16:55.936] [INFO] MainWindow destructor called
[2025-12-23 16:16:55.937] [DEBUG] Cleaning up UI...
[2025-12-23 16:16:55.937] [DEBUG] Cleaning up Manager...
[2025-12-23 16:16:55.937] [INFO] Manager destructor called
[2025-12-23 16:16:55.937] [DEBUG] Disconnecting client...
[2025-12-23 16:16:55.938] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:16:55.938] [DEBUG] Current socket value before disconnect: 992
[2025-12-23 16:16:55.938] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 16:16:55.938] [DEBUG] Worker thread joined successfully.
[2025-12-23 16:16:55.938] [DEBUG] Closing socket
[2025-12-23 16:16:55.939] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 16:16:55.939] [DEBUG] Resetting session context
[2025-12-23 16:16:55.939] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 16:16:55.939] [INFO] Disconnected from server callback triggered
[2025-12-23 16:16:55.947] [INFO] Client disconnected successfully.
[2025-12-23 16:16:55.947] [DEBUG] Client destructor called
[2025-12-23 16:16:55.948] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:16:55.948] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 16:16:55.948] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:16:55.948] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 16:16:55.949] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 16:16:55.949] [INFO] Disconnected from server callback triggered
[2025-12-23 16:16:55.951] [INFO] Client disconnected successfully.
[2025-12-23 16:16:55.952] [DEBUG] Client cleanup completed
[2025-12-23 16:16:55.952] [DEBUG] Client disconnected and reset
[2025-12-23 16:16:55.952] [INFO] Manager cleanup completed
[2025-12-23 16:16:55.952] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 16:16:55.959] [DEBUG] Shutting down Logger...
[2025-12-23 16:16:55.960] [INFO] Logger shutting down.
[2025-12-23 16:17:45.629] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 16:17:45.629] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 16:17:45.630] [DEBUG] Setting up UI...
[2025-12-23 16:17:45.723] [DEBUG] Creating Manager instance...
[2025-12-23 16:17:45.723] [INFO] Manager initialized for server
[2025-12-23 16:17:45.723] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 16:17:45.740] [DEBUG] Session activated callback set
[2025-12-23 16:17:45.741] [INFO] Attempting to connect to server...
[2025-12-23 16:17:45.741] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 16:17:45.754] [DEBUG] New socket created successfully, socket value: 1008
[2025-12-23 16:17:45.755] [INFO] Connected to server successfully!
[2025-12-23 16:17:45.755] [DEBUG] Socket set to non-blocking mode
[2025-12-23 16:17:45.755] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:17:45.756] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:17:45.756] [DEBUG] Worker thread started
[2025-12-23 16:17:45.757] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 16:17:45.757] [INFO] Connection established and handshake initiated
[2025-12-23 16:17:45.757] [DEBUG] Creating LobbyWidget...
[2025-12-23 16:17:45.758] [DEBUG] LobbyWidget Initializing...
[2025-12-23 16:17:45.761] [INFO] Client loop started.
[2025-12-23 16:17:45.769] [DEBUG] Configuring room table properties...
[2025-12-23 16:17:45.769] [DEBUG] Room table properties configured
[2025-12-23 16:17:45.770] [DEBUG] Initializing room table...
[2025-12-23 16:17:45.772] [DEBUG] Initializing player list...
[2025-12-23 16:17:45.772] [DEBUG] Setting up signals...
[2025-12-23 16:17:45.772] [INFO] LobbyWidget initialized successfully
[2025-12-23 16:17:45.772] [DEBUG] Creating GameWidget...
[2025-12-23 16:17:45.779] [DEBUG] GameWidget UI initialized
[2025-12-23 16:17:45.779] [DEBUG] GameWidget signal connections established
[2025-12-23 16:17:45.780] [DEBUG] GameWidget constructed successfully
[2025-12-23 16:17:45.780] [DEBUG] Creating GameManager instance...
[2025-12-23 16:17:45.780] [DEBUG] Setting up signal connections...
[2025-12-23 16:17:45.781] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 16:17:45.781] [DEBUG] localGame connection result: 1
[2025-12-23 16:17:45.781] [DEBUG] Initializing window components...
[2025-12-23 16:17:45.782] [DEBUG] Initializing window style...
[2025-12-23 16:17:45.792] [DEBUG] [Handshake] Received NewSession. ID: 17120409384498395931
[2025-12-23 16:17:45.795] [DEBUG] Saved server public key
[2025-12-23 16:17:45.801] [DEBUG] Set main window background to white
[2025-12-23 16:17:45.802] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 16:17:45.814] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 16:17:45.815] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 16:17:45.815] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 16:17:45.815] [DEBUG] Window size set to: 1000x700
[2025-12-23 16:17:45.816] [DEBUG] Set window palette to white background
[2025-12-23 16:17:45.816] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 16:17:45.817] [INFO] [Handshake] Session Activated!
[2025-12-23 16:17:45.817] [DEBUG] Calling sessionActivatedCallback with sessionId: 17120409384498395931
[2025-12-23 16:17:45.817] [DEBUG] Window background role color: #ffffff
[2025-12-23 16:17:45.818] [INFO] Session activated callback received, sessionId: 17120409384498395931
[2025-12-23 16:17:45.818] [DEBUG] Initializing layout...
[2025-12-23 16:17:45.818] [DEBUG] centralwidget found at address: 2319025768016
[2025-12-23 16:17:45.819] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 16:17:45.819] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 16:17:45.819] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 16:17:45.819] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 16:17:45.820] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 16:17:45.820] [DEBUG] Set centralwidget palette to white background
[2025-12-23 16:17:45.820] [DEBUG] Layout initialized successfully
[2025-12-23 16:17:45.820] [DEBUG] Initializing title bar and status bar...
[2025-12-23 16:17:45.821] [DEBUG] Initializing title bar components...
[2025-12-23 16:17:45.821] [DEBUG] titleBarWidget found at address: 2319025774112
[2025-12-23 16:17:45.821] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 16:17:45.822] [DEBUG] titleLabel found at address: 2319025776176
[2025-12-23 16:17:45.822] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 16:17:45.822] [DEBUG] minimizeButton found at address: 2319025791568
[2025-12-23 16:17:45.822] [DEBUG] maximizeButton found at address: 2319025795264
[2025-12-23 16:17:45.823] [DEBUG] closeButton found at address: 2319025805856
[2025-12-23 16:17:45.823] [DEBUG] Title bar initialization completed
[2025-12-23 16:17:45.823] [DEBUG] Initializing status bar components...
[2025-12-23 16:17:45.823] [DEBUG] statusBarWidget found
[2025-12-23 16:17:45.824] [DEBUG] statusMessageLabel found
[2025-12-23 16:17:45.824] [DEBUG] networkStatusButton found
[2025-12-23 16:17:45.825] [DEBUG] userInfoButton found
[2025-12-23 16:17:45.825] [DEBUG] Status bar initialization completed
[2025-12-23 16:17:45.825] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 16:17:45.826] [DEBUG] stackedWidget found in UI
[2025-12-23 16:17:45.847] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 16:17:45.848] [DEBUG] Creating ToastWidget...
[2025-12-23 16:17:45.850] [DEBUG] === Validating Window Background ===
[2025-12-23 16:17:45.850] [DEBUG] MainWindow palette background color: #ffffff (RGB: 255,255,255)
[2025-12-23 16:17:45.851] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 16:17:45.851] [INFO] CentralWidget background is correctly set to white
[2025-12-23 16:17:45.851] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 16:17:45.852] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 16:17:45.852] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 16:17:45.852] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 16:17:45.853] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 16:17:45.853] [DEBUG] === Background Validation Complete ===
[2025-12-23 16:17:45.853] [INFO] MainWindow initialization completed successfully
[2025-12-23 16:17:50.249] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 16:17:51.440] [DEBUG] User chose to login with account
[2025-12-23 16:17:55.479] [INFO] Login attempt for user: xixi
[2025-12-23 16:17:55.479] [DEBUG] Login packet created with session ID: 17120409384498395931
[2025-12-23 16:17:55.479] [DEBUG] Sending login packet...
[2025-12-23 16:17:55.479] [DEBUG] Sent packet (type: 256)
[2025-12-23 16:17:55.479] [INFO] Login request sent for user: xixi
[2025-12-23 16:17:55.491] [DEBUG] Received packet (type: 256)
[2025-12-23 16:18:12.211] [DEBUG] Creating room
[2025-12-23 16:18:12.212] [DEBUG] Sent packet (type: 512)
[2025-12-23 16:28:00.835] [INFO] MainWindow destructor called
[2025-12-23 16:28:00.836] [DEBUG] Cleaning up UI...
[2025-12-23 16:28:00.836] [DEBUG] Cleaning up Manager...
[2025-12-23 16:28:00.836] [INFO] Manager destructor called
[2025-12-23 16:28:00.836] [DEBUG] Disconnecting client...
[2025-12-23 16:28:00.836] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:28:00.837] [DEBUG] Current socket value before disconnect: 1008
[2025-12-23 16:28:00.837] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 16:28:00.927] [DEBUG] Worker thread joined successfully.
[2025-12-23 16:28:00.928] [DEBUG] Closing socket
[2025-12-23 16:28:00.928] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 16:28:00.929] [DEBUG] Resetting session context
[2025-12-23 16:28:00.929] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 16:28:00.929] [INFO] Disconnected from server callback triggered
[2025-12-23 16:28:00.935] [INFO] Client disconnected successfully.
[2025-12-23 16:28:00.935] [DEBUG] Client destructor called
[2025-12-23 16:28:00.935] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:28:00.936] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 16:28:00.936] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:28:00.936] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 16:28:00.936] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 16:28:00.937] [INFO] Disconnected from server callback triggered
[2025-12-23 16:28:00.938] [INFO] Client disconnected successfully.
[2025-12-23 16:28:00.938] [DEBUG] Client cleanup completed
[2025-12-23 16:28:00.939] [DEBUG] Client disconnected and reset
[2025-12-23 16:28:00.939] [INFO] Manager cleanup completed
[2025-12-23 16:28:00.939] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 16:28:00.945] [DEBUG] Shutting down Logger...
[2025-12-23 16:28:00.945] [INFO] Logger shutting down.
[2025-12-23 16:49:59.906] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 16:49:59.906] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 16:49:59.907] [DEBUG] Setting up UI...
[2025-12-23 16:49:59.938] [DEBUG] Creating Manager instance...
[2025-12-23 16:49:59.938] [INFO] Manager initialized for server
[2025-12-23 16:49:59.938] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 16:49:59.980] [DEBUG] Session activated callback set
[2025-12-23 16:49:59.981] [INFO] Attempting to connect to server...
[2025-12-23 16:49:59.981] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 16:49:59.991] [DEBUG] New socket created successfully, socket value: 1060
[2025-12-23 16:50:02.031] [ERROR] Connect failed with error: 10061
[2025-12-23 16:50:02.031] [DEBUG] Creating LobbyWidget...
[2025-12-23 16:50:02.032] [DEBUG] LobbyWidget Initializing...
[2025-12-23 16:50:02.038] [DEBUG] Configuring room table properties...
[2025-12-23 16:50:02.038] [DEBUG] Room table properties configured
[2025-12-23 16:50:02.038] [DEBUG] Initializing room table...
[2025-12-23 16:50:02.041] [DEBUG] Initializing player list...
[2025-12-23 16:50:02.041] [DEBUG] Setting up signals...
[2025-12-23 16:50:02.042] [INFO] LobbyWidget initialized successfully
[2025-12-23 16:50:02.042] [DEBUG] Creating GameWidget...
[2025-12-23 16:50:02.048] [DEBUG] GameWidget UI initialized
[2025-12-23 16:50:02.049] [DEBUG] GameWidget signal connections established
[2025-12-23 16:50:02.049] [DEBUG] GameWidget constructed successfully
[2025-12-23 16:50:02.049] [DEBUG] Creating GameManager instance...
[2025-12-23 16:50:02.050] [DEBUG] Setting up signal connections...
[2025-12-23 16:50:02.050] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 16:50:02.050] [DEBUG] localGame connection result: 1
[2025-12-23 16:50:02.051] [DEBUG] Initializing window components...
[2025-12-23 16:50:02.051] [DEBUG] Initializing window style...
[2025-12-23 16:50:02.064] [DEBUG] Set main window background to white
[2025-12-23 16:50:02.065] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 16:50:02.074] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 16:50:02.075] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 16:50:02.075] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 16:50:02.075] [DEBUG] Window size set to: 1000x700
[2025-12-23 16:50:02.076] [DEBUG] Set window palette to white background
[2025-12-23 16:50:02.076] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 16:50:02.076] [DEBUG] Window background role color: #ffffff
[2025-12-23 16:50:02.076] [DEBUG] Initializing layout...
[2025-12-23 16:50:02.077] [DEBUG] centralwidget found at address: 2385474881104
[2025-12-23 16:50:02.077] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 16:50:02.077] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 16:50:02.077] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 16:50:02.077] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 16:50:02.078] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 16:50:02.079] [DEBUG] Set centralwidget palette to white background
[2025-12-23 16:50:02.079] [DEBUG] Layout initialized successfully
[2025-12-23 16:50:02.079] [DEBUG] Initializing title bar and status bar...
[2025-12-23 16:50:02.080] [DEBUG] Initializing title bar components...
[2025-12-23 16:50:02.080] [DEBUG] titleBarWidget found at address: 2385474887200
[2025-12-23 16:50:02.080] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 16:50:02.080] [DEBUG] titleLabel found at address: 2385474889264
[2025-12-23 16:50:02.081] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 16:50:02.081] [DEBUG] minimizeButton found at address: 2385474904656
[2025-12-23 16:50:02.081] [DEBUG] maximizeButton found at address: 2385474908352
[2025-12-23 16:50:02.082] [DEBUG] closeButton found at address: 2385474918944
[2025-12-23 16:50:02.082] [DEBUG] Title bar initialization completed
[2025-12-23 16:50:02.082] [DEBUG] Initializing status bar components...
[2025-12-23 16:50:02.082] [DEBUG] statusBarWidget found
[2025-12-23 16:50:02.083] [DEBUG] statusMessageLabel found
[2025-12-23 16:50:02.083] [DEBUG] networkStatusButton found
[2025-12-23 16:50:02.083] [DEBUG] userInfoButton found
[2025-12-23 16:50:02.084] [DEBUG] Status bar initialization completed
[2025-12-23 16:50:02.084] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 16:50:02.084] [DEBUG] stackedWidget found in UI
[2025-12-23 16:50:02.099] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 16:50:02.099] [DEBUG] Creating ToastWidget...
[2025-12-23 16:50:02.103] [DEBUG] ====== Validating Window Background ======
[2025-12-23 16:50:02.103] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 16:50:02.104] [INFO] CentralWidget background is correctly set to white
[2025-12-23 16:50:02.104] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 16:50:02.104] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 16:50:02.105] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 16:50:02.105] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 16:50:02.105] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 16:50:02.105] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 16:50:02.106] [INFO] MainWindow initialization completed successfully
[2025-12-23 16:50:09.161] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 16:50:09.161] [DEBUG] localGame signal received, initializing local game
[2025-12-23 16:50:09.161] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 16:50:09.163] [DEBUG] Player list updated, count: 2
[2025-12-23 16:50:09.163] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 16:50:09.164] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 16:50:09.165] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 16:50:09.168] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 16:50:09.169] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 16:50:09.170] [INFO] GameWidget initialized successfully
[2025-12-23 16:50:09.170] [DEBUG] Switching widget to index: 1
[2025-12-23 16:50:09.180] [INFO] Switching to Game widget
[2025-12-23 16:50:09.182] [DEBUG] Widget switch completed
[2025-12-23 16:50:11.528] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 16:50:19.866] [DEBUG] Chat message from 系统: 玩家1 选择了黑棋
[2025-12-23 16:50:19.868] [DEBUG] Player list updated, count: 2
[2025-12-23 16:50:19.868] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 16:50:19.872] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 16:50:23.390] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 16:50:23.392] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 16:50:23.394] [DEBUG] Player list updated, count: 2
[2025-12-23 16:50:23.394] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 16:50:23.411] [INFO] Game started for player: 玩家1, rating: 1500
[2025-12-23 16:50:23.414] [DEBUG] Chat message from 游戏: 游戏开始！玩家1 执黑先行
[2025-12-23 16:50:23.417] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 16:50:28.955] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 16:50:28.957] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 3) 落黑子
[2025-12-23 16:50:28.958] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:30.784] [DEBUG] GameManager::onMakeMove called, x: 3, y: 11, isLocalGame: 1
[2025-12-23 16:50:30.787] [DEBUG] Chat message from 游戏: 玩家2 在 (3, 11) 落白子
[2025-12-23 16:50:30.789] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:32.257] [DEBUG] GameManager::onMakeMove called, x: 11, y: 6, isLocalGame: 1
[2025-12-23 16:50:32.259] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 6) 落黑子
[2025-12-23 16:50:32.260] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:33.022] [DEBUG] GameManager::onMakeMove called, x: 3, y: 8, isLocalGame: 1
[2025-12-23 16:50:33.024] [DEBUG] Chat message from 游戏: 玩家2 在 (3, 8) 落白子
[2025-12-23 16:50:33.025] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:33.556] [DEBUG] GameManager::onMakeMove called, x: 11, y: 9, isLocalGame: 1
[2025-12-23 16:50:33.558] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 9) 落黑子
[2025-12-23 16:50:33.560] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:33.953] [DEBUG] GameManager::onMakeMove called, x: 3, y: 6, isLocalGame: 1
[2025-12-23 16:50:33.955] [DEBUG] Chat message from 游戏: 玩家2 在 (3, 6) 落白子
[2025-12-23 16:50:33.957] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:34.249] [DEBUG] GameManager::onMakeMove called, x: 9, y: 10, isLocalGame: 1
[2025-12-23 16:50:34.251] [DEBUG] Chat message from 游戏: 玩家1 在 (9, 10) 落黑子
[2025-12-23 16:50:34.254] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:34.464] [DEBUG] GameManager::onMakeMove called, x: 10, y: 5, isLocalGame: 1
[2025-12-23 16:50:34.465] [DEBUG] Chat message from 游戏: 玩家2 在 (10, 5) 落白子
[2025-12-23 16:50:34.467] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:34.665] [DEBUG] GameManager::onMakeMove called, x: 7, y: 6, isLocalGame: 1
[2025-12-23 16:50:34.667] [DEBUG] Chat message from 游戏: 玩家1 在 (7, 6) 落黑子
[2025-12-23 16:50:34.668] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:34.872] [DEBUG] GameManager::onMakeMove called, x: 6, y: 8, isLocalGame: 1
[2025-12-23 16:50:34.874] [DEBUG] Chat message from 游戏: 玩家2 在 (6, 8) 落白子
[2025-12-23 16:50:34.876] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:35.077] [DEBUG] GameManager::onMakeMove called, x: 5, y: 9, isLocalGame: 1
[2025-12-23 16:50:35.079] [DEBUG] Chat message from 游戏: 玩家1 在 (5, 9) 落黑子
[2025-12-23 16:50:35.080] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:35.256] [DEBUG] GameManager::onMakeMove called, x: 9, y: 9, isLocalGame: 1
[2025-12-23 16:50:35.259] [DEBUG] Chat message from 游戏: 玩家2 在 (9, 9) 落白子
[2025-12-23 16:50:35.260] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:35.446] [DEBUG] GameManager::onMakeMove called, x: 9, y: 7, isLocalGame: 1
[2025-12-23 16:50:35.447] [DEBUG] Chat message from 游戏: 玩家1 在 (9, 7) 落黑子
[2025-12-23 16:50:35.448] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:35.614] [DEBUG] GameManager::onMakeMove called, x: 9, y: 6, isLocalGame: 1
[2025-12-23 16:50:35.617] [DEBUG] Chat message from 游戏: 玩家2 在 (9, 6) 落白子
[2025-12-23 16:50:35.618] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:35.784] [DEBUG] GameManager::onMakeMove called, x: 7, y: 7, isLocalGame: 1
[2025-12-23 16:50:35.786] [DEBUG] Chat message from 游戏: 玩家1 在 (7, 7) 落黑子
[2025-12-23 16:50:35.787] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:50:35.961] [DEBUG] GameManager::onMakeMove called, x: 9, y: 8, isLocalGame: 1
[2025-12-23 16:50:35.963] [DEBUG] Chat message from 游戏: 玩家2 在 (9, 8) 落白子
[2025-12-23 16:50:35.964] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:50:38.222] [DEBUG] Back to lobby button clicked
[2025-12-23 16:50:38.222] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 16:50:38.225] [DEBUG] Switching widget to index: 0
[2025-12-23 16:50:38.227] [INFO] Switching to Lobby widget
[2025-12-23 16:50:38.227] [DEBUG] Widget switch completed
[2025-12-23 16:50:38.230] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 16:50:38.230] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 16:50:38.232] [INFO] GameWidget initialized successfully
[2025-12-23 16:50:38.232] [DEBUG] GameManager::setLocalGame called with isLocal: 0
[2025-12-23 16:50:38.232] [DEBUG] GameManager::setLocalGame: isLocal is false, not initializing local game
[2025-12-23 16:50:42.768] [DEBUG] Creating room
[2025-12-23 16:50:47.042] [DEBUG] Creating room
[2025-12-23 16:50:47.398] [DEBUG] Creating room
[2025-12-23 16:50:47.757] [DEBUG] Creating room
[2025-12-23 16:50:50.074] [DEBUG] Creating room
[2025-12-23 16:50:50.264] [DEBUG] Creating room
[2025-12-23 16:50:50.438] [DEBUG] Creating room
[2025-12-23 16:54:14.645] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 16:54:14.646] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 16:54:14.646] [DEBUG] Setting up UI...
[2025-12-23 16:54:14.669] [DEBUG] Creating Manager instance...
[2025-12-23 16:54:14.669] [INFO] Manager initialized for server
[2025-12-23 16:54:14.669] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 16:54:14.713] [DEBUG] Session activated callback set
[2025-12-23 16:54:14.713] [INFO] Attempting to connect to server...
[2025-12-23 16:54:14.713] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 16:54:14.722] [DEBUG] New socket created successfully, socket value: 1044
[2025-12-23 16:54:16.749] [ERROR] Connect failed with error: 10061
[2025-12-23 16:54:16.749] [DEBUG] Creating LobbyWidget...
[2025-12-23 16:54:16.750] [DEBUG] LobbyWidget Initializing...
[2025-12-23 16:54:16.754] [DEBUG] Configuring room table properties...
[2025-12-23 16:54:16.755] [DEBUG] Room table properties configured
[2025-12-23 16:54:16.755] [DEBUG] Initializing room table...
[2025-12-23 16:54:16.756] [DEBUG] Initializing player list...
[2025-12-23 16:54:16.756] [DEBUG] Setting up signals...
[2025-12-23 16:54:16.756] [INFO] LobbyWidget initialized successfully
[2025-12-23 16:54:16.757] [DEBUG] Creating GameWidget...
[2025-12-23 16:54:16.761] [DEBUG] GameWidget UI initialized
[2025-12-23 16:54:16.761] [DEBUG] GameWidget signal connections established
[2025-12-23 16:54:16.761] [DEBUG] GameWidget constructed successfully
[2025-12-23 16:54:16.762] [DEBUG] Creating GameManager instance...
[2025-12-23 16:54:16.762] [DEBUG] Setting up signal connections...
[2025-12-23 16:54:16.762] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 16:54:16.762] [DEBUG] localGame connection result: 1
[2025-12-23 16:54:16.763] [DEBUG] Initializing window components...
[2025-12-23 16:54:16.763] [DEBUG] Initializing window style...
[2025-12-23 16:54:16.781] [DEBUG] Set main window background to white
[2025-12-23 16:54:16.782] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 16:54:16.794] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 16:54:16.794] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 16:54:16.794] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 16:54:16.794] [DEBUG] Window size set to: 1000x700
[2025-12-23 16:54:16.795] [DEBUG] Set window palette to white background
[2025-12-23 16:54:16.795] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 16:54:16.795] [DEBUG] Window background role color: #ffffff
[2025-12-23 16:54:16.795] [DEBUG] Initializing layout...
[2025-12-23 16:54:16.795] [DEBUG] centralwidget found at address: 3001618138704
[2025-12-23 16:54:16.795] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 16:54:16.796] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 16:54:16.796] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 16:54:16.796] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 16:54:16.796] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 16:54:16.796] [DEBUG] Set centralwidget palette to white background
[2025-12-23 16:54:16.796] [DEBUG] Layout initialized successfully
[2025-12-23 16:54:16.797] [DEBUG] Initializing title bar and status bar...
[2025-12-23 16:54:16.797] [DEBUG] Initializing title bar components...
[2025-12-23 16:54:16.797] [DEBUG] titleBarWidget found at address: 3001618144800
[2025-12-23 16:54:16.797] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 16:54:16.797] [DEBUG] titleLabel found at address: 3001618146864
[2025-12-23 16:54:16.798] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 16:54:16.798] [DEBUG] minimizeButton found at address: 3001618162256
[2025-12-23 16:54:16.798] [DEBUG] maximizeButton found at address: 3001618165952
[2025-12-23 16:54:16.798] [DEBUG] closeButton found at address: 3001618176544
[2025-12-23 16:54:16.798] [DEBUG] Title bar initialization completed
[2025-12-23 16:54:16.798] [DEBUG] Initializing status bar components...
[2025-12-23 16:54:16.799] [DEBUG] statusBarWidget found
[2025-12-23 16:54:16.799] [DEBUG] statusMessageLabel found
[2025-12-23 16:54:16.799] [DEBUG] networkStatusButton found
[2025-12-23 16:54:16.799] [DEBUG] userInfoButton found
[2025-12-23 16:54:16.800] [DEBUG] Status bar initialization completed
[2025-12-23 16:54:16.800] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 16:54:16.800] [DEBUG] stackedWidget found in UI
[2025-12-23 16:54:16.812] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 16:54:16.813] [DEBUG] Creating ToastWidget...
[2025-12-23 16:54:16.816] [DEBUG] ====== Validating Window Background ======
[2025-12-23 16:54:16.817] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 16:54:16.817] [INFO] CentralWidget background is correctly set to white
[2025-12-23 16:54:16.817] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 16:54:16.817] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 16:54:16.818] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 16:54:16.818] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 16:54:16.818] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 16:54:16.819] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 16:54:16.819] [INFO] MainWindow initialization completed successfully
[2025-12-23 16:58:04.890] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 16:58:04.890] [INFO] Reconnecting to server...
[2025-12-23 16:58:04.890] [INFO] Attempting to connect to server...
[2025-12-23 16:58:04.891] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 16:58:04.891] [DEBUG] New socket created successfully, socket value: 1532
[2025-12-23 16:58:06.911] [ERROR] Connect failed with error: 10061
[2025-12-23 16:58:06.916] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 16:58:06.916] [DEBUG] localGame signal received, initializing local game
[2025-12-23 16:58:06.916] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 16:58:06.918] [DEBUG] Player list updated, count: 2
[2025-12-23 16:58:06.919] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 16:58:06.919] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 16:58:06.920] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 16:58:06.922] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 16:58:06.923] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 16:58:06.925] [INFO] GameWidget initialized successfully
[2025-12-23 16:58:06.925] [DEBUG] Switching widget to index: 1
[2025-12-23 16:58:06.934] [INFO] Switching to Game widget
[2025-12-23 16:58:06.936] [DEBUG] Widget switch completed
[2025-12-23 16:58:08.681] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 16:58:08.683] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 16:58:09.922] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 1
[2025-12-23 16:58:09.924] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 16:58:11.519] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 16:58:11.522] [DEBUG] Chat message from 系统: 玩家1 选择了黑棋
[2025-12-23 16:58:11.523] [DEBUG] Player list updated, count: 2
[2025-12-23 16:58:11.523] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 16:58:11.526] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 16:58:13.349] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 16:58:13.352] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 16:58:13.353] [DEBUG] Player list updated, count: 2
[2025-12-23 16:58:13.353] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 16:58:13.368] [INFO] Game started for player: 玩家1, rating: 1500
[2025-12-23 16:58:13.371] [DEBUG] Chat message from 游戏: 游戏开始！玩家1 执黑先行
[2025-12-23 16:58:13.371] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 16:58:16.024] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 16:58:16.026] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 3) 落黑子
[2025-12-23 16:58:16.027] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 16:58:27.553] [DEBUG] GameManager::onMakeMove called, x: 11, y: 11, isLocalGame: 1
[2025-12-23 16:58:27.555] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 11) 落白子
[2025-12-23 16:58:27.556] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 16:58:29.180] [INFO] MainWindow destructor called
[2025-12-23 16:58:29.180] [DEBUG] Cleaning up UI...
[2025-12-23 16:58:29.180] [DEBUG] Cleaning up Manager...
[2025-12-23 16:58:29.181] [INFO] Manager destructor called
[2025-12-23 16:58:29.181] [DEBUG] Disconnecting client...
[2025-12-23 16:58:29.181] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:58:29.181] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 16:58:29.181] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:58:29.181] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 16:58:29.182] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 16:58:29.182] [INFO] Disconnected from server callback triggered
[2025-12-23 16:58:29.185] [INFO] Client disconnected successfully.
[2025-12-23 16:58:29.186] [DEBUG] Client destructor called
[2025-12-23 16:58:29.186] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 16:58:29.186] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 16:58:29.186] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 16:58:29.187] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 16:58:29.187] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 16:58:29.187] [INFO] Disconnected from server callback triggered
[2025-12-23 16:58:29.192] [INFO] Client disconnected successfully.
[2025-12-23 16:58:29.192] [DEBUG] Client cleanup completed
[2025-12-23 16:58:29.193] [DEBUG] Client disconnected and reset
[2025-12-23 16:58:29.193] [INFO] Manager cleanup completed
[2025-12-23 16:58:29.193] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 16:58:29.201] [DEBUG] Shutting down Logger...
[2025-12-23 16:58:29.201] [INFO] Logger shutting down.
[2025-12-23 17:03:14.012] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 17:03:14.012] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 17:03:14.012] [DEBUG] Setting up UI...
[2025-12-23 17:03:14.031] [DEBUG] Creating Manager instance...
[2025-12-23 17:03:14.031] [INFO] Manager initialized for server
[2025-12-23 17:03:14.031] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 17:03:14.069] [DEBUG] Session activated callback set
[2025-12-23 17:03:14.070] [INFO] Attempting to connect to server...
[2025-12-23 17:03:14.070] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 17:03:14.078] [DEBUG] New socket created successfully, socket value: 1008
[2025-12-23 17:03:16.096] [ERROR] Connect failed with error: 10061
[2025-12-23 17:03:16.097] [DEBUG] Creating LobbyWidget...
[2025-12-23 17:03:16.097] [DEBUG] LobbyWidget Initializing...
[2025-12-23 17:03:16.103] [DEBUG] Configuring room table properties...
[2025-12-23 17:03:16.103] [DEBUG] Room table properties configured
[2025-12-23 17:03:16.103] [DEBUG] Initializing room table...
[2025-12-23 17:03:16.105] [DEBUG] Initializing player list...
[2025-12-23 17:03:16.105] [DEBUG] Setting up signals...
[2025-12-23 17:03:16.105] [INFO] LobbyWidget initialized successfully
[2025-12-23 17:03:16.106] [DEBUG] Creating GameWidget...
[2025-12-23 17:03:16.110] [DEBUG] GameWidget UI initialized
[2025-12-23 17:03:16.110] [DEBUG] GameWidget signal connections established
[2025-12-23 17:03:16.111] [DEBUG] GameWidget constructed successfully
[2025-12-23 17:03:16.111] [DEBUG] Creating GameManager instance...
[2025-12-23 17:03:16.112] [DEBUG] Setting up signal connections...
[2025-12-23 17:03:16.112] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 17:03:16.112] [DEBUG] localGame connection result: 1
[2025-12-23 17:03:16.112] [DEBUG] Initializing window components...
[2025-12-23 17:03:16.112] [DEBUG] Initializing window style...
[2025-12-23 17:03:16.124] [DEBUG] Set main window background to white
[2025-12-23 17:03:16.125] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 17:03:16.134] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 17:03:16.134] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 17:03:16.134] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 17:03:16.135] [DEBUG] Window size set to: 1000x700
[2025-12-23 17:03:16.135] [DEBUG] Set window palette to white background
[2025-12-23 17:03:16.135] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 17:03:16.136] [DEBUG] Window background role color: #ffffff
[2025-12-23 17:03:16.136] [DEBUG] Initializing layout...
[2025-12-23 17:03:16.136] [DEBUG] centralwidget found at address: 2202676692560
[2025-12-23 17:03:16.136] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 17:03:16.136] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 17:03:16.137] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 17:03:16.137] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 17:03:16.137] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 17:03:16.137] [DEBUG] Set centralwidget palette to white background
[2025-12-23 17:03:16.137] [DEBUG] Layout initialized successfully
[2025-12-23 17:03:16.137] [DEBUG] Initializing title bar and status bar...
[2025-12-23 17:03:16.137] [DEBUG] Initializing title bar components...
[2025-12-23 17:03:16.138] [DEBUG] titleBarWidget found at address: 2202676698656
[2025-12-23 17:03:16.138] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 17:03:16.138] [DEBUG] titleLabel found at address: 2202676700720
[2025-12-23 17:03:16.138] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 17:03:16.138] [DEBUG] minimizeButton found at address: 2202676716112
[2025-12-23 17:03:16.138] [DEBUG] maximizeButton found at address: 2202676719808
[2025-12-23 17:03:16.139] [DEBUG] closeButton found at address: 2202676730400
[2025-12-23 17:03:16.139] [DEBUG] Title bar initialization completed
[2025-12-23 17:03:16.139] [DEBUG] Initializing status bar components...
[2025-12-23 17:03:16.139] [DEBUG] statusBarWidget found
[2025-12-23 17:03:16.139] [DEBUG] statusMessageLabel found
[2025-12-23 17:03:16.139] [DEBUG] networkStatusButton found
[2025-12-23 17:03:16.140] [DEBUG] userInfoButton found
[2025-12-23 17:03:16.140] [DEBUG] Status bar initialization completed
[2025-12-23 17:03:16.140] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 17:03:16.140] [DEBUG] stackedWidget found in UI
[2025-12-23 17:03:16.150] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 17:03:16.150] [DEBUG] Creating ToastWidget...
[2025-12-23 17:03:16.154] [DEBUG] ====== Validating Window Background ======
[2025-12-23 17:03:16.154] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 17:03:16.155] [INFO] CentralWidget background is correctly set to white
[2025-12-23 17:03:16.155] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 17:03:16.155] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 17:03:16.155] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 17:03:16.155] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 17:03:16.156] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 17:03:16.156] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 17:03:16.156] [INFO] MainWindow initialization completed successfully
[2025-12-23 17:03:19.520] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 17:03:19.520] [DEBUG] localGame signal received, initializing local game
[2025-12-23 17:03:19.521] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 17:03:19.522] [DEBUG] Player list updated, count: 2
[2025-12-23 17:03:19.522] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 17:03:19.522] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 17:03:19.523] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 17:03:19.526] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 17:03:19.526] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 17:03:19.528] [INFO] GameWidget initialized successfully
[2025-12-23 17:03:19.528] [DEBUG] Switching widget to index: 1
[2025-12-23 17:03:19.535] [INFO] Switching to Game widget
[2025-12-23 17:03:19.537] [DEBUG] Widget switch completed
[2025-12-23 17:03:20.832] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 17:03:20.835] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 17:03:23.085] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 17:03:23.087] [DEBUG] Chat message from 系统: 玩家1 选择了黑棋
[2025-12-23 17:03:23.088] [DEBUG] Player list updated, count: 2
[2025-12-23 17:03:23.088] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 17:03:23.091] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 17:03:24.108] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 17:03:24.110] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 17:03:24.111] [DEBUG] Player list updated, count: 2
[2025-12-23 17:03:24.111] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 17:03:24.126] [INFO] Game started for player: 玩家1, rating: 1500
[2025-12-23 17:03:24.127] [DEBUG] Chat message from 游戏: 游戏开始！玩家1 执黑先行
[2025-12-23 17:03:24.128] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 17:03:25.543] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 17:03:25.544] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 3) 落黑子
[2025-12-23 17:03:25.545] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:03:27.734] [DEBUG] GameManager::onMakeMove called, x: 11, y: 11, isLocalGame: 1
[2025-12-23 17:03:27.736] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 11) 落白子
[2025-12-23 17:03:27.736] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 17:03:29.391] [DEBUG] GameManager::onMakeMove called, x: 7, y: 7, isLocalGame: 1
[2025-12-23 17:03:29.392] [DEBUG] Chat message from 游戏: 玩家1 在 (7, 7) 落黑子
[2025-12-23 17:03:29.393] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:03:30.986] [INFO] MainWindow destructor called
[2025-12-23 17:03:30.987] [DEBUG] Cleaning up UI...
[2025-12-23 17:03:30.987] [DEBUG] Cleaning up Manager...
[2025-12-23 17:03:30.987] [INFO] Manager destructor called
[2025-12-23 17:03:30.987] [DEBUG] Disconnecting client...
[2025-12-23 17:03:30.987] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 17:03:30.988] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 17:03:30.988] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 17:03:30.988] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 17:03:30.988] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 17:03:30.988] [INFO] Disconnected from server callback triggered
[2025-12-23 17:03:30.992] [INFO] Client disconnected successfully.
[2025-12-23 17:03:30.992] [DEBUG] Client destructor called
[2025-12-23 17:03:30.992] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 17:03:30.993] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 17:03:30.993] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 17:03:30.993] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 17:03:30.993] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 17:03:30.993] [INFO] Disconnected from server callback triggered
[2025-12-23 17:03:30.995] [INFO] Client disconnected successfully.
[2025-12-23 17:03:30.995] [DEBUG] Client cleanup completed
[2025-12-23 17:03:30.995] [DEBUG] Client disconnected and reset
[2025-12-23 17:03:30.996] [INFO] Manager cleanup completed
[2025-12-23 17:03:30.996] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 17:03:31.009] [DEBUG] Shutting down Logger...
[2025-12-23 17:03:31.010] [INFO] Logger shutting down.
[2025-12-23 17:16:41.194] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 17:16:41.195] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 17:16:41.195] [DEBUG] Setting up UI...
[2025-12-23 17:16:41.218] [DEBUG] Creating Manager instance...
[2025-12-23 17:16:41.218] [INFO] Manager initialized for server
[2025-12-23 17:16:41.219] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 17:16:41.261] [DEBUG] Session activated callback set
[2025-12-23 17:16:41.262] [INFO] Attempting to connect to server...
[2025-12-23 17:16:41.262] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 17:16:41.272] [DEBUG] New socket created successfully, socket value: 1012
[2025-12-23 17:16:43.309] [ERROR] Connect failed with error: 10061
[2025-12-23 17:16:43.309] [DEBUG] Creating LobbyWidget...
[2025-12-23 17:16:43.309] [DEBUG] LobbyWidget Initializing...
[2025-12-23 17:16:43.315] [DEBUG] Configuring room table properties...
[2025-12-23 17:16:43.315] [DEBUG] Room table properties configured
[2025-12-23 17:16:43.315] [DEBUG] Initializing room table...
[2025-12-23 17:16:43.317] [DEBUG] Initializing player list...
[2025-12-23 17:16:43.318] [DEBUG] Setting up signals...
[2025-12-23 17:16:43.318] [INFO] LobbyWidget initialized successfully
[2025-12-23 17:16:43.318] [DEBUG] Creating GameWidget...
[2025-12-23 17:16:43.323] [DEBUG] GameWidget UI initialized
[2025-12-23 17:16:43.323] [DEBUG] GameWidget signal connections established
[2025-12-23 17:16:43.323] [DEBUG] GameWidget constructed successfully
[2025-12-23 17:16:43.324] [DEBUG] Creating GameManager instance...
[2025-12-23 17:16:43.324] [DEBUG] Setting up signal connections...
[2025-12-23 17:16:43.324] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 17:16:43.325] [DEBUG] localGame connection result: 1
[2025-12-23 17:16:43.325] [DEBUG] Initializing window components...
[2025-12-23 17:16:43.325] [DEBUG] Initializing window style...
[2025-12-23 17:16:43.336] [DEBUG] Set main window background to white
[2025-12-23 17:16:43.337] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 17:16:43.345] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 17:16:43.346] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 17:16:43.346] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 17:16:43.346] [DEBUG] Window size set to: 1000x700
[2025-12-23 17:16:43.346] [DEBUG] Set window palette to white background
[2025-12-23 17:16:43.347] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 17:16:43.347] [DEBUG] Window background role color: #ffffff
[2025-12-23 17:16:43.347] [DEBUG] Initializing layout...
[2025-12-23 17:16:43.347] [DEBUG] centralwidget found at address: 2334128277072
[2025-12-23 17:16:43.347] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 17:16:43.348] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 17:16:43.348] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 17:16:43.348] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 17:16:43.348] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 17:16:43.349] [DEBUG] Set centralwidget palette to white background
[2025-12-23 17:16:43.349] [DEBUG] Layout initialized successfully
[2025-12-23 17:16:43.349] [DEBUG] Initializing title bar and status bar...
[2025-12-23 17:16:43.349] [DEBUG] Initializing title bar components...
[2025-12-23 17:16:43.349] [DEBUG] titleBarWidget found at address: 2334128283168
[2025-12-23 17:16:43.350] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 17:16:43.350] [DEBUG] titleLabel found at address: 2334128285232
[2025-12-23 17:16:43.350] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 17:16:43.350] [DEBUG] minimizeButton found at address: 2334128300624
[2025-12-23 17:16:43.350] [DEBUG] maximizeButton found at address: 2334128304320
[2025-12-23 17:16:43.350] [DEBUG] closeButton found at address: 2334128314912
[2025-12-23 17:16:43.350] [DEBUG] Title bar initialization completed
[2025-12-23 17:16:43.351] [DEBUG] Initializing status bar components...
[2025-12-23 17:16:43.351] [DEBUG] statusBarWidget found
[2025-12-23 17:16:43.351] [DEBUG] statusMessageLabel found
[2025-12-23 17:16:43.351] [DEBUG] networkStatusButton found
[2025-12-23 17:16:43.351] [DEBUG] userInfoButton found
[2025-12-23 17:16:43.352] [DEBUG] Status bar initialization completed
[2025-12-23 17:16:43.352] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 17:16:43.352] [DEBUG] stackedWidget found in UI
[2025-12-23 17:16:43.363] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 17:16:43.364] [DEBUG] Creating ToastWidget...
[2025-12-23 17:16:43.367] [DEBUG] ====== Validating Window Background ======
[2025-12-23 17:16:43.367] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 17:16:43.368] [INFO] CentralWidget background is correctly set to white
[2025-12-23 17:16:43.368] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 17:16:43.368] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 17:16:43.368] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 17:16:43.369] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 17:16:43.369] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 17:16:43.369] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 17:16:43.369] [INFO] MainWindow initialization completed successfully
[2025-12-23 17:16:47.896] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 17:16:47.896] [DEBUG] localGame signal received, initializing local game
[2025-12-23 17:16:47.896] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 17:16:47.898] [DEBUG] Player list updated, count: 2
[2025-12-23 17:16:47.898] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 17:16:47.898] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 17:16:47.899] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 17:16:47.901] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 17:16:47.902] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 17:16:47.904] [INFO] GameWidget initialized successfully
[2025-12-23 17:16:47.904] [DEBUG] Switching widget to index: 1
[2025-12-23 17:16:47.911] [INFO] Switching to Game widget
[2025-12-23 17:16:47.913] [DEBUG] Widget switch completed
[2025-12-23 17:16:48.987] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 17:16:48.989] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 17:16:50.956] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 17:16:50.958] [DEBUG] Chat message from 系统: 玩家1 选择了黑棋
[2025-12-23 17:16:50.958] [DEBUG] Player list updated, count: 2
[2025-12-23 17:16:50.959] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 17:16:50.961] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 17:16:51.388] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 17:16:51.391] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 17:16:51.392] [DEBUG] Player list updated, count: 2
[2025-12-23 17:16:51.393] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 17:16:51.407] [INFO] Game started for player: 玩家1, rating: 1500
[2025-12-23 17:16:51.409] [DEBUG] Chat message from 游戏: 游戏开始！玩家1 执黑先行
[2025-12-23 17:16:51.410] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 17:16:52.006] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 17:16:52.008] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 3) 落黑子
[2025-12-23 17:16:52.009] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:16:52.742] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 1
[2025-12-23 17:16:52.743] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 5) 落白子
[2025-12-23 17:16:52.745] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 17:16:53.178] [DEBUG] GameManager::onMakeMove called, x: 11, y: 7, isLocalGame: 1
[2025-12-23 17:16:53.180] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 7) 落黑子
[2025-12-23 17:16:53.182] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:16:53.618] [DEBUG] GameManager::onMakeMove called, x: 11, y: 9, isLocalGame: 1
[2025-12-23 17:16:53.620] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 9) 落白子
[2025-12-23 17:16:53.621] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 17:16:53.971] [DEBUG] GameManager::onMakeMove called, x: 11, y: 9, isLocalGame: 1
[2025-12-23 17:16:53.973] [DEBUG] Chat message from 游戏: 无效的落子位置
[2025-12-23 17:16:54.276] [DEBUG] GameManager::onMakeMove called, x: 11, y: 10, isLocalGame: 1
[2025-12-23 17:16:54.277] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 10) 落黑子
[2025-12-23 17:16:54.279] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:16:54.602] [DEBUG] GameManager::onMakeMove called, x: 11, y: 12, isLocalGame: 1
[2025-12-23 17:16:54.604] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 12) 落白子
[2025-12-23 17:16:54.605] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 17:16:54.913] [DEBUG] GameManager::onMakeMove called, x: 11, y: 13, isLocalGame: 1
[2025-12-23 17:16:54.916] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 13) 落黑子
[2025-12-23 17:16:54.917] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:16:56.232] [INFO] MainWindow destructor called
[2025-12-23 17:16:56.232] [DEBUG] Cleaning up UI...
[2025-12-23 17:16:56.233] [DEBUG] Cleaning up Manager...
[2025-12-23 17:16:56.233] [INFO] Manager destructor called
[2025-12-23 17:16:56.233] [DEBUG] Disconnecting client...
[2025-12-23 17:16:56.233] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 17:16:56.233] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 17:16:56.234] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 17:16:56.234] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 17:16:56.234] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 17:16:56.234] [INFO] Disconnected from server callback triggered
[2025-12-23 17:16:56.239] [INFO] Client disconnected successfully.
[2025-12-23 17:16:56.239] [DEBUG] Client destructor called
[2025-12-23 17:16:56.239] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 17:16:56.239] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 17:16:56.240] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 17:16:56.240] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 17:16:56.240] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 17:16:56.241] [INFO] Disconnected from server callback triggered
[2025-12-23 17:16:56.242] [INFO] Client disconnected successfully.
[2025-12-23 17:16:56.243] [DEBUG] Client cleanup completed
[2025-12-23 17:16:56.243] [DEBUG] Client disconnected and reset
[2025-12-23 17:16:56.243] [INFO] Manager cleanup completed
[2025-12-23 17:16:56.243] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 17:16:56.257] [DEBUG] Shutting down Logger...
[2025-12-23 17:16:56.257] [INFO] Logger shutting down.
[2025-12-23 17:28:23.446] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 17:28:23.446] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 17:28:23.447] [DEBUG] Setting up UI...
[2025-12-23 17:28:23.468] [DEBUG] Creating Manager instance...
[2025-12-23 17:28:23.468] [INFO] Manager initialized for server
[2025-12-23 17:28:23.468] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 17:28:23.505] [DEBUG] Session activated callback set
[2025-12-23 17:28:23.506] [INFO] Attempting to connect to server...
[2025-12-23 17:28:23.506] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 17:28:23.515] [DEBUG] New socket created successfully, socket value: 1004
[2025-12-23 17:28:25.557] [ERROR] Connect failed with error: 10061
[2025-12-23 17:28:25.558] [DEBUG] Creating LobbyWidget...
[2025-12-23 17:28:25.558] [DEBUG] LobbyWidget Initializing...
[2025-12-23 17:28:25.562] [DEBUG] Configuring room table properties...
[2025-12-23 17:28:25.563] [DEBUG] Room table properties configured
[2025-12-23 17:28:25.563] [DEBUG] Initializing room table...
[2025-12-23 17:28:25.565] [DEBUG] Initializing player list...
[2025-12-23 17:28:25.565] [DEBUG] Setting up signals...
[2025-12-23 17:28:25.565] [INFO] LobbyWidget initialized successfully
[2025-12-23 17:28:25.565] [DEBUG] Creating GameWidget...
[2025-12-23 17:28:25.569] [DEBUG] GameWidget UI initialized
[2025-12-23 17:28:25.569] [DEBUG] GameWidget signal connections established
[2025-12-23 17:28:25.569] [DEBUG] GameWidget constructed successfully
[2025-12-23 17:28:25.569] [DEBUG] Creating GameManager instance...
[2025-12-23 17:28:25.570] [DEBUG] Setting up signal connections...
[2025-12-23 17:28:25.570] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 17:28:25.570] [DEBUG] localGame connection result: 1
[2025-12-23 17:28:25.571] [DEBUG] Initializing window components...
[2025-12-23 17:28:25.571] [DEBUG] Initializing window style...
[2025-12-23 17:28:25.581] [DEBUG] Set main window background to white
[2025-12-23 17:28:25.581] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 17:28:25.588] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 17:28:25.589] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 17:28:25.589] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 17:28:25.589] [DEBUG] Window size set to: 1000x700
[2025-12-23 17:28:25.590] [DEBUG] Set window palette to white background
[2025-12-23 17:28:25.590] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 17:28:25.590] [DEBUG] Window background role color: #ffffff
[2025-12-23 17:28:25.590] [DEBUG] Initializing layout...
[2025-12-23 17:28:25.591] [DEBUG] centralwidget found at address: 2812679095888
[2025-12-23 17:28:25.591] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 17:28:25.591] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 17:28:25.591] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 17:28:25.592] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 17:28:25.592] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 17:28:25.592] [DEBUG] Set centralwidget palette to white background
[2025-12-23 17:28:25.592] [DEBUG] Layout initialized successfully
[2025-12-23 17:28:25.592] [DEBUG] Initializing title bar and status bar...
[2025-12-23 17:28:25.592] [DEBUG] Initializing title bar components...
[2025-12-23 17:28:25.592] [DEBUG] titleBarWidget found at address: 2812679101984
[2025-12-23 17:28:25.592] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 17:28:25.593] [DEBUG] titleLabel found at address: 2812679104048
[2025-12-23 17:28:25.593] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 17:28:25.593] [DEBUG] minimizeButton found at address: 2812679119440
[2025-12-23 17:28:25.593] [DEBUG] maximizeButton found at address: 2812679123136
[2025-12-23 17:28:25.593] [DEBUG] closeButton found at address: 2812679133728
[2025-12-23 17:28:25.593] [DEBUG] Title bar initialization completed
[2025-12-23 17:28:25.593] [DEBUG] Initializing status bar components...
[2025-12-23 17:28:25.593] [DEBUG] statusBarWidget found
[2025-12-23 17:28:25.593] [DEBUG] statusMessageLabel found
[2025-12-23 17:28:25.594] [DEBUG] networkStatusButton found
[2025-12-23 17:28:25.594] [DEBUG] userInfoButton found
[2025-12-23 17:28:25.594] [DEBUG] Status bar initialization completed
[2025-12-23 17:28:25.594] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 17:28:25.594] [DEBUG] stackedWidget found in UI
[2025-12-23 17:28:25.604] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 17:28:25.605] [DEBUG] Creating ToastWidget...
[2025-12-23 17:28:25.608] [DEBUG] ====== Validating Window Background ======
[2025-12-23 17:28:25.608] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 17:28:25.609] [INFO] CentralWidget background is correctly set to white
[2025-12-23 17:28:25.609] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 17:28:25.609] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 17:28:25.609] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 17:28:25.609] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 17:28:25.609] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 17:28:25.610] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 17:28:25.610] [INFO] MainWindow initialization completed successfully
[2025-12-23 17:28:28.255] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 17:28:28.256] [DEBUG] localGame signal received, initializing local game
[2025-12-23 17:28:28.256] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 17:28:28.258] [DEBUG] Player list updated, count: 2
[2025-12-23 17:28:28.258] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 17:28:28.259] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 17:28:28.259] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 17:28:28.262] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 17:28:28.262] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 17:28:28.264] [INFO] GameWidget initialized successfully
[2025-12-23 17:28:28.264] [DEBUG] Switching widget to index: 1
[2025-12-23 17:28:28.276] [INFO] Switching to Game widget
[2025-12-23 17:28:28.278] [DEBUG] Widget switch completed
[2025-12-23 17:28:29.330] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 17:28:29.332] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 17:28:29.842] [DEBUG] GameManager::onMakeMove called, x: 11, y: 4, isLocalGame: 1
[2025-12-23 17:28:29.844] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 17:28:30.239] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 1
[2025-12-23 17:28:30.241] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 17:28:30.549] [DEBUG] GameManager::onMakeMove called, x: 11, y: 8, isLocalGame: 1
[2025-12-23 17:28:30.551] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 17:28:31.716] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 17:28:31.718] [DEBUG] Chat message from 系统: 玩家1 选择了黑棋
[2025-12-23 17:28:31.719] [DEBUG] Player list updated, count: 2
[2025-12-23 17:28:31.719] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 17:28:31.722] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 17:28:32.459] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 17:28:32.463] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 17:28:32.463] [DEBUG] Player list updated, count: 2
[2025-12-23 17:28:32.463] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 17:28:32.478] [INFO] Game started for player: 玩家1, rating: 1500
[2025-12-23 17:28:32.479] [DEBUG] Chat message from 游戏: 游戏开始！玩家1 执黑先行
[2025-12-23 17:28:32.480] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 17:28:33.247] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 17:28:33.249] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 3) 落黑子
[2025-12-23 17:28:33.250] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:28:33.722] [DEBUG] GameManager::onMakeMove called, x: 11, y: 4, isLocalGame: 1
[2025-12-23 17:28:33.724] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 4) 落白子
[2025-12-23 17:28:33.725] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 17:28:34.125] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 1
[2025-12-23 17:28:34.127] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 5) 落黑子
[2025-12-23 17:28:34.129] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:28:34.450] [DEBUG] GameManager::onMakeMove called, x: 11, y: 7, isLocalGame: 1
[2025-12-23 17:28:34.452] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 7) 落白子
[2025-12-23 17:28:34.453] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 17:28:34.735] [DEBUG] GameManager::onMakeMove called, x: 11, y: 9, isLocalGame: 1
[2025-12-23 17:28:34.736] [DEBUG] Chat message from 游戏: 玩家1 在 (11, 9) 落黑子
[2025-12-23 17:28:34.738] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 17:28:35.677] [INFO] MainWindow destructor called
[2025-12-23 17:28:35.678] [DEBUG] Cleaning up UI...
[2025-12-23 17:28:35.678] [DEBUG] Cleaning up Manager...
[2025-12-23 17:28:35.678] [INFO] Manager destructor called
[2025-12-23 17:28:35.678] [DEBUG] Disconnecting client...
[2025-12-23 17:28:35.678] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 17:28:35.679] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 17:28:35.679] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 17:28:35.679] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 17:28:35.679] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 17:28:35.680] [INFO] Disconnected from server callback triggered
[2025-12-23 17:28:35.683] [INFO] Client disconnected successfully.
[2025-12-23 17:28:35.684] [DEBUG] Client destructor called
[2025-12-23 17:28:35.684] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 17:28:35.684] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 17:28:35.684] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 17:28:35.685] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 17:28:35.685] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 17:28:35.685] [INFO] Disconnected from server callback triggered
[2025-12-23 17:28:35.686] [INFO] Client disconnected successfully.
[2025-12-23 17:28:35.687] [DEBUG] Client cleanup completed
[2025-12-23 17:28:35.687] [DEBUG] Client disconnected and reset
[2025-12-23 17:28:35.687] [INFO] Manager cleanup completed
[2025-12-23 17:28:35.688] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 17:28:35.701] [DEBUG] Shutting down Logger...
[2025-12-23 17:28:35.702] [INFO] Logger shutting down.
[2025-12-23 17:51:11.889] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 17:51:11.890] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 17:51:11.890] [DEBUG] Setting up UI...
[2025-12-23 17:51:11.913] [DEBUG] Creating Manager instance...
[2025-12-23 17:51:11.913] [INFO] Manager initialized for server
[2025-12-23 17:51:11.913] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 17:51:11.953] [DEBUG] Session activated callback set
[2025-12-23 17:51:11.954] [INFO] Attempting to connect to server...
[2025-12-23 17:51:11.954] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 17:51:11.964] [DEBUG] New socket created successfully, socket value: 1016
[2025-12-23 17:51:13.984] [ERROR] Connect failed with error: 10061
[2025-12-23 17:51:13.984] [DEBUG] Creating LobbyWidget...
[2025-12-23 17:51:13.985] [DEBUG] LobbyWidget Initializing...
[2025-12-23 17:51:13.990] [DEBUG] Configuring room table properties...
[2025-12-23 17:51:13.991] [DEBUG] Room table properties configured
[2025-12-23 17:51:13.991] [DEBUG] Initializing room table...
[2025-12-23 17:51:13.993] [DEBUG] Initializing player list...
[2025-12-23 17:51:13.994] [DEBUG] Setting up signals...
[2025-12-23 17:51:13.994] [INFO] LobbyWidget initialized successfully
[2025-12-23 17:51:13.994] [DEBUG] Creating GameWidget...
[2025-12-23 17:51:13.999] [DEBUG] GameWidget UI initialized
[2025-12-23 17:51:13.999] [DEBUG] GameWidget signal connections established
[2025-12-23 17:51:14.000] [DEBUG] GameWidget constructed successfully
[2025-12-23 17:51:14.000] [DEBUG] Creating GameManager instance...
[2025-12-23 17:51:14.000] [DEBUG] Setting up signal connections...
[2025-12-23 17:51:14.001] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 17:51:14.001] [DEBUG] localGame connection result: 1
[2025-12-23 17:51:14.002] [DEBUG] Initializing window components...
[2025-12-23 17:51:14.002] [DEBUG] Initializing window style...
[2025-12-23 17:51:14.015] [DEBUG] Set main window background to white
[2025-12-23 17:51:14.015] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 17:51:14.024] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 17:51:14.025] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 17:51:14.025] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 17:51:14.025] [DEBUG] Window size set to: 1000x700
[2025-12-23 17:51:14.025] [DEBUG] Set window palette to white background
[2025-12-23 17:51:14.026] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 17:51:14.026] [DEBUG] Window background role color: #ffffff
[2025-12-23 17:51:14.026] [DEBUG] Initializing layout...
[2025-12-23 17:51:14.026] [DEBUG] centralwidget found at address: 2461633349200
[2025-12-23 17:51:14.026] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 17:51:14.026] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 17:51:14.027] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 17:51:14.027] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 17:51:14.027] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 17:51:14.027] [DEBUG] Set centralwidget palette to white background
[2025-12-23 17:51:14.027] [DEBUG] Layout initialized successfully
[2025-12-23 17:51:14.027] [DEBUG] Initializing title bar and status bar...
[2025-12-23 17:51:14.028] [DEBUG] Initializing title bar components...
[2025-12-23 17:51:14.028] [DEBUG] titleBarWidget found at address: 2461633355296
[2025-12-23 17:51:14.028] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 17:51:14.028] [DEBUG] titleLabel found at address: 2461633357360
[2025-12-23 17:51:14.028] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 17:51:14.029] [DEBUG] minimizeButton found at address: 2461633372752
[2025-12-23 17:51:14.029] [DEBUG] maximizeButton found at address: 2461633376448
[2025-12-23 17:51:14.029] [DEBUG] closeButton found at address: 2461633387040
[2025-12-23 17:51:14.029] [DEBUG] Title bar initialization completed
[2025-12-23 17:51:14.029] [DEBUG] Initializing status bar components...
[2025-12-23 17:51:14.030] [DEBUG] statusBarWidget found
[2025-12-23 17:51:14.030] [DEBUG] statusMessageLabel found
[2025-12-23 17:51:14.030] [DEBUG] networkStatusButton found
[2025-12-23 17:51:14.031] [DEBUG] userInfoButton found
[2025-12-23 17:51:14.031] [DEBUG] Status bar initialization completed
[2025-12-23 17:51:14.031] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 17:51:14.032] [DEBUG] stackedWidget found in UI
[2025-12-23 17:51:14.043] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 17:51:14.044] [DEBUG] Creating ToastWidget...
[2025-12-23 17:51:14.047] [DEBUG] ====== Validating Window Background ======
[2025-12-23 17:51:14.048] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 17:51:14.048] [INFO] CentralWidget background is correctly set to white
[2025-12-23 17:51:14.048] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 17:51:14.048] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 17:51:14.049] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 17:51:14.049] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 17:51:14.049] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 17:51:14.049] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 17:51:14.050] [INFO] MainWindow initialization completed successfully
[2025-12-23 17:51:18.222] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 21:25:28.957] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 21:25:28.957] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 21:25:28.957] [DEBUG] Setting up UI...
[2025-12-23 21:25:28.990] [DEBUG] Creating Manager instance...
[2025-12-23 21:25:28.991] [INFO] Manager initialized for server
[2025-12-23 21:25:28.991] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 21:25:29.012] [DEBUG] Session activated callback set
[2025-12-23 21:25:29.013] [INFO] Attempting to connect to server...
[2025-12-23 21:25:29.013] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:25:29.019] [DEBUG] New socket created successfully, socket value: 1052
[2025-12-23 21:25:31.062] [ERROR] Connect failed with error: 10061
[2025-12-23 21:25:31.064] [DEBUG] Creating LobbyWidget...
[2025-12-23 21:25:31.064] [DEBUG] LobbyWidget Initializing...
[2025-12-23 21:25:31.075] [DEBUG] Configuring room table properties...
[2025-12-23 21:25:31.075] [DEBUG] Room table properties configured
[2025-12-23 21:25:31.075] [DEBUG] Initializing room table...
[2025-12-23 21:25:31.079] [DEBUG] Initializing player list...
[2025-12-23 21:25:31.079] [DEBUG] Setting up signals...
[2025-12-23 21:25:31.079] [INFO] LobbyWidget initialized successfully
[2025-12-23 21:25:31.079] [DEBUG] Creating GameWidget...
[2025-12-23 21:25:31.084] [DEBUG] GameWidget UI initialized
[2025-12-23 21:25:31.084] [DEBUG] GameWidget signal connections established
[2025-12-23 21:25:31.084] [DEBUG] GameWidget constructed successfully
[2025-12-23 21:25:31.085] [DEBUG] Creating GameManager instance...
[2025-12-23 21:25:31.085] [DEBUG] Setting up signal connections...
[2025-12-23 21:25:31.085] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 21:25:31.085] [DEBUG] localGame connection result: 1
[2025-12-23 21:25:31.086] [DEBUG] Initializing window components...
[2025-12-23 21:25:31.086] [DEBUG] Initializing window style...
[2025-12-23 21:25:31.095] [DEBUG] Set main window background to white
[2025-12-23 21:25:31.095] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 21:25:31.101] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 21:25:31.102] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 21:25:31.102] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 21:25:31.102] [DEBUG] Window size set to: 1000x700
[2025-12-23 21:25:31.102] [DEBUG] Set window palette to white background
[2025-12-23 21:25:31.103] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 21:25:31.103] [DEBUG] Window background role color: #ffffff
[2025-12-23 21:25:31.103] [DEBUG] Initializing layout...
[2025-12-23 21:25:31.103] [DEBUG] centralwidget found at address: 2766527313008
[2025-12-23 21:25:31.104] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 21:25:31.104] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 21:25:31.104] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 21:25:31.104] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 21:25:31.104] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 21:25:31.104] [DEBUG] Set centralwidget palette to white background
[2025-12-23 21:25:31.104] [DEBUG] Layout initialized successfully
[2025-12-23 21:25:31.104] [DEBUG] Initializing title bar and status bar...
[2025-12-23 21:25:31.104] [DEBUG] Initializing title bar components...
[2025-12-23 21:25:31.104] [DEBUG] titleBarWidget found at address: 2766527454112
[2025-12-23 21:25:31.105] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 21:25:31.105] [DEBUG] titleLabel found at address: 2766527456112
[2025-12-23 21:25:31.105] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 21:25:31.105] [DEBUG] minimizeButton found at address: 2766527471536
[2025-12-23 21:25:31.105] [DEBUG] maximizeButton found at address: 2766527475136
[2025-12-23 21:25:31.106] [DEBUG] closeButton found at address: 2766527485824
[2025-12-23 21:25:31.106] [DEBUG] Title bar initialization completed
[2025-12-23 21:25:31.106] [DEBUG] Initializing status bar components...
[2025-12-23 21:25:31.106] [DEBUG] statusBarWidget found
[2025-12-23 21:25:31.106] [DEBUG] statusMessageLabel found
[2025-12-23 21:25:31.106] [DEBUG] networkStatusButton found
[2025-12-23 21:25:31.106] [DEBUG] userInfoButton found
[2025-12-23 21:25:31.106] [DEBUG] Status bar initialization completed
[2025-12-23 21:25:31.107] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 21:25:31.107] [DEBUG] stackedWidget found in UI
[2025-12-23 21:25:31.115] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 21:25:31.115] [DEBUG] Creating ToastWidget...
[2025-12-23 21:25:31.118] [DEBUG] ====== Validating Window Background ======
[2025-12-23 21:25:31.118] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 21:25:31.118] [INFO] CentralWidget background is correctly set to white
[2025-12-23 21:25:31.119] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 21:25:31.119] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 21:25:31.119] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 21:25:31.119] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 21:25:31.119] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 21:25:31.119] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 21:25:31.119] [INFO] MainWindow initialization completed successfully
[2025-12-23 21:25:38.937] [INFO] MainWindow destructor called
[2025-12-23 21:25:38.937] [DEBUG] Cleaning up UI...
[2025-12-23 21:25:38.937] [DEBUG] Cleaning up Manager...
[2025-12-23 21:25:38.937] [INFO] Manager destructor called
[2025-12-23 21:25:38.937] [DEBUG] Disconnecting client...
[2025-12-23 21:25:38.937] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:25:38.937] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 21:25:38.938] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:25:38.938] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 21:25:38.938] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 21:25:38.938] [INFO] Disconnected from server callback triggered
[2025-12-23 21:25:38.941] [INFO] Client disconnected successfully.
[2025-12-23 21:25:38.941] [DEBUG] Client destructor called
[2025-12-23 21:25:38.941] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:25:38.942] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 21:25:38.942] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:25:38.942] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 21:25:38.942] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 21:25:38.942] [INFO] Disconnected from server callback triggered
[2025-12-23 21:25:38.942] [INFO] Client disconnected successfully.
[2025-12-23 21:25:38.943] [DEBUG] Client cleanup completed
[2025-12-23 21:25:38.943] [DEBUG] Client disconnected and reset
[2025-12-23 21:25:38.943] [INFO] Manager cleanup completed
[2025-12-23 21:25:38.943] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 21:25:38.949] [DEBUG] Shutting down Logger...
[2025-12-23 21:25:38.949] [INFO] Logger shutting down.
[2025-12-23 21:27:11.803] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 21:27:11.803] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 21:27:11.803] [DEBUG] Setting up UI...
[2025-12-23 21:27:11.817] [DEBUG] Creating Manager instance...
[2025-12-23 21:27:11.817] [INFO] Manager initialized for server
[2025-12-23 21:27:11.818] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 21:27:11.840] [DEBUG] Session activated callback set
[2025-12-23 21:27:11.841] [INFO] Attempting to connect to server...
[2025-12-23 21:27:11.841] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:27:11.846] [DEBUG] New socket created successfully, socket value: 1060
[2025-12-23 21:27:13.878] [ERROR] Connect failed with error: 10061
[2025-12-23 21:27:13.879] [DEBUG] Creating LobbyWidget...
[2025-12-23 21:27:13.879] [DEBUG] LobbyWidget Initializing...
[2025-12-23 21:27:13.882] [DEBUG] Configuring room table properties...
[2025-12-23 21:27:13.883] [DEBUG] Room table properties configured
[2025-12-23 21:27:13.883] [DEBUG] Initializing room table...
[2025-12-23 21:27:13.885] [DEBUG] Initializing player list...
[2025-12-23 21:27:13.885] [DEBUG] Setting up signals...
[2025-12-23 21:27:13.885] [INFO] LobbyWidget initialized successfully
[2025-12-23 21:27:13.886] [DEBUG] Creating GameWidget...
[2025-12-23 21:27:13.889] [DEBUG] GameWidget UI initialized
[2025-12-23 21:27:13.890] [DEBUG] GameWidget signal connections established
[2025-12-23 21:27:13.892] [DEBUG] GameWidget constructed successfully
[2025-12-23 21:27:13.892] [DEBUG] Creating GameManager instance...
[2025-12-23 21:27:13.892] [DEBUG] Setting up signal connections...
[2025-12-23 21:27:13.893] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 21:27:13.893] [DEBUG] localGame connection result: 1
[2025-12-23 21:27:13.894] [DEBUG] Initializing window components...
[2025-12-23 21:27:13.894] [DEBUG] Initializing window style...
[2025-12-23 21:27:13.903] [DEBUG] Set main window background to white
[2025-12-23 21:27:13.903] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 21:27:13.910] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 21:27:13.911] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 21:27:13.911] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 21:27:13.912] [DEBUG] Window size set to: 1000x700
[2025-12-23 21:27:13.912] [DEBUG] Set window palette to white background
[2025-12-23 21:27:13.912] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 21:27:13.912] [DEBUG] Window background role color: #ffffff
[2025-12-23 21:27:13.913] [DEBUG] Initializing layout...
[2025-12-23 21:27:13.913] [DEBUG] centralwidget found at address: 1184116814960
[2025-12-23 21:27:13.913] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 21:27:13.913] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 21:27:13.913] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 21:27:13.913] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 21:27:13.913] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 21:27:13.913] [DEBUG] Set centralwidget palette to white background
[2025-12-23 21:27:13.914] [DEBUG] Layout initialized successfully
[2025-12-23 21:27:13.914] [DEBUG] Initializing title bar and status bar...
[2025-12-23 21:27:13.914] [DEBUG] Initializing title bar components...
[2025-12-23 21:27:13.914] [DEBUG] titleBarWidget found at address: 1184116956064
[2025-12-23 21:27:13.914] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 21:27:13.914] [DEBUG] titleLabel found at address: 1184116958064
[2025-12-23 21:27:13.915] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 21:27:13.915] [DEBUG] minimizeButton found at address: 1184116973488
[2025-12-23 21:27:13.915] [DEBUG] maximizeButton found at address: 1184116977088
[2025-12-23 21:27:13.915] [DEBUG] closeButton found at address: 1184116987776
[2025-12-23 21:27:13.915] [DEBUG] Title bar initialization completed
[2025-12-23 21:27:13.915] [DEBUG] Initializing status bar components...
[2025-12-23 21:27:13.916] [DEBUG] statusBarWidget found
[2025-12-23 21:27:13.916] [DEBUG] statusMessageLabel found
[2025-12-23 21:27:13.916] [DEBUG] networkStatusButton found
[2025-12-23 21:27:13.916] [DEBUG] userInfoButton found
[2025-12-23 21:27:13.916] [DEBUG] Status bar initialization completed
[2025-12-23 21:27:13.916] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 21:27:13.916] [DEBUG] stackedWidget found in UI
[2025-12-23 21:27:13.924] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 21:27:13.924] [DEBUG] Creating ToastWidget...
[2025-12-23 21:27:13.927] [DEBUG] ====== Validating Window Background ======
[2025-12-23 21:27:13.927] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 21:27:13.927] [INFO] CentralWidget background is correctly set to white
[2025-12-23 21:27:13.928] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 21:27:13.928] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 21:27:13.928] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 21:27:13.928] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 21:27:13.928] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 21:27:13.928] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 21:27:13.929] [INFO] MainWindow initialization completed successfully
[2025-12-23 21:27:18.742] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 21:27:18.742] [DEBUG] localGame signal received, initializing local game
[2025-12-23 21:27:18.742] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 21:27:18.744] [DEBUG] Player list updated, count: 2
[2025-12-23 21:27:18.744] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:27:18.744] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 21:27:18.745] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 21:27:18.747] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 21:27:18.747] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:27:18.748] [INFO] GameWidget initialized successfully
[2025-12-23 21:27:18.749] [DEBUG] Switching widget to index: 1
[2025-12-23 21:27:18.752] [INFO] Switching to Game widget
[2025-12-23 21:27:18.754] [DEBUG] Widget switch completed
[2025-12-23 21:27:21.333] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 1
[2025-12-23 21:27:21.334] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 21:27:21.993] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 1
[2025-12-23 21:27:21.994] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 21:27:22.452] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 1
[2025-12-23 21:27:22.454] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 21:27:27.168] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 21:27:27.171] [DEBUG] Chat message from 系统: 玩家1 选择了黑棋
[2025-12-23 21:27:27.171] [DEBUG] Player list updated, count: 2
[2025-12-23 21:27:27.171] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 21:27:27.173] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 21:27:34.152] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 21:27:34.155] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 21:27:34.155] [DEBUG] Player list updated, count: 2
[2025-12-23 21:27:34.156] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:27:34.168] [INFO] Game started for player: 玩家1, rating: 1500
[2025-12-23 21:27:34.169] [DEBUG] Chat message from 游戏: 游戏开始！玩家1 执黑先行
[2025-12-23 21:27:34.169] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:27:39.000] [DEBUG] GameManager::onMakeMove called, x: 1, y: 1, isLocalGame: 1
[2025-12-23 21:27:39.001] [DEBUG] Chat message from 游戏: 玩家1 在 (1, 1) 落黑子
[2025-12-23 21:27:39.003] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 21:27:48.092] [DEBUG] GameManager::onMakeMove called, x: 2, y: 1, isLocalGame: 1
[2025-12-23 21:27:48.093] [DEBUG] Chat message from 游戏: 玩家2 在 (2, 1) 落白子
[2025-12-23 21:27:48.097] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 21:27:50.470] [DEBUG] GameManager::onMakeMove called, x: 1, y: 2, isLocalGame: 1
[2025-12-23 21:27:50.471] [DEBUG] Chat message from 游戏: 玩家1 在 (1, 2) 落黑子
[2025-12-23 21:27:50.474] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 21:27:51.705] [DEBUG] GameManager::onMakeMove called, x: 2, y: 2, isLocalGame: 1
[2025-12-23 21:27:51.707] [DEBUG] Chat message from 游戏: 玩家2 在 (2, 2) 落白子
[2025-12-23 21:27:51.711] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 21:27:52.578] [DEBUG] GameManager::onMakeMove called, x: 2, y: 3, isLocalGame: 1
[2025-12-23 21:27:52.579] [DEBUG] Chat message from 游戏: 玩家1 在 (2, 3) 落黑子
[2025-12-23 21:27:52.582] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 21:27:53.422] [DEBUG] GameManager::onMakeMove called, x: 3, y: 1, isLocalGame: 1
[2025-12-23 21:27:53.425] [DEBUG] Chat message from 游戏: 玩家2 在 (3, 1) 落白子
[2025-12-23 21:27:53.430] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 21:27:54.483] [DEBUG] GameManager::onMakeMove called, x: 1, y: 3, isLocalGame: 1
[2025-12-23 21:27:54.484] [DEBUG] Chat message from 游戏: 玩家1 在 (1, 3) 落黑子
[2025-12-23 21:27:54.487] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 21:27:57.028] [DEBUG] GameManager::onMakeMove called, x: 1, y: 4, isLocalGame: 1
[2025-12-23 21:27:57.031] [DEBUG] Chat message from 游戏: 玩家2 在 (1, 4) 落白子
[2025-12-23 21:27:57.034] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 21:27:58.254] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 1
[2025-12-23 21:27:58.256] [DEBUG] Chat message from 游戏: 玩家1 在 (3, 3) 落黑子
[2025-12-23 21:27:58.259] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 21:27:58.688] [DEBUG] GameManager::onMakeMove called, x: 2, y: 4, isLocalGame: 1
[2025-12-23 21:27:58.689] [DEBUG] Chat message from 游戏: 玩家2 在 (2, 4) 落白子
[2025-12-23 21:27:58.694] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 21:28:05.068] [DEBUG] GameManager::onMakeMove called, x: 4, y: 3, isLocalGame: 1
[2025-12-23 21:28:05.069] [DEBUG] Chat message from 游戏: 玩家1 在 (4, 3) 落黑子
[2025-12-23 21:28:05.073] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 21:28:06.135] [DEBUG] GameManager::onMakeMove called, x: 3, y: 2, isLocalGame: 1
[2025-12-23 21:28:06.140] [DEBUG] Chat message from 游戏: 玩家2 在 (3, 2) 落白子
[2025-12-23 21:28:06.146] [DEBUG] Chat message from 游戏: 轮到 玩家1 落子
[2025-12-23 21:28:07.841] [DEBUG] GameManager::onMakeMove called, x: 5, y: 3, isLocalGame: 1
[2025-12-23 21:28:07.842] [DEBUG] Chat message from 游戏: 玩家1 在 (5, 3) 落黑子
[2025-12-23 21:28:07.845] [DEBUG] Chat message from 游戏: 玩家1 五子连珠，获胜！
[2025-12-23 21:28:07.845] [INFO] Game ended for player: 玩家1, won: 1
[2025-12-23 21:28:13.952] [DEBUG] Back to lobby button clicked
[2025-12-23 21:28:13.953] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 21:28:13.955] [DEBUG] Switching widget to index: 0
[2025-12-23 21:28:13.956] [INFO] Switching to Lobby widget
[2025-12-23 21:28:13.957] [DEBUG] Widget switch completed
[2025-12-23 21:28:13.959] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 21:28:13.959] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:28:13.960] [INFO] GameWidget initialized successfully
[2025-12-23 21:28:13.961] [DEBUG] GameManager::setLocalGame called with isLocal: 0
[2025-12-23 21:28:13.961] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 21:29:50.258] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 21:29:50.258] [INFO] Reconnecting to server...
[2025-12-23 21:29:50.258] [INFO] Attempting to connect to server...
[2025-12-23 21:29:50.258] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:29:50.259] [DEBUG] New socket created successfully, socket value: 1416
[2025-12-23 21:29:50.259] [INFO] Connected to server successfully!
[2025-12-23 21:29:50.259] [DEBUG] Socket set to non-blocking mode
[2025-12-23 21:29:50.259] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:29:50.260] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:29:50.261] [DEBUG] Worker thread started
[2025-12-23 21:29:50.262] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 21:29:50.262] [INFO] Client loop started.
[2025-12-23 21:29:50.262] [INFO] Connection established and handshake initiated
[2025-12-23 21:29:50.291] [DEBUG] [Handshake] Received NewSession. ID: 7770614599025979878
[2025-12-23 21:29:50.293] [DEBUG] Saved server public key
[2025-12-23 21:29:50.302] [INFO] [Handshake] Session Activated!
[2025-12-23 21:29:50.303] [DEBUG] Calling sessionActivatedCallback with sessionId: 7770614599025979878
[2025-12-23 21:29:50.303] [INFO] Session activated callback received, sessionId: 7770614599025979878
[2025-12-23 21:29:54.398] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 21:29:56.993] [DEBUG] User chose to login with account
[2025-12-23 21:30:13.818] [INFO] Login attempt for user: xixi
[2025-12-23 21:30:13.819] [DEBUG] Login packet created with session ID: 7770614599025979878
[2025-12-23 21:30:13.819] [DEBUG] Sending login packet...
[2025-12-23 21:30:13.820] [DEBUG] Sent packet (type: 256)
[2025-12-23 21:30:13.820] [INFO] Login request sent for user: xixi
[2025-12-23 21:30:13.829] [DEBUG] Received packet (type: 65535)
[2025-12-23 21:32:25.213] [WARN] Server disconnected.
[2025-12-23 21:32:25.213] [DEBUG] Calling disconnectedCallback
[2025-12-23 21:32:25.213] [INFO] Disconnected from server callback triggered
[2025-12-23 21:32:58.632] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 21:32:58.632] [INFO] Reconnecting to server...
[2025-12-23 21:32:58.633] [INFO] Attempting to connect to server...
[2025-12-23 21:32:58.633] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:32:58.633] [DEBUG] New socket created successfully, socket value: 1644
[2025-12-23 21:32:58.634] [INFO] Connected to server successfully!
[2025-12-23 21:32:58.634] [DEBUG] Socket set to non-blocking mode
[2025-12-23 21:32:58.634] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:32:58.634] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 21:32:58.635] [DEBUG] Worker thread joined successfully.
[2025-12-23 21:32:58.635] [DEBUG] Worker thread started
[2025-12-23 21:32:58.637] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 21:32:58.637] [INFO] Client loop started.
[2025-12-23 21:32:58.637] [INFO] Connection established and handshake initiated
[2025-12-23 21:32:58.654] [DEBUG] [Handshake] Received NewSession. ID: 6040557058887845028
[2025-12-23 21:32:58.655] [DEBUG] Saved server public key
[2025-12-23 21:32:58.671] [INFO] [Handshake] Session Activated!
[2025-12-23 21:32:58.671] [DEBUG] Calling sessionActivatedCallback with sessionId: 6040557058887845028
[2025-12-23 21:32:58.671] [INFO] Session activated callback received, sessionId: 6040557058887845028
[2025-12-23 21:33:01.136] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 21:33:02.268] [DEBUG] User chose to login with account
[2025-12-23 21:33:12.359] [INFO] Login attempt for user: xixi
[2025-12-23 21:33:12.359] [DEBUG] Login packet created with session ID: 6040557058887845028
[2025-12-23 21:33:12.360] [DEBUG] Sending login packet...
[2025-12-23 21:33:12.360] [DEBUG] Sent packet (type: 256)
[2025-12-23 21:33:12.360] [INFO] Login request sent for user: xixi
[2025-12-23 21:33:12.362] [DEBUG] Received packet (type: 256)
[2025-12-23 21:33:22.910] [DEBUG] Creating room
[2025-12-23 21:33:22.910] [DEBUG] Sent packet (type: 512)
[2025-12-23 21:33:22.923] [DEBUG] Received packet (type: 512)
[2025-12-23 21:33:22.924] [INFO] Room created successfully, room ID: 0
[2025-12-23 21:33:22.926] [DEBUG] Switching widget to index: 1
[2025-12-23 21:33:22.927] [INFO] Switching to Game widget
[2025-12-23 21:33:22.927] [DEBUG] Widget switch completed
[2025-12-23 21:33:22.931] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 21:33:22.931] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:33:22.932] [INFO] GameWidget initialized successfully
[2025-12-23 21:33:22.932] [DEBUG] GameManager::setLocalGame called with isLocal: 0
[2025-12-23 21:33:22.932] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 21:33:26.020] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 21:33:26.022] [INFO] Taking black pieces
[2025-12-23 21:33:26.022] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 21:33:33.392] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 21:33:33.394] [INFO] Taking white pieces
[2025-12-23 21:33:33.394] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:34:17.164] [DEBUG] Back to lobby button clicked
[2025-12-23 21:34:18.760] [DEBUG] Back to lobby button clicked
[2025-12-23 21:34:21.770] [DEBUG] Back to lobby button clicked
[2025-12-23 21:34:24.985] [DEBUG] Back to lobby button clicked
[2025-12-23 21:38:56.033] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 21:38:56.033] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 21:38:56.033] [DEBUG] Setting up UI...
[2025-12-23 21:38:56.047] [DEBUG] Creating Manager instance...
[2025-12-23 21:38:56.047] [INFO] Manager initialized for server
[2025-12-23 21:38:56.047] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 21:38:56.069] [DEBUG] Session activated callback set
[2025-12-23 21:38:56.069] [INFO] Attempting to connect to server...
[2025-12-23 21:38:56.070] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:38:56.074] [DEBUG] New socket created successfully, socket value: 1080
[2025-12-23 21:38:56.075] [INFO] Connected to server successfully!
[2025-12-23 21:38:56.075] [DEBUG] Socket set to non-blocking mode
[2025-12-23 21:38:56.076] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:38:56.076] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:38:56.076] [DEBUG] Worker thread started
[2025-12-23 21:38:56.077] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 21:38:56.077] [INFO] Connection established and handshake initiated
[2025-12-23 21:38:56.077] [DEBUG] Creating LobbyWidget...
[2025-12-23 21:38:56.077] [DEBUG] LobbyWidget Initializing...
[2025-12-23 21:38:56.079] [INFO] Client loop started.
[2025-12-23 21:38:56.083] [DEBUG] Configuring room table properties...
[2025-12-23 21:38:56.083] [DEBUG] Room table properties configured
[2025-12-23 21:38:56.083] [DEBUG] Initializing room table...
[2025-12-23 21:38:56.085] [DEBUG] Initializing player list...
[2025-12-23 21:38:56.085] [DEBUG] Setting up signals...
[2025-12-23 21:38:56.085] [INFO] LobbyWidget initialized successfully
[2025-12-23 21:38:56.086] [DEBUG] Creating GameWidget...
[2025-12-23 21:38:56.089] [DEBUG] GameWidget UI initialized
[2025-12-23 21:38:56.089] [DEBUG] GameWidget signal connections established
[2025-12-23 21:38:56.089] [DEBUG] GameWidget constructed successfully
[2025-12-23 21:38:56.090] [DEBUG] Creating GameManager instance...
[2025-12-23 21:38:56.090] [DEBUG] Setting up signal connections...
[2025-12-23 21:38:56.090] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 21:38:56.090] [DEBUG] localGame connection result: 1
[2025-12-23 21:38:56.091] [DEBUG] Initializing window components...
[2025-12-23 21:38:56.091] [DEBUG] Initializing window style...
[2025-12-23 21:38:56.092] [DEBUG] [Handshake] Received NewSession. ID: 6040557058887845028
[2025-12-23 21:38:56.093] [DEBUG] Saved server public key
[2025-12-23 21:38:56.099] [DEBUG] Set main window background to white
[2025-12-23 21:38:56.100] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 21:38:56.106] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 21:38:56.106] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 21:38:56.106] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 21:38:56.107] [DEBUG] Window size set to: 1000x700
[2025-12-23 21:38:56.107] [DEBUG] Set window palette to white background
[2025-12-23 21:38:56.107] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 21:38:56.107] [DEBUG] Window background role color: #ffffff
[2025-12-23 21:38:56.107] [DEBUG] Initializing layout...
[2025-12-23 21:38:56.108] [DEBUG] centralwidget found at address: 2326824465520
[2025-12-23 21:38:56.108] [INFO] [Handshake] Session Activated!
[2025-12-23 21:38:56.108] [DEBUG] Calling sessionActivatedCallback with sessionId: 6040557058887845028
[2025-12-23 21:38:56.108] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 21:38:56.108] [INFO] Session activated callback received, sessionId: 6040557058887845028
[2025-12-23 21:38:56.108] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 21:38:56.109] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 21:38:56.109] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 21:38:56.109] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 21:38:56.109] [DEBUG] Set centralwidget palette to white background
[2025-12-23 21:38:56.109] [DEBUG] Layout initialized successfully
[2025-12-23 21:38:56.110] [DEBUG] Initializing title bar and status bar...
[2025-12-23 21:38:56.110] [DEBUG] Initializing title bar components...
[2025-12-23 21:38:56.110] [DEBUG] titleBarWidget found at address: 2326824606624
[2025-12-23 21:38:56.110] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 21:38:56.110] [DEBUG] titleLabel found at address: 2326824608624
[2025-12-23 21:38:56.110] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 21:38:56.110] [DEBUG] minimizeButton found at address: 2326824624048
[2025-12-23 21:38:56.110] [DEBUG] maximizeButton found at address: 2326824627648
[2025-12-23 21:38:56.110] [DEBUG] closeButton found at address: 2326824638336
[2025-12-23 21:38:56.110] [DEBUG] Title bar initialization completed
[2025-12-23 21:38:56.111] [DEBUG] Initializing status bar components...
[2025-12-23 21:38:56.111] [DEBUG] statusBarWidget found
[2025-12-23 21:38:56.111] [DEBUG] statusMessageLabel found
[2025-12-23 21:38:56.111] [DEBUG] networkStatusButton found
[2025-12-23 21:38:56.111] [DEBUG] userInfoButton found
[2025-12-23 21:38:56.111] [DEBUG] Status bar initialization completed
[2025-12-23 21:38:56.111] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 21:38:56.111] [DEBUG] stackedWidget found in UI
[2025-12-23 21:38:56.119] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 21:38:56.119] [DEBUG] Creating ToastWidget...
[2025-12-23 21:38:56.121] [DEBUG] ====== Validating Window Background ======
[2025-12-23 21:38:56.121] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 21:38:56.121] [INFO] CentralWidget background is correctly set to white
[2025-12-23 21:38:56.121] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 21:38:56.121] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 21:38:56.121] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 21:38:56.122] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 21:38:56.122] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 21:38:56.122] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 21:38:56.122] [INFO] MainWindow initialization completed successfully
[2025-12-23 21:39:02.695] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 21:39:02.696] [DEBUG] localGame signal received, initializing local game
[2025-12-23 21:39:02.696] [DEBUG] GameManager::setLocalGame called with isLocal: 1
[2025-12-23 21:39:02.697] [DEBUG] Player list updated, count: 2
[2025-12-23 21:39:02.697] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:39:02.698] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请点击玩家头像选择座位
[2025-12-23 21:39:02.698] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 21:39:02.700] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 21:39:02.700] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:39:02.701] [INFO] GameWidget initialized successfully
[2025-12-23 21:39:02.701] [DEBUG] Switching widget to index: 1
[2025-12-23 21:39:02.703] [INFO] Switching to Game widget
[2025-12-23 21:39:02.703] [DEBUG] Widget switch completed
[2025-12-23 21:55:39.576] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 21:55:39.576] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 21:55:39.576] [DEBUG] Setting up UI...
[2025-12-23 21:55:39.607] [DEBUG] Creating Manager instance...
[2025-12-23 21:55:39.607] [INFO] Manager initialized for server
[2025-12-23 21:55:39.607] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 21:55:39.630] [DEBUG] Session activated callback set
[2025-12-23 21:55:39.630] [INFO] Attempting to connect to server...
[2025-12-23 21:55:39.631] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:55:39.635] [DEBUG] New socket created successfully, socket value: 1056
[2025-12-23 21:55:39.635] [INFO] Connected to server successfully!
[2025-12-23 21:55:39.635] [DEBUG] Socket set to non-blocking mode
[2025-12-23 21:55:39.636] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:55:39.636] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:55:39.636] [DEBUG] Worker thread started
[2025-12-23 21:55:39.636] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 21:55:39.637] [INFO] Connection established and handshake initiated
[2025-12-23 21:55:39.637] [DEBUG] Creating LobbyWidget...
[2025-12-23 21:55:39.637] [DEBUG] LobbyWidget Initializing...
[2025-12-23 21:55:39.639] [INFO] Client loop started.
[2025-12-23 21:55:39.643] [DEBUG] Configuring room table properties...
[2025-12-23 21:55:39.644] [DEBUG] Room table properties configured
[2025-12-23 21:55:39.644] [DEBUG] Initializing room table...
[2025-12-23 21:55:39.646] [DEBUG] Initializing player list...
[2025-12-23 21:55:39.646] [DEBUG] Setting up signals...
[2025-12-23 21:55:39.647] [INFO] LobbyWidget initialized successfully
[2025-12-23 21:55:39.647] [DEBUG] Creating GameWidget...
[2025-12-23 21:55:39.650] [DEBUG] GameWidget UI initialized
[2025-12-23 21:55:39.650] [DEBUG] GameWidget signal connections established
[2025-12-23 21:55:39.651] [DEBUG] GameWidget constructed successfully
[2025-12-23 21:55:39.651] [DEBUG] Creating GameManager instance...
[2025-12-23 21:55:39.651] [DEBUG] Setting up signal connections...
[2025-12-23 21:55:39.651] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 21:55:39.652] [DEBUG] localGame connection result: 1
[2025-12-23 21:55:39.652] [DEBUG] Initializing window components...
[2025-12-23 21:55:39.652] [DEBUG] Initializing window style...
[2025-12-23 21:55:39.661] [DEBUG] Set main window background to white
[2025-12-23 21:55:39.662] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 21:55:39.662] [DEBUG] [Handshake] Received NewSession. ID: 2905721490287305630
[2025-12-23 21:55:39.663] [DEBUG] Saved server public key
[2025-12-23 21:55:39.670] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 21:55:39.671] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 21:55:39.671] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 21:55:39.671] [DEBUG] Window size set to: 1000x700
[2025-12-23 21:55:39.671] [DEBUG] Set window palette to white background
[2025-12-23 21:55:39.671] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 21:55:39.671] [DEBUG] Window background role color: #ffffff
[2025-12-23 21:55:39.672] [DEBUG] Initializing layout...
[2025-12-23 21:55:39.672] [DEBUG] centralwidget found at address: 1701905806448
[2025-12-23 21:55:39.672] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 21:55:39.672] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 21:55:39.672] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 21:55:39.672] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 21:55:39.673] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 21:55:39.673] [DEBUG] Set centralwidget palette to white background
[2025-12-23 21:55:39.673] [DEBUG] Layout initialized successfully
[2025-12-23 21:55:39.673] [DEBUG] Initializing title bar and status bar...
[2025-12-23 21:55:39.673] [DEBUG] Initializing title bar components...
[2025-12-23 21:55:39.673] [DEBUG] titleBarWidget found at address: 1701905947552
[2025-12-23 21:55:39.673] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 21:55:39.673] [DEBUG] titleLabel found at address: 1701905949552
[2025-12-23 21:55:39.673] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 21:55:39.673] [DEBUG] minimizeButton found at address: 1701905964976
[2025-12-23 21:55:39.673] [DEBUG] maximizeButton found at address: 1701905968576
[2025-12-23 21:55:39.674] [DEBUG] closeButton found at address: 1701905979264
[2025-12-23 21:55:39.674] [DEBUG] Title bar initialization completed
[2025-12-23 21:55:39.674] [DEBUG] Initializing status bar components...
[2025-12-23 21:55:39.674] [DEBUG] statusBarWidget found
[2025-12-23 21:55:39.674] [DEBUG] statusMessageLabel found
[2025-12-23 21:55:39.674] [DEBUG] networkStatusButton found
[2025-12-23 21:55:39.674] [DEBUG] userInfoButton found
[2025-12-23 21:55:39.674] [DEBUG] Status bar initialization completed
[2025-12-23 21:55:39.674] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 21:55:39.674] [DEBUG] stackedWidget found in UI
[2025-12-23 21:55:39.677] [INFO] [Handshake] Session Activated!
[2025-12-23 21:55:39.678] [DEBUG] Calling sessionActivatedCallback with sessionId: 2905721490287305630
[2025-12-23 21:55:39.678] [INFO] Session activated callback received, sessionId: 2905721490287305630
[2025-12-23 21:55:39.685] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 21:55:39.685] [DEBUG] Creating ToastWidget...
[2025-12-23 21:55:39.686] [DEBUG] ====== Validating Window Background ======
[2025-12-23 21:55:39.686] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 21:55:39.687] [INFO] CentralWidget background is correctly set to white
[2025-12-23 21:55:39.687] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 21:55:39.687] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 21:55:39.687] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 21:55:39.687] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 21:55:39.687] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 21:55:39.688] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 21:55:39.688] [INFO] MainWindow initialization completed successfully
[2025-12-23 21:55:48.846] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 21:55:48.846] [DEBUG] localGame signal received, initializing local game
[2025-12-23 21:55:48.846] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 1
[2025-12-23 21:55:48.848] [DEBUG] Player list updated, count: 2
[2025-12-23 21:55:48.848] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:55:48.848] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请选择黑棋座位，AI将执白棋
[2025-12-23 21:55:48.852] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 21:55:48.855] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 21:55:48.856] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:55:48.858] [INFO] GameWidget initialized successfully
[2025-12-23 21:55:48.858] [DEBUG] Switching widget to index: 1
[2025-12-23 21:55:48.862] [INFO] Switching to Game widget
[2025-12-23 21:55:48.864] [DEBUG] Widget switch completed
[2025-12-23 21:55:50.312] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 21:55:50.313] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-23 21:55:50.314] [DEBUG] Player list updated, count: 2
[2025-12-23 21:55:50.314] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:55:50.326] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-23 21:55:50.326] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-23 21:55:50.327] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:55:52.298] [DEBUG] GameManager::onMakeMove called, x: 10, y: 2, isLocalGame: 1
[2025-12-23 21:55:52.299] [DEBUG] Chat message from 游戏: 玩家 在 (10, 2) 落黑子
[2025-12-23 21:55:52.302] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 21:55:56.508] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 0) 落白子
[2025-12-23 21:55:56.512] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 21:55:56.536] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 1
[2025-12-23 21:55:56.537] [DEBUG] Chat message from 游戏: 玩家 在 (9, 3) 落黑子
[2025-12-23 21:55:56.543] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 21:55:57.591] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 1) 落白子
[2025-12-23 21:55:57.594] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 21:56:02.824] [DEBUG] GameManager::onMakeMove called, x: 7, y: 3, isLocalGame: 1
[2025-12-23 21:56:02.825] [DEBUG] Chat message from 游戏: 玩家 在 (7, 3) 落黑子
[2025-12-23 21:56:02.826] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 21:56:06.607] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 2) 落白子
[2025-12-23 21:56:06.612] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 21:56:08.246] [DEBUG] GameManager::onMakeMove called, x: 7, y: 4, isLocalGame: 1
[2025-12-23 21:56:08.248] [DEBUG] Chat message from 游戏: 玩家 在 (7, 4) 落黑子
[2025-12-23 21:56:08.250] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 21:56:11.937] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 3) 落白子
[2025-12-23 21:56:11.941] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 21:56:35.789] [DEBUG] Back to lobby button clicked
[2025-12-23 21:56:35.789] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 21:56:35.792] [DEBUG] Switching widget to index: 0
[2025-12-23 21:56:35.792] [INFO] Switching to Lobby widget
[2025-12-23 21:56:35.793] [DEBUG] Widget switch completed
[2025-12-23 21:56:35.796] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 21:56:35.796] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:56:35.797] [INFO] GameWidget initialized successfully
[2025-12-23 21:56:35.798] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 21:56:35.798] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 21:56:56.617] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 21:56:57.643] [DEBUG] User chose to login with account
[2025-12-23 21:57:05.604] [INFO] Login attempt for user: xixi
[2025-12-23 21:57:05.604] [DEBUG] Login packet created with session ID: 2905721490287305630
[2025-12-23 21:57:05.605] [DEBUG] Sending login packet...
[2025-12-23 21:57:05.605] [DEBUG] Sent packet (type: 256)
[2025-12-23 21:57:05.605] [INFO] Login request sent for user: xixi
[2025-12-23 21:57:05.612] [DEBUG] Received packet (type: 256)
[2025-12-23 21:57:07.510] [DEBUG] Creating room
[2025-12-23 21:57:07.511] [DEBUG] Sent packet (type: 512)
[2025-12-23 21:57:07.516] [DEBUG] Received packet (type: 512)
[2025-12-23 21:57:07.516] [INFO] Room created successfully, room ID: 0
[2025-12-23 21:57:07.519] [DEBUG] Switching widget to index: 1
[2025-12-23 21:57:07.520] [INFO] Switching to Game widget
[2025-12-23 21:57:07.520] [DEBUG] Widget switch completed
[2025-12-23 21:57:07.523] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 21:57:07.523] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:57:07.525] [INFO] GameWidget initialized successfully
[2025-12-23 21:57:07.525] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 21:57:07.525] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 21:57:08.632] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:09.709] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:10.814] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:12.196] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:12.550] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:13.927] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:17.954] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 21:57:17.956] [INFO] Taking black pieces
[2025-12-23 21:57:17.957] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 21:57:21.385] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 21:57:21.386] [INFO] Taking white pieces
[2025-12-23 21:57:21.386] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:57:24.291] [DEBUG] Back to lobby button clicked
[2025-12-23 21:57:32.375] [DEBUG] Close button clicked
[2025-12-23 21:57:42.713] [INFO] MainWindow destructor called
[2025-12-23 21:57:42.714] [DEBUG] Cleaning up UI...
[2025-12-23 21:57:42.714] [DEBUG] Cleaning up Manager...
[2025-12-23 21:57:42.714] [INFO] Manager destructor called
[2025-12-23 21:57:42.714] [DEBUG] Disconnecting client...
[2025-12-23 21:57:42.714] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:57:42.714] [DEBUG] Current socket value before disconnect: 1056
[2025-12-23 21:57:42.714] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 21:57:42.750] [DEBUG] Worker thread joined successfully.
[2025-12-23 21:57:42.750] [DEBUG] Closing socket
[2025-12-23 21:57:42.751] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 21:57:42.751] [DEBUG] Resetting session context
[2025-12-23 21:57:42.751] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 21:57:42.751] [INFO] Disconnected from server callback triggered
[2025-12-23 21:57:42.753] [INFO] Client disconnected successfully.
[2025-12-23 21:57:42.753] [DEBUG] Client destructor called
[2025-12-23 21:57:42.754] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:57:42.754] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 21:57:42.754] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:57:42.754] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 21:57:42.754] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 21:57:42.754] [INFO] Disconnected from server callback triggered
[2025-12-23 21:57:42.755] [INFO] Client disconnected successfully.
[2025-12-23 21:57:42.755] [DEBUG] Client cleanup completed
[2025-12-23 21:57:42.755] [DEBUG] Client disconnected and reset
[2025-12-23 21:57:42.755] [INFO] Manager cleanup completed
[2025-12-23 21:57:42.756] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 21:57:42.759] [DEBUG] Shutting down Logger...
[2025-12-23 21:57:42.759] [INFO] Logger shutting down.
[2025-12-23 21:57:50.206] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 21:57:50.206] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 21:57:50.206] [DEBUG] Setting up UI...
[2025-12-23 21:57:50.219] [DEBUG] Creating Manager instance...
[2025-12-23 21:57:50.220] [INFO] Manager initialized for server
[2025-12-23 21:57:50.220] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 21:57:50.243] [DEBUG] Session activated callback set
[2025-12-23 21:57:50.244] [INFO] Attempting to connect to server...
[2025-12-23 21:57:50.244] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 21:57:50.249] [DEBUG] New socket created successfully, socket value: 1076
[2025-12-23 21:57:50.249] [INFO] Connected to server successfully!
[2025-12-23 21:57:50.250] [DEBUG] Socket set to non-blocking mode
[2025-12-23 21:57:50.250] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 21:57:50.250] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 21:57:50.251] [DEBUG] Worker thread started
[2025-12-23 21:57:50.251] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 21:57:50.252] [INFO] Connection established and handshake initiated
[2025-12-23 21:57:50.252] [DEBUG] Creating LobbyWidget...
[2025-12-23 21:57:50.255] [DEBUG] LobbyWidget Initializing...
[2025-12-23 21:57:50.256] [INFO] Client loop started.
[2025-12-23 21:57:50.265] [DEBUG] Configuring room table properties...
[2025-12-23 21:57:50.266] [DEBUG] Room table properties configured
[2025-12-23 21:57:50.266] [DEBUG] Initializing room table...
[2025-12-23 21:57:50.269] [DEBUG] Initializing player list...
[2025-12-23 21:57:50.269] [DEBUG] Setting up signals...
[2025-12-23 21:57:50.270] [DEBUG] [Handshake] Received NewSession. ID: 2905721490287305630
[2025-12-23 21:57:50.270] [INFO] LobbyWidget initialized successfully
[2025-12-23 21:57:50.270] [DEBUG] Creating GameWidget...
[2025-12-23 21:57:50.271] [DEBUG] Saved server public key
[2025-12-23 21:57:50.275] [DEBUG] GameWidget UI initialized
[2025-12-23 21:57:50.275] [DEBUG] GameWidget signal connections established
[2025-12-23 21:57:50.276] [DEBUG] GameWidget constructed successfully
[2025-12-23 21:57:50.276] [DEBUG] Creating GameManager instance...
[2025-12-23 21:57:50.277] [DEBUG] Setting up signal connections...
[2025-12-23 21:57:50.277] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 21:57:50.277] [DEBUG] localGame connection result: 1
[2025-12-23 21:57:50.278] [DEBUG] Initializing window components...
[2025-12-23 21:57:50.278] [DEBUG] Initializing window style...
[2025-12-23 21:57:50.285] [INFO] [Handshake] Session Activated!
[2025-12-23 21:57:50.286] [DEBUG] Calling sessionActivatedCallback with sessionId: 2905721490287305630
[2025-12-23 21:57:50.286] [INFO] Session activated callback received, sessionId: 2905721490287305630
[2025-12-23 21:57:50.292] [DEBUG] Set main window background to white
[2025-12-23 21:57:50.292] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 21:57:50.299] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 21:57:50.300] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 21:57:50.301] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 21:57:50.301] [DEBUG] Window size set to: 1000x700
[2025-12-23 21:57:50.302] [DEBUG] Set window palette to white background
[2025-12-23 21:57:50.302] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 21:57:50.303] [DEBUG] Window background role color: #ffffff
[2025-12-23 21:57:50.303] [DEBUG] Initializing layout...
[2025-12-23 21:57:50.303] [DEBUG] centralwidget found at address: 2680056624240
[2025-12-23 21:57:50.303] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 21:57:50.303] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 21:57:50.304] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 21:57:50.304] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 21:57:50.304] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 21:57:50.305] [DEBUG] Set centralwidget palette to white background
[2025-12-23 21:57:50.305] [DEBUG] Layout initialized successfully
[2025-12-23 21:57:50.305] [DEBUG] Initializing title bar and status bar...
[2025-12-23 21:57:50.305] [DEBUG] Initializing title bar components...
[2025-12-23 21:57:50.306] [DEBUG] titleBarWidget found at address: 2680056765344
[2025-12-23 21:57:50.306] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 21:57:50.306] [DEBUG] titleLabel found at address: 2680056767344
[2025-12-23 21:57:50.306] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 21:57:50.306] [DEBUG] minimizeButton found at address: 2680056782768
[2025-12-23 21:57:50.306] [DEBUG] maximizeButton found at address: 2680056786368
[2025-12-23 21:57:50.307] [DEBUG] closeButton found at address: 2680056797056
[2025-12-23 21:57:50.307] [DEBUG] Title bar initialization completed
[2025-12-23 21:57:50.307] [DEBUG] Initializing status bar components...
[2025-12-23 21:57:50.307] [DEBUG] statusBarWidget found
[2025-12-23 21:57:50.307] [DEBUG] statusMessageLabel found
[2025-12-23 21:57:50.307] [DEBUG] networkStatusButton found
[2025-12-23 21:57:50.308] [DEBUG] userInfoButton found
[2025-12-23 21:57:50.308] [DEBUG] Status bar initialization completed
[2025-12-23 21:57:50.308] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 21:57:50.308] [DEBUG] stackedWidget found in UI
[2025-12-23 21:57:50.316] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 21:57:50.317] [DEBUG] Creating ToastWidget...
[2025-12-23 21:57:50.318] [DEBUG] ====== Validating Window Background ======
[2025-12-23 21:57:50.318] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 21:57:50.318] [INFO] CentralWidget background is correctly set to white
[2025-12-23 21:57:50.318] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 21:57:50.319] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 21:57:50.319] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 21:57:50.319] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 21:57:50.319] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 21:57:50.319] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 21:57:50.319] [INFO] MainWindow initialization completed successfully
[2025-12-23 21:57:56.526] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 21:57:57.438] [DEBUG] User chose to login with account
[2025-12-23 21:58:06.245] [INFO] Login attempt for user: xixi
[2025-12-23 21:58:06.245] [DEBUG] Login packet created with session ID: 2905721490287305630
[2025-12-23 21:58:06.245] [DEBUG] Sending login packet...
[2025-12-23 21:58:06.245] [DEBUG] Sent packet (type: 256)
[2025-12-23 21:58:06.245] [INFO] Login request sent for user: xixi
[2025-12-23 21:58:06.255] [DEBUG] Received packet (type: 256)
[2025-12-23 21:58:13.999] [DEBUG] Creating room
[2025-12-23 21:58:14.000] [DEBUG] Sent packet (type: 512)
[2025-12-23 21:58:14.014] [DEBUG] Received packet (type: 512)
[2025-12-23 21:58:14.014] [INFO] Room created successfully, room ID: 0
[2025-12-23 21:58:14.017] [DEBUG] Switching widget to index: 1
[2025-12-23 21:58:14.018] [INFO] Switching to Game widget
[2025-12-23 21:58:14.018] [DEBUG] Widget switch completed
[2025-12-23 21:58:14.020] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 21:58:14.021] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 21:58:14.022] [INFO] GameWidget initialized successfully
[2025-12-23 21:58:14.022] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 21:58:14.022] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 21:58:16.112] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 21:58:16.115] [INFO] Taking black pieces
[2025-12-23 21:58:16.115] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 21:58:24.801] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 21:58:24.804] [INFO] Taking white pieces
[2025-12-23 21:58:24.804] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 21:58:27.653] [DEBUG] GameManager::onMakeMove called, x: 6, y: 2, isLocalGame: 0
[2025-12-23 21:58:28.334] [DEBUG] GameManager::onMakeMove called, x: 6, y: 2, isLocalGame: 0
[2025-12-23 21:58:29.419] [DEBUG] GameManager::onMakeMove called, x: 7, y: 3, isLocalGame: 0
[2025-12-23 21:58:30.132] [DEBUG] GameManager::onMakeMove called, x: 6, y: 2, isLocalGame: 0
[2025-12-23 21:58:31.162] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 0
[2025-12-23 21:58:32.872] [DEBUG] GameManager::onMakeMove called, x: 7, y: 3, isLocalGame: 0
[2025-12-23 21:58:33.616] [DEBUG] GameManager::onMakeMove called, x: 7, y: 4, isLocalGame: 0
[2025-12-23 21:58:35.875] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 21:58:36.502] [DEBUG] GameManager::onMakeMove called, x: 8, y: 3, isLocalGame: 0
[2025-12-23 21:58:37.137] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 0
[2025-12-23 21:58:37.949] [DEBUG] GameManager::onMakeMove called, x: 5, y: 4, isLocalGame: 0
[2025-12-23 21:58:39.992] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 0
[2025-12-23 21:58:40.381] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 0
[2025-12-23 21:58:40.728] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 0
[2025-12-23 21:58:41.519] [DEBUG] GameManager::onMakeMove called, x: 5, y: 6, isLocalGame: 0
[2025-12-23 21:58:48.400] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 0
[2025-12-23 21:58:59.562] [DEBUG] GameManager::onMakeMove called, x: 3, y: 11, isLocalGame: 0
[2025-12-23 21:58:59.768] [DEBUG] GameManager::onMakeMove called, x: 3, y: 11, isLocalGame: 0
[2025-12-23 21:59:00.039] [DEBUG] GameManager::onMakeMove called, x: 3, y: 11, isLocalGame: 0
[2025-12-23 21:59:00.468] [DEBUG] GameManager::onMakeMove called, x: 2, y: 11, isLocalGame: 0
[2025-12-23 21:59:00.720] [DEBUG] GameManager::onMakeMove called, x: 5, y: 11, isLocalGame: 0
[2025-12-23 21:59:00.911] [DEBUG] GameManager::onMakeMove called, x: 5, y: 11, isLocalGame: 0
[2025-12-23 21:59:01.130] [DEBUG] GameManager::onMakeMove called, x: 6, y: 11, isLocalGame: 0
[2025-12-23 21:59:03.124] [DEBUG] GameManager::onMakeMove called, x: 5, y: 1, isLocalGame: 0
[2025-12-23 21:59:04.332] [DEBUG] GameManager::onMakeMove called, x: 8, y: 1, isLocalGame: 0
[2025-12-23 21:59:04.737] [DEBUG] GameManager::onMakeMove called, x: 8, y: 2, isLocalGame: 0
[2025-12-23 21:59:05.218] [DEBUG] GameManager::onMakeMove called, x: 8, y: 2, isLocalGame: 0
[2025-12-23 21:59:06.091] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 21:59:08.886] [DEBUG] Back to lobby button clicked
[2025-12-23 22:34:53.833] [DEBUG] Back to lobby button clicked
[2025-12-23 22:34:54.135] [DEBUG] Back to lobby button clicked
[2025-12-23 22:34:54.673] [DEBUG] Back to lobby button clicked
[2025-12-23 22:34:55.160] [DEBUG] Back to lobby button clicked
[2025-12-23 22:34:55.699] [DEBUG] Back to lobby button clicked
[2025-12-23 22:35:12.633] [DEBUG] Sending chat message: 2
[2025-12-23 22:35:12.633] [INFO] Chat message sent: 2
[2025-12-23 22:35:20.276] [DEBUG] Minimize button clicked
[2025-12-23 22:35:24.352] [INFO] MainWindow destructor called
[2025-12-23 22:35:24.352] [DEBUG] Cleaning up UI...
[2025-12-23 22:35:24.352] [DEBUG] Cleaning up Manager...
[2025-12-23 22:35:24.352] [INFO] Manager destructor called
[2025-12-23 22:35:24.352] [DEBUG] Disconnecting client...
[2025-12-23 22:35:24.352] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:35:24.352] [DEBUG] Current socket value before disconnect: 1076
[2025-12-23 22:35:24.352] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 22:35:24.385] [DEBUG] Worker thread joined successfully.
[2025-12-23 22:35:24.385] [DEBUG] Closing socket
[2025-12-23 22:35:24.386] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 22:35:24.386] [DEBUG] Resetting session context
[2025-12-23 22:35:24.386] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:35:24.386] [INFO] Disconnected from server callback triggered
[2025-12-23 22:35:24.389] [INFO] Client disconnected successfully.
[2025-12-23 22:35:24.389] [DEBUG] Client destructor called
[2025-12-23 22:35:24.389] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:35:24.389] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 22:35:24.389] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:35:24.389] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 22:35:24.390] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:35:24.390] [INFO] Disconnected from server callback triggered
[2025-12-23 22:35:24.390] [INFO] Client disconnected successfully.
[2025-12-23 22:35:24.390] [DEBUG] Client cleanup completed
[2025-12-23 22:35:24.390] [DEBUG] Client disconnected and reset
[2025-12-23 22:35:24.390] [INFO] Manager cleanup completed
[2025-12-23 22:35:24.391] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 22:35:24.392] [DEBUG] Shutting down Logger...
[2025-12-23 22:35:24.393] [INFO] Logger shutting down.
[2025-12-23 22:38:19.777] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 22:38:19.777] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 22:38:19.777] [DEBUG] Setting up UI...
[2025-12-23 22:38:19.793] [DEBUG] Creating Manager instance...
[2025-12-23 22:38:19.794] [INFO] Manager initialized for server
[2025-12-23 22:38:19.794] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 22:38:19.816] [DEBUG] Session activated callback set
[2025-12-23 22:38:19.817] [INFO] Attempting to connect to server...
[2025-12-23 22:38:19.818] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 22:38:19.823] [DEBUG] New socket created successfully, socket value: 1056
[2025-12-23 22:38:19.823] [INFO] Connected to server successfully!
[2025-12-23 22:38:19.823] [DEBUG] Socket set to non-blocking mode
[2025-12-23 22:38:19.823] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:38:19.824] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:38:19.824] [DEBUG] Worker thread started
[2025-12-23 22:38:19.824] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 22:38:19.824] [INFO] Connection established and handshake initiated
[2025-12-23 22:38:19.825] [DEBUG] Creating LobbyWidget...
[2025-12-23 22:38:19.825] [DEBUG] LobbyWidget Initializing...
[2025-12-23 22:38:19.827] [INFO] Client loop started.
[2025-12-23 22:38:19.830] [DEBUG] Configuring room table properties...
[2025-12-23 22:38:19.830] [DEBUG] Room table properties configured
[2025-12-23 22:38:19.831] [DEBUG] Initializing room table...
[2025-12-23 22:38:19.832] [DEBUG] Initializing player list...
[2025-12-23 22:38:19.832] [DEBUG] Setting up signals...
[2025-12-23 22:38:19.833] [INFO] LobbyWidget initialized successfully
[2025-12-23 22:38:19.833] [DEBUG] Creating GameWidget...
[2025-12-23 22:38:19.836] [DEBUG] GameWidget UI initialized
[2025-12-23 22:38:19.837] [DEBUG] GameWidget signal connections established
[2025-12-23 22:38:19.837] [DEBUG] GameWidget constructed successfully
[2025-12-23 22:38:19.837] [DEBUG] Creating GameManager instance...
[2025-12-23 22:38:19.838] [DEBUG] Setting up signal connections...
[2025-12-23 22:38:19.838] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 22:38:19.838] [DEBUG] localGame connection result: 1
[2025-12-23 22:38:19.838] [DEBUG] Initializing window components...
[2025-12-23 22:38:19.839] [DEBUG] Initializing window style...
[2025-12-23 22:38:19.839] [DEBUG] [Handshake] Received NewSession. ID: 2905721490287305630
[2025-12-23 22:38:19.840] [DEBUG] Saved server public key
[2025-12-23 22:38:19.847] [DEBUG] Set main window background to white
[2025-12-23 22:38:19.848] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 22:38:19.851] [INFO] [Handshake] Session Activated!
[2025-12-23 22:38:19.851] [DEBUG] Calling sessionActivatedCallback with sessionId: 2905721490287305630
[2025-12-23 22:38:19.852] [INFO] Session activated callback received, sessionId: 2905721490287305630
[2025-12-23 22:38:19.855] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 22:38:19.855] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 22:38:19.855] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 22:38:19.856] [DEBUG] Window size set to: 1000x700
[2025-12-23 22:38:19.856] [DEBUG] Set window palette to white background
[2025-12-23 22:38:19.856] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 22:38:19.856] [DEBUG] Window background role color: #ffffff
[2025-12-23 22:38:19.856] [DEBUG] Initializing layout...
[2025-12-23 22:38:19.856] [DEBUG] centralwidget found at address: 2235526263920
[2025-12-23 22:38:19.857] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 22:38:19.857] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 22:38:19.857] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 22:38:19.857] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 22:38:19.857] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 22:38:19.858] [DEBUG] Set centralwidget palette to white background
[2025-12-23 22:38:19.858] [DEBUG] Layout initialized successfully
[2025-12-23 22:38:19.858] [DEBUG] Initializing title bar and status bar...
[2025-12-23 22:38:19.858] [DEBUG] Initializing title bar components...
[2025-12-23 22:38:19.858] [DEBUG] titleBarWidget found at address: 2235526405024
[2025-12-23 22:38:19.858] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 22:38:19.858] [DEBUG] titleLabel found at address: 2235526407024
[2025-12-23 22:38:19.858] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 22:38:19.859] [DEBUG] minimizeButton found at address: 2235526422448
[2025-12-23 22:38:19.859] [DEBUG] maximizeButton found at address: 2235526426048
[2025-12-23 22:38:19.859] [DEBUG] closeButton found at address: 2235526436736
[2025-12-23 22:38:19.859] [DEBUG] Title bar initialization completed
[2025-12-23 22:38:19.859] [DEBUG] Initializing status bar components...
[2025-12-23 22:38:19.859] [DEBUG] statusBarWidget found
[2025-12-23 22:38:19.859] [DEBUG] statusMessageLabel found
[2025-12-23 22:38:19.859] [DEBUG] networkStatusButton found
[2025-12-23 22:38:19.859] [DEBUG] userInfoButton found
[2025-12-23 22:38:19.860] [DEBUG] Status bar initialization completed
[2025-12-23 22:38:19.860] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 22:38:19.860] [DEBUG] stackedWidget found in UI
[2025-12-23 22:38:19.868] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 22:38:19.869] [DEBUG] Creating ToastWidget...
[2025-12-23 22:38:19.870] [DEBUG] ====== Validating Window Background ======
[2025-12-23 22:38:19.870] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 22:38:19.870] [INFO] CentralWidget background is correctly set to white
[2025-12-23 22:38:19.870] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 22:38:19.870] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 22:38:19.870] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 22:38:19.870] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 22:38:19.871] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 22:38:19.871] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 22:38:19.871] [INFO] MainWindow initialization completed successfully
[2025-12-23 22:38:24.563] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 22:38:24.563] [DEBUG] localGame signal received, initializing local game
[2025-12-23 22:38:24.564] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 1
[2025-12-23 22:38:24.565] [DEBUG] Player list updated, count: 2
[2025-12-23 22:38:24.566] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 22:38:24.566] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请选择黑棋座位，AI将执白棋
[2025-12-23 22:38:24.566] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 22:38:24.568] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 22:38:24.568] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:38:24.570] [INFO] GameWidget initialized successfully
[2025-12-23 22:38:24.571] [DEBUG] Switching widget to index: 1
[2025-12-23 22:38:24.572] [INFO] Switching to Game widget
[2025-12-23 22:38:24.574] [DEBUG] Widget switch completed
[2025-12-23 22:38:25.761] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 22:38:25.762] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-23 22:38:25.763] [DEBUG] Player list updated, count: 2
[2025-12-23 22:38:25.763] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 22:38:25.776] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-23 22:38:25.776] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-23 22:38:25.776] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 22:38:30.673] [DEBUG] GameManager::onMakeMove called, x: 7, y: 4, isLocalGame: 1
[2025-12-23 22:38:30.674] [DEBUG] Chat message from 游戏: 玩家 在 (7, 4) 落黑子
[2025-12-23 22:38:30.676] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 22:38:31.790] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 0) 落白子
[2025-12-23 22:38:31.793] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 22:38:34.282] [DEBUG] GameManager::onMakeMove called, x: 8, y: 4, isLocalGame: 1
[2025-12-23 22:38:34.284] [DEBUG] Chat message from 游戏: 玩家 在 (8, 4) 落黑子
[2025-12-23 22:38:34.288] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 22:38:35.405] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 1) 落白子
[2025-12-23 22:38:35.408] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 22:38:36.854] [DEBUG] GameManager::onMakeMove called, x: 8, y: 6, isLocalGame: 1
[2025-12-23 22:38:36.854] [DEBUG] Chat message from 游戏: 玩家 在 (8, 6) 落黑子
[2025-12-23 22:38:36.857] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 22:38:37.869] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 2) 落白子
[2025-12-23 22:38:37.873] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 22:38:41.905] [DEBUG] GameManager::onMakeMove called, x: 0, y: 3, isLocalGame: 1
[2025-12-23 22:38:41.906] [DEBUG] Chat message from 游戏: 玩家 在 (0, 3) 落黑子
[2025-12-23 22:38:41.911] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 22:38:42.080] [DEBUG] GameManager::onMakeMove called, x: 0, y: 3, isLocalGame: 1
[2025-12-23 22:38:42.082] [DEBUG] Chat message from 游戏: 无效的落子位置
[2025-12-23 22:38:44.744] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 4) 落白子
[2025-12-23 22:38:44.748] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 22:39:09.907] [DEBUG] Back to lobby button clicked
[2025-12-23 22:39:09.907] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 22:39:09.911] [DEBUG] Switching widget to index: 0
[2025-12-23 22:39:09.911] [INFO] Switching to Lobby widget
[2025-12-23 22:39:09.912] [DEBUG] Widget switch completed
[2025-12-23 22:39:09.916] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 22:39:09.916] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:39:09.918] [INFO] GameWidget initialized successfully
[2025-12-23 22:39:09.918] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 22:39:09.918] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 22:39:12.044] [INFO] MainWindow destructor called
[2025-12-23 22:39:12.044] [DEBUG] Cleaning up UI...
[2025-12-23 22:39:12.044] [DEBUG] Cleaning up Manager...
[2025-12-23 22:39:12.045] [INFO] Manager destructor called
[2025-12-23 22:39:12.045] [DEBUG] Disconnecting client...
[2025-12-23 22:39:12.045] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:39:12.045] [DEBUG] Current socket value before disconnect: 1056
[2025-12-23 22:39:12.045] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 22:39:12.092] [DEBUG] Worker thread joined successfully.
[2025-12-23 22:39:12.092] [DEBUG] Closing socket
[2025-12-23 22:39:12.093] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 22:39:12.093] [DEBUG] Resetting session context
[2025-12-23 22:39:12.093] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:39:12.094] [INFO] Disconnected from server callback triggered
[2025-12-23 22:39:12.098] [INFO] Client disconnected successfully.
[2025-12-23 22:39:12.098] [DEBUG] Client destructor called
[2025-12-23 22:39:12.098] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:39:12.099] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 22:39:12.099] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:39:12.099] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 22:39:12.099] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:39:12.099] [INFO] Disconnected from server callback triggered
[2025-12-23 22:39:12.101] [INFO] Client disconnected successfully.
[2025-12-23 22:39:12.101] [DEBUG] Client cleanup completed
[2025-12-23 22:39:12.101] [DEBUG] Client disconnected and reset
[2025-12-23 22:39:12.101] [INFO] Manager cleanup completed
[2025-12-23 22:39:12.101] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 22:39:12.105] [DEBUG] Shutting down Logger...
[2025-12-23 22:39:12.105] [INFO] Logger shutting down.
[2025-12-23 22:54:33.549] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 22:54:33.550] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 22:54:33.550] [DEBUG] Setting up UI...
[2025-12-23 22:54:33.588] [DEBUG] Creating Manager instance...
[2025-12-23 22:54:33.588] [INFO] Manager initialized for server
[2025-12-23 22:54:33.588] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 22:54:33.611] [DEBUG] Session activated callback set
[2025-12-23 22:54:33.611] [INFO] Attempting to connect to server...
[2025-12-23 22:54:33.612] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 22:54:33.617] [DEBUG] New socket created successfully, socket value: 972
[2025-12-23 22:54:33.618] [INFO] Connected to server successfully!
[2025-12-23 22:54:33.618] [DEBUG] Socket set to non-blocking mode
[2025-12-23 22:54:33.619] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:54:33.619] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:54:33.621] [DEBUG] Worker thread started
[2025-12-23 22:54:33.621] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 22:54:33.621] [INFO] Connection established and handshake initiated
[2025-12-23 22:54:33.621] [DEBUG] Creating LobbyWidget...
[2025-12-23 22:54:33.622] [DEBUG] LobbyWidget Initializing...
[2025-12-23 22:54:33.623] [INFO] Client loop started.
[2025-12-23 22:54:33.627] [DEBUG] Configuring room table properties...
[2025-12-23 22:54:33.628] [DEBUG] Room table properties configured
[2025-12-23 22:54:33.628] [DEBUG] Initializing room table...
[2025-12-23 22:54:33.629] [DEBUG] Initializing player list...
[2025-12-23 22:54:33.630] [DEBUG] Setting up signals...
[2025-12-23 22:54:33.630] [INFO] LobbyWidget initialized successfully
[2025-12-23 22:54:33.630] [DEBUG] Creating GameWidget...
[2025-12-23 22:54:33.633] [DEBUG] GameWidget UI initialized
[2025-12-23 22:54:33.634] [DEBUG] GameWidget signal connections established
[2025-12-23 22:54:33.634] [DEBUG] GameWidget constructed successfully
[2025-12-23 22:54:33.634] [DEBUG] Creating GameManager instance...
[2025-12-23 22:54:33.634] [DEBUG] Setting up signal connections...
[2025-12-23 22:54:33.635] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 22:54:33.635] [DEBUG] localGame connection result: 1
[2025-12-23 22:54:33.635] [DEBUG] Initializing window components...
[2025-12-23 22:54:33.635] [DEBUG] Initializing window style...
[2025-12-23 22:54:33.636] [DEBUG] [Handshake] Received NewSession. ID: 6183259501240631390
[2025-12-23 22:54:33.637] [DEBUG] Saved server public key
[2025-12-23 22:54:33.644] [DEBUG] Set main window background to white
[2025-12-23 22:54:33.645] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 22:54:33.651] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 22:54:33.651] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 22:54:33.652] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 22:54:33.652] [DEBUG] Window size set to: 1000x700
[2025-12-23 22:54:33.652] [DEBUG] Set window palette to white background
[2025-12-23 22:54:33.653] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 22:54:33.653] [DEBUG] Window background role color: #ffffff
[2025-12-23 22:54:33.653] [INFO] [Handshake] Session Activated!
[2025-12-23 22:54:33.653] [DEBUG] Calling sessionActivatedCallback with sessionId: 6183259501240631390
[2025-12-23 22:54:33.653] [DEBUG] Initializing layout...
[2025-12-23 22:54:33.653] [DEBUG] centralwidget found at address: 2484938519168
[2025-12-23 22:54:33.654] [INFO] Session activated callback received, sessionId: 6183259501240631390
[2025-12-23 22:54:33.654] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 22:54:33.654] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 22:54:33.654] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 22:54:33.654] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 22:54:33.654] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 22:54:33.655] [DEBUG] Set centralwidget palette to white background
[2025-12-23 22:54:33.655] [DEBUG] Layout initialized successfully
[2025-12-23 22:54:33.655] [DEBUG] Initializing title bar and status bar...
[2025-12-23 22:54:33.655] [DEBUG] Initializing title bar components...
[2025-12-23 22:54:33.655] [DEBUG] titleBarWidget found at address: 2484938660336
[2025-12-23 22:54:33.655] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 22:54:33.655] [DEBUG] titleLabel found at address: 2484938662336
[2025-12-23 22:54:33.655] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 22:54:33.656] [DEBUG] minimizeButton found at address: 2484938677728
[2025-12-23 22:54:33.656] [DEBUG] maximizeButton found at address: 2484938681120
[2025-12-23 22:54:33.656] [DEBUG] closeButton found at address: 2484938691984
[2025-12-23 22:54:33.656] [DEBUG] Title bar initialization completed
[2025-12-23 22:54:33.656] [DEBUG] Initializing status bar components...
[2025-12-23 22:54:33.656] [DEBUG] statusBarWidget found
[2025-12-23 22:54:33.656] [DEBUG] statusMessageLabel found
[2025-12-23 22:54:33.656] [DEBUG] networkStatusButton found
[2025-12-23 22:54:33.656] [DEBUG] userInfoButton found
[2025-12-23 22:54:33.657] [DEBUG] Status bar initialization completed
[2025-12-23 22:54:33.657] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 22:54:33.657] [DEBUG] stackedWidget found in UI
[2025-12-23 22:54:33.665] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 22:54:33.666] [DEBUG] Creating ToastWidget...
[2025-12-23 22:54:33.667] [DEBUG] ====== Validating Window Background ======
[2025-12-23 22:54:33.667] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 22:54:33.667] [INFO] CentralWidget background is correctly set to white
[2025-12-23 22:54:33.667] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 22:54:33.667] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 22:54:33.668] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 22:54:33.668] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 22:54:33.668] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 22:54:33.668] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 22:54:33.668] [INFO] MainWindow initialization completed successfully
[2025-12-23 22:54:41.434] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 22:54:41.434] [DEBUG] localGame signal received, initializing local game
[2025-12-23 22:54:41.435] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-23 22:54:41.436] [DEBUG] Player list updated, count: 2
[2025-12-23 22:54:41.436] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:54:41.437] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-23 22:54:41.439] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 22:54:41.441] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 22:54:41.441] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:54:41.442] [INFO] GameWidget initialized successfully
[2025-12-23 22:54:41.442] [DEBUG] Switching widget to index: 1
[2025-12-23 22:54:41.443] [INFO] Switching to Game widget
[2025-12-23 22:54:41.445] [DEBUG] Widget switch completed
[2025-12-23 22:55:05.065] [DEBUG] AI toggled: enabled
[2025-12-23 22:55:05.066] [DEBUG] GameManager::onAIToggled called with enabled: 1
[2025-12-23 22:55:05.066] [DEBUG] Chat message from 游戏: AI对手已启用，AI将执白棋
[2025-12-23 22:55:05.067] [DEBUG] Player list updated, count: 2
[2025-12-23 22:55:05.067] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=1
[2025-12-23 22:55:07.403] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 22:55:07.406] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-23 22:55:07.407] [DEBUG] Player list updated, count: 2
[2025-12-23 22:55:07.407] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 22:55:07.424] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-23 22:55:07.425] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-23 22:55:07.425] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 22:55:10.788] [DEBUG] GameManager::onMakeMove called, x: 7, y: 5, isLocalGame: 1
[2025-12-23 22:55:10.789] [DEBUG] Chat message from 游戏: 玩家 在 (7, 5) 落黑子
[2025-12-23 22:55:10.790] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-23 22:55:11.932] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 0) 落白子
[2025-12-23 22:55:11.936] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 22:55:14.219] [DEBUG] Back to lobby button clicked
[2025-12-23 22:55:14.220] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 22:55:14.221] [DEBUG] Switching widget to index: 0
[2025-12-23 22:55:14.221] [INFO] Switching to Lobby widget
[2025-12-23 22:55:14.222] [DEBUG] Widget switch completed
[2025-12-23 22:55:14.224] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 22:55:14.224] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:55:14.225] [INFO] GameWidget initialized successfully
[2025-12-23 22:55:14.225] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 22:55:14.225] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 22:55:17.959] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 22:55:19.280] [DEBUG] User chose to login with account
[2025-12-23 22:55:28.809] [INFO] Login attempt for user: xixi
[2025-12-23 22:55:28.809] [DEBUG] Login packet created with session ID: 6183259501240631390
[2025-12-23 22:55:28.809] [DEBUG] Sending login packet...
[2025-12-23 22:55:28.810] [DEBUG] Sent packet (type: 256)
[2025-12-23 22:55:28.810] [INFO] Login request sent for user: xixi
[2025-12-23 22:55:28.813] [DEBUG] Received packet (type: 256)
[2025-12-23 22:55:34.488] [DEBUG] Creating room
[2025-12-23 22:55:34.488] [DEBUG] Sent packet (type: 512)
[2025-12-23 22:55:34.497] [DEBUG] Received packet (type: 512)
[2025-12-23 22:55:34.497] [INFO] Room created successfully, room ID: 0
[2025-12-23 22:55:34.500] [DEBUG] Switching widget to index: 1
[2025-12-23 22:55:34.500] [INFO] Switching to Game widget
[2025-12-23 22:55:34.501] [DEBUG] Widget switch completed
[2025-12-23 22:55:34.505] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 22:55:34.505] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:55:34.506] [INFO] GameWidget initialized successfully
[2025-12-23 22:55:34.506] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 22:55:34.506] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 22:55:36.986] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 22:55:36.990] [INFO] Taking black pieces
[2025-12-23 22:55:36.990] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 22:55:42.852] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 22:55:42.854] [INFO] Taking white pieces
[2025-12-23 22:55:42.854] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 22:55:45.375] [DEBUG] Back to lobby button clicked
[2025-12-23 22:55:52.155] [DEBUG] AI toggled: disabled
[2025-12-23 22:55:52.155] [DEBUG] GameManager::onAIToggled called with enabled: 0
[2025-12-23 22:55:58.795] [DEBUG] GameManager::onMakeMove called, x: 7, y: 5, isLocalGame: 0
[2025-12-23 22:55:59.957] [DEBUG] GameManager::onMakeMove called, x: 7, y: 5, isLocalGame: 0
[2025-12-23 22:56:00.580] [DEBUG] GameManager::onMakeMove called, x: 7, y: 5, isLocalGame: 0
[2025-12-23 22:56:01.787] [DEBUG] GameManager::onMakeMove called, x: 7, y: 6, isLocalGame: 0
[2025-12-23 22:56:09.915] [DEBUG] GameManager::onMakeMove called, x: 9, y: 4, isLocalGame: 0
[2025-12-23 22:56:12.061] [INFO] MainWindow destructor called
[2025-12-23 22:56:12.061] [DEBUG] Cleaning up UI...
[2025-12-23 22:56:12.062] [DEBUG] Cleaning up Manager...
[2025-12-23 22:56:12.062] [INFO] Manager destructor called
[2025-12-23 22:56:12.062] [DEBUG] Disconnecting client...
[2025-12-23 22:56:12.062] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:56:12.062] [DEBUG] Current socket value before disconnect: 972
[2025-12-23 22:56:12.062] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 22:56:12.087] [DEBUG] Worker thread joined successfully.
[2025-12-23 22:56:12.087] [DEBUG] Closing socket
[2025-12-23 22:56:12.088] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 22:56:12.088] [DEBUG] Resetting session context
[2025-12-23 22:56:12.088] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:56:12.088] [INFO] Disconnected from server callback triggered
[2025-12-23 22:56:12.091] [INFO] Client disconnected successfully.
[2025-12-23 22:56:12.092] [DEBUG] Client destructor called
[2025-12-23 22:56:12.092] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:56:12.092] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 22:56:12.092] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:56:12.092] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 22:56:12.092] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:56:12.092] [INFO] Disconnected from server callback triggered
[2025-12-23 22:56:12.093] [INFO] Client disconnected successfully.
[2025-12-23 22:56:12.093] [DEBUG] Client cleanup completed
[2025-12-23 22:56:12.093] [DEBUG] Client disconnected and reset
[2025-12-23 22:56:12.093] [INFO] Manager cleanup completed
[2025-12-23 22:56:12.094] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 22:56:12.098] [DEBUG] Shutting down Logger...
[2025-12-23 22:56:12.098] [INFO] Logger shutting down.
[2025-12-23 22:56:58.160] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 22:56:58.160] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 22:56:58.160] [DEBUG] Setting up UI...
[2025-12-23 22:56:58.174] [DEBUG] Creating Manager instance...
[2025-12-23 22:56:58.174] [INFO] Manager initialized for server
[2025-12-23 22:56:58.174] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 22:56:58.196] [DEBUG] Session activated callback set
[2025-12-23 22:56:58.197] [INFO] Attempting to connect to server...
[2025-12-23 22:56:58.197] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 22:56:58.200] [DEBUG] New socket created successfully, socket value: 1048
[2025-12-23 22:56:58.201] [INFO] Connected to server successfully!
[2025-12-23 22:56:58.201] [DEBUG] Socket set to non-blocking mode
[2025-12-23 22:56:58.201] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:56:58.201] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:56:58.202] [DEBUG] Worker thread started
[2025-12-23 22:56:58.202] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 22:56:58.202] [INFO] Connection established and handshake initiated
[2025-12-23 22:56:58.202] [DEBUG] Creating LobbyWidget...
[2025-12-23 22:56:58.202] [DEBUG] LobbyWidget Initializing...
[2025-12-23 22:56:58.204] [INFO] Client loop started.
[2025-12-23 22:56:58.208] [DEBUG] Configuring room table properties...
[2025-12-23 22:56:58.208] [DEBUG] Room table properties configured
[2025-12-23 22:56:58.208] [DEBUG] Initializing room table...
[2025-12-23 22:56:58.209] [DEBUG] Initializing player list...
[2025-12-23 22:56:58.210] [DEBUG] Setting up signals...
[2025-12-23 22:56:58.210] [INFO] LobbyWidget initialized successfully
[2025-12-23 22:56:58.210] [DEBUG] Creating GameWidget...
[2025-12-23 22:56:58.213] [DEBUG] GameWidget UI initialized
[2025-12-23 22:56:58.213] [DEBUG] GameWidget signal connections established
[2025-12-23 22:56:58.213] [DEBUG] GameWidget constructed successfully
[2025-12-23 22:56:58.213] [DEBUG] Creating GameManager instance...
[2025-12-23 22:56:58.214] [DEBUG] Setting up signal connections...
[2025-12-23 22:56:58.214] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 22:56:58.214] [DEBUG] localGame connection result: 1
[2025-12-23 22:56:58.214] [DEBUG] Initializing window components...
[2025-12-23 22:56:58.214] [DEBUG] Initializing window style...
[2025-12-23 22:56:58.223] [DEBUG] Set main window background to white
[2025-12-23 22:56:58.223] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 22:56:58.230] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 22:56:58.230] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 22:56:58.230] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 22:56:58.230] [DEBUG] Window size set to: 1000x700
[2025-12-23 22:56:58.230] [DEBUG] Set window palette to white background
[2025-12-23 22:56:58.230] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 22:56:58.230] [DEBUG] Window background role color: #ffffff
[2025-12-23 22:56:58.231] [DEBUG] Initializing layout...
[2025-12-23 22:56:58.231] [DEBUG] centralwidget found at address: 1743928275584
[2025-12-23 22:56:58.231] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 22:56:58.231] [DEBUG] [Handshake] Received NewSession. ID: 4308456940185701291
[2025-12-23 22:56:58.232] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 22:56:58.232] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 22:56:58.232] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 22:56:58.232] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 22:56:58.232] [DEBUG] Set centralwidget palette to white background
[2025-12-23 22:56:58.232] [DEBUG] Layout initialized successfully
[2025-12-23 22:56:58.232] [DEBUG] Initializing title bar and status bar...
[2025-12-23 22:56:58.232] [DEBUG] Initializing title bar components...
[2025-12-23 22:56:58.233] [DEBUG] titleBarWidget found at address: 1743928416752
[2025-12-23 22:56:58.233] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 22:56:58.233] [DEBUG] titleLabel found at address: 1743928418752
[2025-12-23 22:56:58.233] [DEBUG] Saved server public key
[2025-12-23 22:56:58.233] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 22:56:58.233] [DEBUG] minimizeButton found at address: 1743928434144
[2025-12-23 22:56:58.233] [DEBUG] maximizeButton found at address: 1743928437536
[2025-12-23 22:56:58.234] [DEBUG] closeButton found at address: 1743928448400
[2025-12-23 22:56:58.234] [DEBUG] Title bar initialization completed
[2025-12-23 22:56:58.234] [DEBUG] Initializing status bar components...
[2025-12-23 22:56:58.234] [DEBUG] statusBarWidget found
[2025-12-23 22:56:58.234] [DEBUG] statusMessageLabel found
[2025-12-23 22:56:58.234] [DEBUG] networkStatusButton found
[2025-12-23 22:56:58.234] [DEBUG] userInfoButton found
[2025-12-23 22:56:58.234] [DEBUG] Status bar initialization completed
[2025-12-23 22:56:58.234] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 22:56:58.235] [DEBUG] stackedWidget found in UI
[2025-12-23 22:56:58.243] [INFO] [Handshake] Session Activated!
[2025-12-23 22:56:58.243] [DEBUG] Calling sessionActivatedCallback with sessionId: 4308456940185701291
[2025-12-23 22:56:58.243] [INFO] Session activated callback received, sessionId: 4308456940185701291
[2025-12-23 22:56:58.243] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 22:56:58.244] [DEBUG] Creating ToastWidget...
[2025-12-23 22:56:58.244] [DEBUG] ====== Validating Window Background ======
[2025-12-23 22:56:58.245] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 22:56:58.245] [INFO] CentralWidget background is correctly set to white
[2025-12-23 22:56:58.245] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 22:56:58.245] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 22:56:58.245] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 22:56:58.245] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 22:56:58.245] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 22:56:58.245] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 22:56:58.245] [INFO] MainWindow initialization completed successfully
[2025-12-23 22:57:00.578] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 22:57:00.579] [DEBUG] localGame signal received, initializing local game
[2025-12-23 22:57:00.579] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-23 22:57:00.580] [DEBUG] Player list updated, count: 2
[2025-12-23 22:57:00.581] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:57:00.581] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-23 22:57:00.581] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 22:57:00.583] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 22:57:00.583] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:57:00.584] [INFO] GameWidget initialized successfully
[2025-12-23 22:57:00.584] [DEBUG] Switching widget to index: 1
[2025-12-23 22:57:00.585] [INFO] Switching to Game widget
[2025-12-23 22:57:00.586] [DEBUG] Widget switch completed
[2025-12-23 22:57:04.627] [DEBUG] Back to lobby button clicked
[2025-12-23 22:57:04.628] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 22:57:04.630] [DEBUG] Switching widget to index: 0
[2025-12-23 22:57:04.630] [INFO] Switching to Lobby widget
[2025-12-23 22:57:04.631] [DEBUG] Widget switch completed
[2025-12-23 22:57:04.634] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 22:57:04.634] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:57:04.636] [INFO] GameWidget initialized successfully
[2025-12-23 22:57:04.636] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 22:57:04.636] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 22:57:05.555] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 22:57:06.725] [DEBUG] User chose to login with account
[2025-12-23 22:57:14.447] [INFO] Login attempt for user: xixi
[2025-12-23 22:57:14.448] [DEBUG] Login packet created with session ID: 4308456940185701291
[2025-12-23 22:57:14.448] [DEBUG] Sending login packet...
[2025-12-23 22:57:14.448] [DEBUG] Sent packet (type: 256)
[2025-12-23 22:57:14.449] [INFO] Login request sent for user: xixi
[2025-12-23 22:57:14.467] [DEBUG] Received packet (type: 256)
[2025-12-23 22:57:17.361] [DEBUG] Creating room
[2025-12-23 22:57:17.361] [DEBUG] Sent packet (type: 512)
[2025-12-23 22:57:17.375] [DEBUG] Received packet (type: 512)
[2025-12-23 22:57:17.375] [INFO] Room created successfully, room ID: 0
[2025-12-23 22:57:17.381] [DEBUG] Switching widget to index: 1
[2025-12-23 22:57:17.382] [INFO] Switching to Game widget
[2025-12-23 22:57:17.382] [DEBUG] Widget switch completed
[2025-12-23 22:57:17.385] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 22:57:17.386] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 22:57:17.387] [INFO] GameWidget initialized successfully
[2025-12-23 22:57:17.387] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 22:57:17.387] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 22:57:22.290] [INFO] MainWindow destructor called
[2025-12-23 22:57:22.290] [DEBUG] Cleaning up UI...
[2025-12-23 22:57:22.291] [DEBUG] Cleaning up Manager...
[2025-12-23 22:57:22.291] [INFO] Manager destructor called
[2025-12-23 22:57:22.291] [DEBUG] Disconnecting client...
[2025-12-23 22:57:22.291] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:57:22.291] [DEBUG] Current socket value before disconnect: 1048
[2025-12-23 22:57:22.291] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 22:57:22.353] [DEBUG] Worker thread joined successfully.
[2025-12-23 22:57:22.353] [DEBUG] Closing socket
[2025-12-23 22:57:22.353] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 22:57:22.353] [DEBUG] Resetting session context
[2025-12-23 22:57:22.353] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:57:22.354] [INFO] Disconnected from server callback triggered
[2025-12-23 22:57:22.356] [INFO] Client disconnected successfully.
[2025-12-23 22:57:22.356] [DEBUG] Client destructor called
[2025-12-23 22:57:22.357] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 22:57:22.357] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 22:57:22.357] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 22:57:22.357] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 22:57:22.357] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 22:57:22.357] [INFO] Disconnected from server callback triggered
[2025-12-23 22:57:22.358] [INFO] Client disconnected successfully.
[2025-12-23 22:57:22.358] [DEBUG] Client cleanup completed
[2025-12-23 22:57:22.358] [DEBUG] Client disconnected and reset
[2025-12-23 22:57:22.358] [INFO] Manager cleanup completed
[2025-12-23 22:57:22.358] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 22:57:22.360] [DEBUG] Shutting down Logger...
[2025-12-23 22:57:22.360] [INFO] Logger shutting down.
[2025-12-23 23:06:32.792] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 23:06:32.793] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 23:06:32.793] [DEBUG] Setting up UI...
[2025-12-23 23:06:32.807] [DEBUG] Creating Manager instance...
[2025-12-23 23:06:32.807] [INFO] Manager initialized for server
[2025-12-23 23:06:32.807] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 23:06:32.829] [DEBUG] Session activated callback set
[2025-12-23 23:06:32.830] [INFO] Attempting to connect to server...
[2025-12-23 23:06:32.830] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:06:32.834] [DEBUG] New socket created successfully, socket value: 1068
[2025-12-23 23:06:32.835] [INFO] Connected to server successfully!
[2025-12-23 23:06:32.835] [DEBUG] Socket set to non-blocking mode
[2025-12-23 23:06:32.835] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:06:32.836] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:06:32.836] [DEBUG] Worker thread started
[2025-12-23 23:06:32.836] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 23:06:32.836] [INFO] Connection established and handshake initiated
[2025-12-23 23:06:32.836] [DEBUG] Creating LobbyWidget...
[2025-12-23 23:06:32.837] [DEBUG] LobbyWidget Initializing...
[2025-12-23 23:06:32.839] [INFO] Client loop started.
[2025-12-23 23:06:32.843] [DEBUG] Configuring room table properties...
[2025-12-23 23:06:32.843] [DEBUG] Room table properties configured
[2025-12-23 23:06:32.843] [DEBUG] Initializing room table...
[2025-12-23 23:06:32.845] [DEBUG] Initializing player list...
[2025-12-23 23:06:32.845] [DEBUG] Setting up signals...
[2025-12-23 23:06:32.845] [INFO] LobbyWidget initialized successfully
[2025-12-23 23:06:32.845] [DEBUG] Creating GameWidget...
[2025-12-23 23:06:32.849] [DEBUG] GameWidget UI initialized
[2025-12-23 23:06:32.852] [DEBUG] GameWidget signal connections established
[2025-12-23 23:06:32.852] [DEBUG] GameWidget constructed successfully
[2025-12-23 23:06:32.853] [DEBUG] Creating GameManager instance...
[2025-12-23 23:06:32.853] [DEBUG] [Handshake] Received NewSession. ID: 17838658421202335909
[2025-12-23 23:06:32.853] [DEBUG] Setting up signal connections...
[2025-12-23 23:06:32.853] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 23:06:32.854] [DEBUG] localGame connection result: 1
[2025-12-23 23:06:32.854] [DEBUG] Initializing window components...
[2025-12-23 23:06:32.854] [DEBUG] Initializing window style...
[2025-12-23 23:06:32.854] [DEBUG] Saved server public key
[2025-12-23 23:06:32.865] [DEBUG] Set main window background to white
[2025-12-23 23:06:32.866] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 23:06:32.870] [INFO] [Handshake] Session Activated!
[2025-12-23 23:06:32.871] [DEBUG] Calling sessionActivatedCallback with sessionId: 17838658421202335909
[2025-12-23 23:06:32.871] [INFO] Session activated callback received, sessionId: 17838658421202335909
[2025-12-23 23:06:32.878] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 23:06:32.879] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 23:06:32.879] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 23:06:32.880] [DEBUG] Window size set to: 1000x700
[2025-12-23 23:06:32.880] [DEBUG] Set window palette to white background
[2025-12-23 23:06:32.881] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 23:06:32.881] [DEBUG] Window background role color: #ffffff
[2025-12-23 23:06:32.882] [DEBUG] Initializing layout...
[2025-12-23 23:06:32.883] [DEBUG] centralwidget found at address: 1848950829696
[2025-12-23 23:06:32.883] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 23:06:32.884] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 23:06:32.884] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 23:06:32.884] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 23:06:32.884] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 23:06:32.885] [DEBUG] Set centralwidget palette to white background
[2025-12-23 23:06:32.885] [DEBUG] Layout initialized successfully
[2025-12-23 23:06:32.885] [DEBUG] Initializing title bar and status bar...
[2025-12-23 23:06:32.885] [DEBUG] Initializing title bar components...
[2025-12-23 23:06:32.886] [DEBUG] titleBarWidget found at address: 1848950970864
[2025-12-23 23:06:32.886] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 23:06:32.887] [DEBUG] titleLabel found at address: 1848950972864
[2025-12-23 23:06:32.887] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 23:06:32.887] [DEBUG] minimizeButton found at address: 1848950988256
[2025-12-23 23:06:32.888] [DEBUG] maximizeButton found at address: 1848950991648
[2025-12-23 23:06:32.888] [DEBUG] closeButton found at address: 1848951002512
[2025-12-23 23:06:32.888] [DEBUG] Title bar initialization completed
[2025-12-23 23:06:32.888] [DEBUG] Initializing status bar components...
[2025-12-23 23:06:32.889] [DEBUG] statusBarWidget found
[2025-12-23 23:06:32.889] [DEBUG] statusMessageLabel found
[2025-12-23 23:06:32.889] [DEBUG] networkStatusButton found
[2025-12-23 23:06:32.889] [DEBUG] userInfoButton found
[2025-12-23 23:06:32.889] [DEBUG] Status bar initialization completed
[2025-12-23 23:06:32.889] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 23:06:32.889] [DEBUG] stackedWidget found in UI
[2025-12-23 23:06:32.897] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 23:06:32.898] [DEBUG] Creating ToastWidget...
[2025-12-23 23:06:32.899] [DEBUG] ====== Validating Window Background ======
[2025-12-23 23:06:32.899] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 23:06:32.900] [INFO] CentralWidget background is correctly set to white
[2025-12-23 23:06:32.900] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 23:06:32.900] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 23:06:32.900] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 23:06:32.900] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 23:06:32.900] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 23:06:32.900] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 23:06:32.900] [INFO] MainWindow initialization completed successfully
[2025-12-23 23:06:54.336] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 23:06:54.337] [DEBUG] localGame signal received, initializing local game
[2025-12-23 23:06:54.338] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-23 23:06:54.339] [DEBUG] Player list updated, count: 2
[2025-12-23 23:06:54.339] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:06:54.340] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-23 23:06:54.343] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 23:06:54.345] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 23:06:54.346] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:06:54.348] [INFO] GameWidget initialized successfully
[2025-12-23 23:06:54.348] [DEBUG] Switching widget to index: 1
[2025-12-23 23:06:54.352] [INFO] Switching to Game widget
[2025-12-23 23:06:54.354] [DEBUG] Widget switch completed
[2025-12-23 23:06:56.140] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:06:56.142] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-23 23:06:56.142] [DEBUG] Player list updated, count: 2
[2025-12-23 23:06:56.142] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:06:56.144] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:06:58.893] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:06:58.896] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 23:06:58.896] [DEBUG] Player list updated, count: 2
[2025-12-23 23:06:58.896] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:06:58.907] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-23 23:06:58.908] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-23 23:06:58.908] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:07:05.670] [DEBUG] GameManager::onMakeMove called, x: 6, y: 3, isLocalGame: 1
[2025-12-23 23:07:05.670] [DEBUG] Chat message from 游戏: 玩家 在 (6, 3) 落黑子
[2025-12-23 23:07:05.672] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:07:17.060] [DEBUG] GameManager::onMakeMove called, x: 7, y: 4, isLocalGame: 1
[2025-12-23 23:07:17.061] [DEBUG] Chat message from 游戏: 玩家2 在 (7, 4) 落白子
[2025-12-23 23:07:17.063] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:07:27.415] [DEBUG] GameManager::onMakeMove called, x: 7, y: 5, isLocalGame: 1
[2025-12-23 23:07:27.416] [DEBUG] Chat message from 游戏: 玩家 在 (7, 5) 落黑子
[2025-12-23 23:07:27.419] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:07:31.362] [DEBUG] GameManager::onMakeMove called, x: 7, y: 3, isLocalGame: 1
[2025-12-23 23:07:31.363] [DEBUG] Chat message from 游戏: 玩家2 在 (7, 3) 落白子
[2025-12-23 23:07:31.365] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:07:35.009] [DEBUG] GameManager::onMakeMove called, x: 8, y: 3, isLocalGame: 1
[2025-12-23 23:07:35.009] [DEBUG] Chat message from 游戏: 玩家 在 (8, 3) 落黑子
[2025-12-23 23:07:35.014] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:07:36.184] [DEBUG] GameManager::onMakeMove called, x: 6, y: 4, isLocalGame: 1
[2025-12-23 23:07:36.185] [DEBUG] Chat message from 游戏: 玩家2 在 (6, 4) 落白子
[2025-12-23 23:07:36.188] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:07:37.769] [DEBUG] GameManager::onMakeMove called, x: 8, y: 5, isLocalGame: 1
[2025-12-23 23:07:37.770] [DEBUG] Chat message from 游戏: 玩家 在 (8, 5) 落黑子
[2025-12-23 23:07:37.772] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:07:42.901] [DEBUG] GameManager::onMakeMove called, x: 7, y: 6, isLocalGame: 1
[2025-12-23 23:07:42.902] [DEBUG] Chat message from 游戏: 玩家2 在 (7, 6) 落白子
[2025-12-23 23:07:42.905] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:07:48.608] [DEBUG] GameManager::onMakeMove called, x: 9, y: 4, isLocalGame: 1
[2025-12-23 23:07:48.609] [DEBUG] Chat message from 游戏: 玩家 在 (9, 4) 落黑子
[2025-12-23 23:07:48.612] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:07:49.924] [DEBUG] GameManager::onMakeMove called, x: 8, y: 4, isLocalGame: 1
[2025-12-23 23:07:49.925] [DEBUG] Chat message from 游戏: 玩家2 在 (8, 4) 落白子
[2025-12-23 23:07:49.927] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:07:55.688] [DEBUG] GameManager::onMakeMove called, x: 10, y: 3, isLocalGame: 1
[2025-12-23 23:07:55.689] [DEBUG] Chat message from 游戏: 玩家 在 (10, 3) 落黑子
[2025-12-23 23:07:55.691] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:07:57.630] [DEBUG] GameManager::onMakeMove called, x: 5, y: 4, isLocalGame: 1
[2025-12-23 23:07:57.631] [DEBUG] Chat message from 游戏: 玩家2 在 (5, 4) 落白子
[2025-12-23 23:07:57.634] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:08:00.714] [DEBUG] GameManager::onMakeMove called, x: 9, y: 3, isLocalGame: 1
[2025-12-23 23:08:00.714] [DEBUG] Chat message from 游戏: 玩家 在 (9, 3) 落黑子
[2025-12-23 23:08:00.719] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:08:05.626] [DEBUG] GameManager::onMakeMove called, x: 4, y: 4, isLocalGame: 1
[2025-12-23 23:08:05.627] [DEBUG] Chat message from 游戏: 玩家2 在 (4, 4) 落白子
[2025-12-23 23:08:05.629] [DEBUG] Chat message from 游戏: 玩家2 五子连珠，获胜！
[2025-12-23 23:08:05.629] [INFO] Game ended for player: 玩家2, won: 1
[2025-12-23 23:08:25.552] [DEBUG] GameManager::onMakeMove called, x: 9, y: 7, isLocalGame: 1
[2025-12-23 23:08:25.553] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:08:26.368] [DEBUG] GameManager::onMakeMove called, x: 9, y: 7, isLocalGame: 1
[2025-12-23 23:08:26.369] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:08:27.306] [DEBUG] GameManager::onMakeMove called, x: 4, y: 5, isLocalGame: 1
[2025-12-23 23:08:27.307] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:08:46.292] [DEBUG] Back to lobby button clicked
[2025-12-23 23:08:46.292] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 23:08:46.295] [DEBUG] Switching widget to index: 0
[2025-12-23 23:08:46.297] [INFO] Switching to Lobby widget
[2025-12-23 23:08:46.298] [DEBUG] Widget switch completed
[2025-12-23 23:08:46.302] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:08:46.303] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:08:46.306] [INFO] GameWidget initialized successfully
[2025-12-23 23:08:46.306] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:08:46.306] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:09:36.304] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 23:09:36.305] [DEBUG] localGame signal received, initializing local game
[2025-12-23 23:09:36.305] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-23 23:09:36.307] [DEBUG] Player list updated, count: 2
[2025-12-23 23:09:36.307] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:09:36.308] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-23 23:09:36.308] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 23:09:36.309] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 23:09:36.309] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:09:36.310] [INFO] GameWidget initialized successfully
[2025-12-23 23:09:36.310] [DEBUG] Switching widget to index: 1
[2025-12-23 23:09:36.311] [INFO] Switching to Game widget
[2025-12-23 23:09:36.311] [DEBUG] Widget switch completed
[2025-12-23 23:09:43.816] [DEBUG] GameManager::onMakeMove called, x: 10, y: 6, isLocalGame: 1
[2025-12-23 23:09:43.817] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:09:44.293] [DEBUG] GameManager::onMakeMove called, x: 9, y: 6, isLocalGame: 1
[2025-12-23 23:09:44.293] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:09:44.813] [DEBUG] GameManager::onMakeMove called, x: 9, y: 6, isLocalGame: 1
[2025-12-23 23:09:44.814] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:09:46.477] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:09:46.479] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-23 23:09:46.480] [DEBUG] Player list updated, count: 2
[2025-12-23 23:09:46.480] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:09:46.482] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:09:47.083] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:09:47.084] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 23:09:47.085] [DEBUG] Player list updated, count: 2
[2025-12-23 23:09:47.085] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:09:47.092] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-23 23:09:47.092] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-23 23:09:47.092] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:09:48.037] [DEBUG] GameManager::onMakeMove called, x: 6, y: 4, isLocalGame: 1
[2025-12-23 23:09:48.037] [DEBUG] Chat message from 游戏: 玩家 在 (6, 4) 落黑子
[2025-12-23 23:09:48.039] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:09:49.119] [DEBUG] GameManager::onMakeMove called, x: 7, y: 5, isLocalGame: 1
[2025-12-23 23:09:49.120] [DEBUG] Chat message from 游戏: 玩家2 在 (7, 5) 落白子
[2025-12-23 23:09:49.122] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:09:53.221] [DEBUG] Back to lobby button clicked
[2025-12-23 23:09:53.221] [DEBUG] Chat message from 游戏: 已退出本地游戏
[2025-12-23 23:09:53.223] [DEBUG] Switching widget to index: 0
[2025-12-23 23:09:53.224] [INFO] Switching to Lobby widget
[2025-12-23 23:09:53.224] [DEBUG] Widget switch completed
[2025-12-23 23:09:53.227] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:09:53.227] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:09:53.229] [INFO] GameWidget initialized successfully
[2025-12-23 23:09:53.229] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:09:53.229] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:10:01.364] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 23:10:02.301] [DEBUG] User chose to login with account
[2025-12-23 23:10:14.682] [INFO] Login attempt for user: xixi
[2025-12-23 23:10:14.682] [DEBUG] Login packet created with session ID: 17838658421202335909
[2025-12-23 23:10:14.682] [DEBUG] Sending login packet...
[2025-12-23 23:10:14.683] [DEBUG] Sent packet (type: 256)
[2025-12-23 23:10:14.683] [INFO] Login request sent for user: xixi
[2025-12-23 23:10:14.699] [DEBUG] Received packet (type: 256)
[2025-12-23 23:10:20.969] [DEBUG] Creating room
[2025-12-23 23:10:20.969] [DEBUG] Sent packet (type: 512)
[2025-12-23 23:10:20.974] [DEBUG] Received packet (type: 512)
[2025-12-23 23:10:20.974] [INFO] Room created successfully, room ID: 0
[2025-12-23 23:10:20.978] [DEBUG] Switching widget to index: 1
[2025-12-23 23:10:20.978] [INFO] Switching to Game widget
[2025-12-23 23:10:20.979] [DEBUG] Widget switch completed
[2025-12-23 23:10:20.982] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:10:20.983] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:10:20.984] [INFO] GameWidget initialized successfully
[2025-12-23 23:10:20.984] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:10:20.984] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:10:24.810] [DEBUG] Back to lobby button clicked
[2025-12-23 23:10:29.856] [DEBUG] Back to lobby button clicked
[2025-12-23 23:10:30.588] [DEBUG] Back to lobby button clicked
[2025-12-23 23:10:35.444] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:10:35.446] [INFO] Taking black pieces
[2025-12-23 23:10:35.446] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:10:38.750] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:10:38.752] [INFO] Taking white pieces
[2025-12-23 23:10:38.752] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:11:09.902] [DEBUG] GameManager::onMakeMove called, x: 7, y: 4, isLocalGame: 0
[2025-12-23 23:11:13.095] [DEBUG] GameManager::onMakeMove called, x: 1, y: 5, isLocalGame: 0
[2025-12-23 23:11:13.551] [DEBUG] GameManager::onMakeMove called, x: 1, y: 5, isLocalGame: 0
[2025-12-23 23:11:14.094] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 0
[2025-12-23 23:11:14.446] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 0
[2025-12-23 23:11:15.981] [DEBUG] GameManager::onMakeMove called, x: 10, y: 3, isLocalGame: 0
[2025-12-23 23:11:16.316] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:11:16.717] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:11:17.030] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 0
[2025-12-23 23:11:17.328] [DEBUG] GameManager::onMakeMove called, x: 12, y: 5, isLocalGame: 0
[2025-12-23 23:11:22.567] [INFO] MainWindow destructor called
[2025-12-23 23:11:22.567] [DEBUG] Cleaning up UI...
[2025-12-23 23:11:22.567] [DEBUG] Cleaning up Manager...
[2025-12-23 23:11:22.568] [INFO] Manager destructor called
[2025-12-23 23:11:22.568] [DEBUG] Disconnecting client...
[2025-12-23 23:11:22.568] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:11:22.568] [DEBUG] Current socket value before disconnect: 1068
[2025-12-23 23:11:22.568] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 23:11:22.636] [DEBUG] Worker thread joined successfully.
[2025-12-23 23:11:22.636] [DEBUG] Closing socket
[2025-12-23 23:11:22.636] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 23:11:22.637] [DEBUG] Resetting session context
[2025-12-23 23:11:22.637] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 23:11:22.637] [INFO] Disconnected from server callback triggered
[2025-12-23 23:11:22.638] [INFO] Client disconnected successfully.
[2025-12-23 23:11:22.639] [DEBUG] Client destructor called
[2025-12-23 23:11:22.639] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:11:22.639] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 23:11:22.639] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:11:22.639] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 23:11:22.640] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 23:11:22.640] [INFO] Disconnected from server callback triggered
[2025-12-23 23:11:22.640] [INFO] Client disconnected successfully.
[2025-12-23 23:11:22.641] [DEBUG] Client cleanup completed
[2025-12-23 23:11:22.641] [DEBUG] Client disconnected and reset
[2025-12-23 23:11:22.641] [INFO] Manager cleanup completed
[2025-12-23 23:11:22.641] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 23:11:22.644] [DEBUG] Shutting down Logger...
[2025-12-23 23:11:22.644] [INFO] Logger shutting down.
[2025-12-23 23:16:39.085] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 23:16:39.085] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 23:16:39.085] [DEBUG] Setting up UI...
[2025-12-23 23:16:39.099] [DEBUG] Creating Manager instance...
[2025-12-23 23:16:39.099] [INFO] Manager initialized for server
[2025-12-23 23:16:39.099] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 23:16:39.122] [DEBUG] Session activated callback set
[2025-12-23 23:16:39.122] [INFO] Attempting to connect to server...
[2025-12-23 23:16:39.123] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:16:39.127] [DEBUG] New socket created successfully, socket value: 1064
[2025-12-23 23:16:39.127] [INFO] Connected to server successfully!
[2025-12-23 23:16:39.127] [DEBUG] Socket set to non-blocking mode
[2025-12-23 23:16:39.128] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:16:39.128] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:16:39.128] [DEBUG] Worker thread started
[2025-12-23 23:16:39.129] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 23:16:39.129] [INFO] Connection established and handshake initiated
[2025-12-23 23:16:39.129] [DEBUG] Creating LobbyWidget...
[2025-12-23 23:16:39.129] [DEBUG] LobbyWidget Initializing...
[2025-12-23 23:16:39.131] [INFO] Client loop started.
[2025-12-23 23:16:39.134] [DEBUG] Configuring room table properties...
[2025-12-23 23:16:39.135] [DEBUG] Room table properties configured
[2025-12-23 23:16:39.135] [DEBUG] Initializing room table...
[2025-12-23 23:16:39.136] [DEBUG] Initializing player list...
[2025-12-23 23:16:39.137] [DEBUG] Setting up signals...
[2025-12-23 23:16:39.137] [INFO] LobbyWidget initialized successfully
[2025-12-23 23:16:39.137] [DEBUG] Creating GameWidget...
[2025-12-23 23:16:39.140] [DEBUG] GameWidget UI initialized
[2025-12-23 23:16:39.141] [DEBUG] GameWidget signal connections established
[2025-12-23 23:16:39.141] [DEBUG] GameWidget constructed successfully
[2025-12-23 23:16:39.141] [DEBUG] Creating GameManager instance...
[2025-12-23 23:16:39.141] [DEBUG] Setting up signal connections...
[2025-12-23 23:16:39.142] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 23:16:39.142] [DEBUG] localGame connection result: 1
[2025-12-23 23:16:39.142] [DEBUG] Initializing window components...
[2025-12-23 23:16:39.142] [DEBUG] Initializing window style...
[2025-12-23 23:16:39.147] [DEBUG] [Handshake] Received NewSession. ID: 927277114675340285
[2025-12-23 23:16:39.148] [DEBUG] Saved server public key
[2025-12-23 23:16:39.151] [DEBUG] Set main window background to white
[2025-12-23 23:16:39.151] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 23:16:39.158] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 23:16:39.158] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 23:16:39.159] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 23:16:39.159] [DEBUG] Window size set to: 1000x700
[2025-12-23 23:16:39.159] [INFO] [Handshake] Session Activated!
[2025-12-23 23:16:39.159] [DEBUG] Set window palette to white background
[2025-12-23 23:16:39.159] [DEBUG] Calling sessionActivatedCallback with sessionId: 927277114675340285
[2025-12-23 23:16:39.159] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 23:16:39.159] [INFO] Session activated callback received, sessionId: 927277114675340285
[2025-12-23 23:16:39.160] [DEBUG] Window background role color: #ffffff
[2025-12-23 23:16:39.160] [DEBUG] Initializing layout...
[2025-12-23 23:16:39.160] [DEBUG] centralwidget found at address: 2401783886464
[2025-12-23 23:16:39.160] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 23:16:39.160] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 23:16:39.160] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 23:16:39.160] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 23:16:39.161] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 23:16:39.161] [DEBUG] Set centralwidget palette to white background
[2025-12-23 23:16:39.161] [DEBUG] Layout initialized successfully
[2025-12-23 23:16:39.161] [DEBUG] Initializing title bar and status bar...
[2025-12-23 23:16:39.161] [DEBUG] Initializing title bar components...
[2025-12-23 23:16:39.161] [DEBUG] titleBarWidget found at address: 2401784027632
[2025-12-23 23:16:39.161] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 23:16:39.162] [DEBUG] titleLabel found at address: 2401784029632
[2025-12-23 23:16:39.162] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 23:16:39.162] [DEBUG] minimizeButton found at address: 2401784045024
[2025-12-23 23:16:39.162] [DEBUG] maximizeButton found at address: 2401784048416
[2025-12-23 23:16:39.162] [DEBUG] closeButton found at address: 2401784059280
[2025-12-23 23:16:39.162] [DEBUG] Title bar initialization completed
[2025-12-23 23:16:39.162] [DEBUG] Initializing status bar components...
[2025-12-23 23:16:39.162] [DEBUG] statusBarWidget found
[2025-12-23 23:16:39.162] [DEBUG] statusMessageLabel found
[2025-12-23 23:16:39.163] [DEBUG] networkStatusButton found
[2025-12-23 23:16:39.163] [DEBUG] userInfoButton found
[2025-12-23 23:16:39.163] [DEBUG] Status bar initialization completed
[2025-12-23 23:16:39.163] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 23:16:39.163] [DEBUG] stackedWidget found in UI
[2025-12-23 23:16:39.171] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 23:16:39.171] [DEBUG] Creating ToastWidget...
[2025-12-23 23:16:39.172] [DEBUG] ====== Validating Window Background ======
[2025-12-23 23:16:39.172] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 23:16:39.172] [INFO] CentralWidget background is correctly set to white
[2025-12-23 23:16:39.173] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 23:16:39.173] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 23:16:39.173] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 23:16:39.173] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 23:16:39.174] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 23:16:39.174] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 23:16:39.174] [INFO] MainWindow initialization completed successfully
[2025-12-23 23:16:45.537] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 23:17:06.502] [DEBUG] User chose to login with account
[2025-12-23 23:17:18.671] [INFO] Login attempt for user: xixi
[2025-12-23 23:17:18.671] [DEBUG] Login packet created with session ID: 927277114675340285
[2025-12-23 23:17:18.671] [DEBUG] Sending login packet...
[2025-12-23 23:17:18.672] [DEBUG] Sent packet (type: 256)
[2025-12-23 23:17:18.672] [INFO] Login request sent for user: xixi
[2025-12-23 23:17:18.683] [DEBUG] Received packet (type: 256)
[2025-12-23 23:17:27.878] [DEBUG] Creating room
[2025-12-23 23:17:27.879] [DEBUG] Sent packet (type: 512)
[2025-12-23 23:17:27.890] [DEBUG] Received packet (type: 512)
[2025-12-23 23:17:27.890] [INFO] Room created successfully, room ID: 0
[2025-12-23 23:17:27.892] [DEBUG] Switching widget to index: 1
[2025-12-23 23:17:27.892] [INFO] Switching to Game widget
[2025-12-23 23:17:27.893] [DEBUG] Widget switch completed
[2025-12-23 23:17:27.896] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:17:27.897] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:17:27.898] [INFO] GameWidget initialized successfully
[2025-12-23 23:17:27.899] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:17:27.899] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:17:29.557] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:17:29.559] [INFO] Taking black pieces
[2025-12-23 23:17:29.560] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:17:43.592] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:17:43.594] [INFO] Taking white pieces
[2025-12-23 23:17:43.594] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:17:45.100] [DEBUG] GameManager::onMakeMove called, x: 8, y: 4, isLocalGame: 0
[2025-12-23 23:17:48.506] [DEBUG] GameManager::onMakeMove called, x: 3, y: 3, isLocalGame: 0
[2025-12-23 23:17:49.241] [DEBUG] GameManager::onMakeMove called, x: 4, y: 3, isLocalGame: 0
[2025-12-23 23:17:56.748] [DEBUG] GameManager::onMakeMove called, x: 6, y: 8, isLocalGame: 0
[2025-12-23 23:17:58.381] [DEBUG] GameManager::onMakeMove called, x: 8, y: 9, isLocalGame: 0
[2025-12-23 23:18:02.043] [DEBUG] GameManager::onMakeMove called, x: 4, y: 3, isLocalGame: 0
[2025-12-23 23:18:03.202] [DEBUG] GameManager::onMakeMove called, x: 10, y: 3, isLocalGame: 0
[2025-12-23 23:18:03.495] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:18:06.151] [DEBUG] GameManager::onMakeMove called, x: 3, y: 6, isLocalGame: 0
[2025-12-23 23:18:28.741] [DEBUG] GameManager::onMakeMove called, x: 6, y: 1, isLocalGame: 0
[2025-12-23 23:18:31.454] [DEBUG] Back to lobby button clicked
[2025-12-23 23:18:35.638] [DEBUG] Back to lobby button clicked
[2025-12-23 23:18:47.093] [INFO] MainWindow destructor called
[2025-12-23 23:18:47.093] [DEBUG] Cleaning up UI...
[2025-12-23 23:18:47.093] [DEBUG] Cleaning up Manager...
[2025-12-23 23:18:47.093] [INFO] Manager destructor called
[2025-12-23 23:18:47.094] [DEBUG] Disconnecting client...
[2025-12-23 23:18:47.094] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:18:47.094] [DEBUG] Current socket value before disconnect: 1064
[2025-12-23 23:18:47.094] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 23:18:47.117] [DEBUG] Worker thread joined successfully.
[2025-12-23 23:18:47.117] [DEBUG] Closing socket
[2025-12-23 23:18:47.117] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 23:18:47.117] [DEBUG] Resetting session context
[2025-12-23 23:18:47.118] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 23:18:47.118] [INFO] Disconnected from server callback triggered
[2025-12-23 23:18:47.120] [INFO] Client disconnected successfully.
[2025-12-23 23:18:47.121] [DEBUG] Client destructor called
[2025-12-23 23:18:47.121] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:18:47.121] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 23:18:47.121] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:18:47.121] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 23:18:47.121] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 23:18:47.121] [INFO] Disconnected from server callback triggered
[2025-12-23 23:18:47.122] [INFO] Client disconnected successfully.
[2025-12-23 23:18:47.122] [DEBUG] Client cleanup completed
[2025-12-23 23:18:47.122] [DEBUG] Client disconnected and reset
[2025-12-23 23:18:47.122] [INFO] Manager cleanup completed
[2025-12-23 23:18:47.123] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 23:18:47.127] [DEBUG] Shutting down Logger...
[2025-12-23 23:18:47.127] [INFO] Logger shutting down.
[2025-12-23 23:19:41.456] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 23:19:41.457] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 23:19:41.457] [DEBUG] Setting up UI...
[2025-12-23 23:19:41.492] [DEBUG] Creating Manager instance...
[2025-12-23 23:19:41.493] [INFO] Manager initialized for server
[2025-12-23 23:19:41.493] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 23:19:41.514] [DEBUG] Session activated callback set
[2025-12-23 23:19:41.514] [INFO] Attempting to connect to server...
[2025-12-23 23:19:41.515] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:19:41.520] [DEBUG] New socket created successfully, socket value: 996
[2025-12-23 23:19:41.521] [INFO] Connected to server successfully!
[2025-12-23 23:19:41.521] [DEBUG] Socket set to non-blocking mode
[2025-12-23 23:19:41.522] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:19:41.522] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:19:41.523] [DEBUG] Worker thread started
[2025-12-23 23:19:41.523] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 23:19:41.523] [INFO] Connection established and handshake initiated
[2025-12-23 23:19:41.524] [DEBUG] Creating LobbyWidget...
[2025-12-23 23:19:41.524] [DEBUG] LobbyWidget Initializing...
[2025-12-23 23:19:41.525] [INFO] Client loop started.
[2025-12-23 23:19:41.529] [DEBUG] Configuring room table properties...
[2025-12-23 23:19:41.530] [DEBUG] Room table properties configured
[2025-12-23 23:19:41.530] [DEBUG] Initializing room table...
[2025-12-23 23:19:41.531] [DEBUG] Initializing player list...
[2025-12-23 23:19:41.532] [DEBUG] Setting up signals...
[2025-12-23 23:19:41.532] [INFO] LobbyWidget initialized successfully
[2025-12-23 23:19:41.532] [DEBUG] Creating GameWidget...
[2025-12-23 23:19:41.536] [DEBUG] GameWidget UI initialized
[2025-12-23 23:19:41.536] [DEBUG] GameWidget signal connections established
[2025-12-23 23:19:41.536] [DEBUG] GameWidget constructed successfully
[2025-12-23 23:19:41.537] [DEBUG] Creating GameManager instance...
[2025-12-23 23:19:41.537] [DEBUG] Setting up signal connections...
[2025-12-23 23:19:41.537] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 23:19:41.537] [DEBUG] localGame connection result: 1
[2025-12-23 23:19:41.537] [DEBUG] Initializing window components...
[2025-12-23 23:19:41.538] [DEBUG] Initializing window style...
[2025-12-23 23:19:41.538] [DEBUG] [Handshake] Received NewSession. ID: 2905721490287305630
[2025-12-23 23:19:41.539] [DEBUG] Saved server public key
[2025-12-23 23:19:41.546] [DEBUG] Set main window background to white
[2025-12-23 23:19:41.547] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 23:19:41.550] [INFO] [Handshake] Session Activated!
[2025-12-23 23:19:41.550] [DEBUG] Calling sessionActivatedCallback with sessionId: 2905721490287305630
[2025-12-23 23:19:41.551] [INFO] Session activated callback received, sessionId: 2905721490287305630
[2025-12-23 23:19:41.554] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 23:19:41.554] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 23:19:41.554] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 23:19:41.554] [DEBUG] Window size set to: 1000x700
[2025-12-23 23:19:41.554] [DEBUG] Set window palette to white background
[2025-12-23 23:19:41.555] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 23:19:41.555] [DEBUG] Window background role color: #ffffff
[2025-12-23 23:19:41.555] [DEBUG] Initializing layout...
[2025-12-23 23:19:41.555] [DEBUG] centralwidget found at address: 1469581472880
[2025-12-23 23:19:41.555] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 23:19:41.555] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 23:19:41.556] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 23:19:41.556] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 23:19:41.556] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 23:19:41.556] [DEBUG] Set centralwidget palette to white background
[2025-12-23 23:19:41.556] [DEBUG] Layout initialized successfully
[2025-12-23 23:19:41.556] [DEBUG] Initializing title bar and status bar...
[2025-12-23 23:19:41.556] [DEBUG] Initializing title bar components...
[2025-12-23 23:19:41.556] [DEBUG] titleBarWidget found at address: 1469581613984
[2025-12-23 23:19:41.556] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 23:19:41.557] [DEBUG] titleLabel found at address: 1469581615984
[2025-12-23 23:19:41.557] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 23:19:41.557] [DEBUG] minimizeButton found at address: 1469581631408
[2025-12-23 23:19:41.557] [DEBUG] maximizeButton found at address: 1469581635008
[2025-12-23 23:19:41.557] [DEBUG] closeButton found at address: 1469581645696
[2025-12-23 23:19:41.557] [DEBUG] Title bar initialization completed
[2025-12-23 23:19:41.557] [DEBUG] Initializing status bar components...
[2025-12-23 23:19:41.557] [DEBUG] statusBarWidget found
[2025-12-23 23:19:41.558] [DEBUG] statusMessageLabel found
[2025-12-23 23:19:41.558] [DEBUG] networkStatusButton found
[2025-12-23 23:19:41.558] [DEBUG] userInfoButton found
[2025-12-23 23:19:41.558] [DEBUG] Status bar initialization completed
[2025-12-23 23:19:41.558] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 23:19:41.558] [DEBUG] stackedWidget found in UI
[2025-12-23 23:19:41.567] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 23:19:41.567] [DEBUG] Creating ToastWidget...
[2025-12-23 23:19:41.568] [DEBUG] ====== Validating Window Background ======
[2025-12-23 23:19:41.568] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 23:19:41.568] [INFO] CentralWidget background is correctly set to white
[2025-12-23 23:19:41.568] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 23:19:41.569] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 23:19:41.569] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 23:19:41.569] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 23:19:41.569] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 23:19:41.569] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 23:19:41.569] [INFO] MainWindow initialization completed successfully
[2025-12-23 23:19:45.831] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 23:19:46.951] [DEBUG] User chose to login with account
[2025-12-23 23:19:53.950] [INFO] Login attempt for user: xixi
[2025-12-23 23:19:53.950] [DEBUG] Login packet created with session ID: 2905721490287305630
[2025-12-23 23:19:53.950] [DEBUG] Sending login packet...
[2025-12-23 23:19:53.950] [DEBUG] Sent packet (type: 256)
[2025-12-23 23:19:53.951] [INFO] Login request sent for user: xixi
[2025-12-23 23:19:53.951] [DEBUG] Received packet (type: 256)
[2025-12-23 23:19:55.581] [DEBUG] Creating room
[2025-12-23 23:19:55.581] [DEBUG] Sent packet (type: 512)
[2025-12-23 23:19:55.589] [DEBUG] Received packet (type: 512)
[2025-12-23 23:19:55.589] [INFO] Room created successfully, room ID: 0
[2025-12-23 23:19:55.591] [DEBUG] Switching widget to index: 1
[2025-12-23 23:19:55.594] [INFO] Switching to Game widget
[2025-12-23 23:19:55.594] [DEBUG] Widget switch completed
[2025-12-23 23:19:55.597] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:19:55.598] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:19:55.601] [INFO] GameWidget initialized successfully
[2025-12-23 23:19:55.601] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:19:55.601] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:19:57.243] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:19:57.245] [INFO] Taking black pieces
[2025-12-23 23:19:57.245] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:19:57.832] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:19:57.835] [INFO] Taking white pieces
[2025-12-23 23:19:57.835] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:19:59.644] [DEBUG] GameManager::onMakeMove called, x: 7, y: 3, isLocalGame: 0
[2025-12-23 23:20:01.181] [DEBUG] GameManager::onMakeMove called, x: 8, y: 3, isLocalGame: 0
[2025-12-23 23:20:02.169] [DEBUG] GameManager::onMakeMove called, x: 10, y: 3, isLocalGame: 0
[2025-12-23 23:20:02.690] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:20:06.468] [DEBUG] GameManager::onMakeMove called, x: 10, y: 5, isLocalGame: 0
[2025-12-23 23:20:08.756] [INFO] MainWindow destructor called
[2025-12-23 23:20:08.757] [DEBUG] Cleaning up UI...
[2025-12-23 23:20:08.757] [DEBUG] Cleaning up Manager...
[2025-12-23 23:20:08.757] [INFO] Manager destructor called
[2025-12-23 23:20:08.757] [DEBUG] Disconnecting client...
[2025-12-23 23:20:08.757] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:20:08.757] [DEBUG] Current socket value before disconnect: 996
[2025-12-23 23:20:08.757] [DEBUG] Waiting for worker thread to finish...
[2025-12-23 23:20:08.765] [DEBUG] Worker thread joined successfully.
[2025-12-23 23:20:08.766] [DEBUG] Closing socket
[2025-12-23 23:20:08.766] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-23 23:20:08.766] [DEBUG] Resetting session context
[2025-12-23 23:20:08.766] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 23:20:08.766] [INFO] Disconnected from server callback triggered
[2025-12-23 23:20:08.771] [INFO] Client disconnected successfully.
[2025-12-23 23:20:08.772] [DEBUG] Client destructor called
[2025-12-23 23:20:08.772] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:20:08.772] [DEBUG] Current socket value before disconnect: -1
[2025-12-23 23:20:08.772] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:20:08.773] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-23 23:20:08.773] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-23 23:20:08.773] [INFO] Disconnected from server callback triggered
[2025-12-23 23:20:08.775] [INFO] Client disconnected successfully.
[2025-12-23 23:20:08.775] [DEBUG] Client cleanup completed
[2025-12-23 23:20:08.776] [DEBUG] Client disconnected and reset
[2025-12-23 23:20:08.776] [INFO] Manager cleanup completed
[2025-12-23 23:20:08.776] [DEBUG] Cleaning up ToastWidget...
[2025-12-23 23:20:08.785] [DEBUG] Shutting down Logger...
[2025-12-23 23:20:08.785] [INFO] Logger shutting down.
[2025-12-23 23:41:05.962] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 23:41:05.963] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 23:41:05.963] [DEBUG] Setting up UI...
[2025-12-23 23:41:05.986] [DEBUG] Creating Manager instance...
[2025-12-23 23:41:05.986] [INFO] Manager initialized for server
[2025-12-23 23:41:05.987] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 23:41:06.029] [DEBUG] Session activated callback set
[2025-12-23 23:41:06.029] [INFO] Attempting to connect to server...
[2025-12-23 23:41:06.029] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:41:06.040] [DEBUG] New socket created successfully, socket value: 1012
[2025-12-23 23:41:08.061] [ERROR] Connect failed with error: 10061
[2025-12-23 23:41:08.062] [DEBUG] Creating LobbyWidget...
[2025-12-23 23:41:08.062] [DEBUG] LobbyWidget Initializing...
[2025-12-23 23:41:08.070] [DEBUG] Configuring room table properties...
[2025-12-23 23:41:08.070] [DEBUG] Room table properties configured
[2025-12-23 23:41:08.070] [DEBUG] Initializing room table...
[2025-12-23 23:41:08.073] [DEBUG] Initializing player list...
[2025-12-23 23:41:08.073] [DEBUG] Setting up signals...
[2025-12-23 23:41:08.074] [INFO] LobbyWidget initialized successfully
[2025-12-23 23:41:08.074] [DEBUG] Creating GameWidget...
[2025-12-23 23:41:08.079] [DEBUG] GameWidget UI initialized
[2025-12-23 23:41:08.080] [DEBUG] GameWidget signal connections established
[2025-12-23 23:41:08.080] [DEBUG] GameWidget constructed successfully
[2025-12-23 23:41:08.080] [DEBUG] Creating GameManager instance...
[2025-12-23 23:41:08.081] [DEBUG] Setting up signal connections...
[2025-12-23 23:41:08.081] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 23:41:08.081] [DEBUG] localGame connection result: 1
[2025-12-23 23:41:08.082] [DEBUG] Initializing window components...
[2025-12-23 23:41:08.082] [DEBUG] Initializing window style...
[2025-12-23 23:41:08.095] [DEBUG] Set main window background to white
[2025-12-23 23:41:08.096] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 23:41:08.107] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 23:41:08.107] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 23:41:08.107] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 23:41:08.107] [DEBUG] Window size set to: 1000x700
[2025-12-23 23:41:08.108] [DEBUG] Set window palette to white background
[2025-12-23 23:41:08.108] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 23:41:08.108] [DEBUG] Window background role color: #ffffff
[2025-12-23 23:41:08.108] [DEBUG] Initializing layout...
[2025-12-23 23:41:08.109] [DEBUG] centralwidget found at address: 2387205752400
[2025-12-23 23:41:08.109] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 23:41:08.109] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 23:41:08.109] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 23:41:08.110] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 23:41:08.110] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 23:41:08.110] [DEBUG] Set centralwidget palette to white background
[2025-12-23 23:41:08.110] [DEBUG] Layout initialized successfully
[2025-12-23 23:41:08.111] [DEBUG] Initializing title bar and status bar...
[2025-12-23 23:41:08.111] [DEBUG] Initializing title bar components...
[2025-12-23 23:41:08.111] [DEBUG] titleBarWidget found at address: 2387205758496
[2025-12-23 23:41:08.111] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 23:41:08.111] [DEBUG] titleLabel found at address: 2387205760560
[2025-12-23 23:41:08.112] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 23:41:08.112] [DEBUG] minimizeButton found at address: 2387205775952
[2025-12-23 23:41:08.112] [DEBUG] maximizeButton found at address: 2387205779648
[2025-12-23 23:41:08.112] [DEBUG] closeButton found at address: 2387205790240
[2025-12-23 23:41:08.113] [DEBUG] Title bar initialization completed
[2025-12-23 23:41:08.113] [DEBUG] Initializing status bar components...
[2025-12-23 23:41:08.113] [DEBUG] statusBarWidget found
[2025-12-23 23:41:08.113] [DEBUG] statusMessageLabel found
[2025-12-23 23:41:08.114] [DEBUG] networkStatusButton found
[2025-12-23 23:41:08.114] [DEBUG] userInfoButton found
[2025-12-23 23:41:08.114] [DEBUG] Status bar initialization completed
[2025-12-23 23:41:08.114] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 23:41:08.114] [DEBUG] stackedWidget found in UI
[2025-12-23 23:41:08.128] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 23:41:08.128] [DEBUG] Creating ToastWidget...
[2025-12-23 23:41:08.131] [DEBUG] ====== Validating Window Background ======
[2025-12-23 23:41:08.132] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 23:41:08.132] [INFO] CentralWidget background is correctly set to white
[2025-12-23 23:41:08.132] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 23:41:08.133] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 23:41:08.133] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 23:41:08.133] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 23:41:08.133] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 23:41:08.133] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 23:41:08.134] [INFO] MainWindow initialization completed successfully
[2025-12-23 23:41:16.070] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 23:41:16.071] [INFO] Reconnecting to server...
[2025-12-23 23:41:16.071] [INFO] Attempting to connect to server...
[2025-12-23 23:41:16.071] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:41:16.071] [DEBUG] New socket created successfully, socket value: 1668
[2025-12-23 23:41:18.092] [ERROR] Connect failed with error: 10061
[2025-12-23 23:41:19.600] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 23:41:19.601] [INFO] Reconnecting to server...
[2025-12-23 23:41:19.601] [INFO] Attempting to connect to server...
[2025-12-23 23:41:19.601] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:41:19.601] [DEBUG] New socket created successfully, socket value: 1264
[2025-12-23 23:41:21.633] [ERROR] Connect failed with error: 10061
[2025-12-23 23:44:29.967] [DEBUG] Network status button clicked, calling manager->reConnect()
[2025-12-23 23:44:29.967] [INFO] Reconnecting to server...
[2025-12-23 23:44:29.967] [INFO] Attempting to connect to server...
[2025-12-23 23:44:29.967] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:44:29.968] [DEBUG] New socket created successfully, socket value: 1736
[2025-12-23 23:44:29.968] [INFO] Connected to server successfully!
[2025-12-23 23:44:29.969] [DEBUG] Socket set to non-blocking mode
[2025-12-23 23:44:29.969] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:44:29.969] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:44:29.972] [DEBUG] Worker thread started
[2025-12-23 23:44:29.972] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 23:44:29.972] [INFO] Client loop started.
[2025-12-23 23:44:29.973] [INFO] Connection established and handshake initiated
[2025-12-23 23:44:30.002] [DEBUG] [Handshake] Received NewSession. ID: 16977400157486311244
[2025-12-23 23:44:30.003] [DEBUG] Saved server public key
[2025-12-23 23:44:30.028] [INFO] [Handshake] Session Activated!
[2025-12-23 23:44:30.028] [DEBUG] Calling sessionActivatedCallback with sessionId: 16977400157486311244
[2025-12-23 23:44:30.028] [INFO] Session activated callback received, sessionId: 16977400157486311244
[2025-12-23 23:44:30.807] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 23:44:31.753] [DEBUG] User chose to login with account
[2025-12-23 23:44:36.929] [INFO] Login attempt for user: admin
[2025-12-23 23:44:36.929] [DEBUG] Login packet created with session ID: 16977400157486311244
[2025-12-23 23:44:36.929] [DEBUG] Sending login packet...
[2025-12-23 23:44:36.929] [DEBUG] Sent packet (type: 256)
[2025-12-23 23:44:36.929] [INFO] Login request sent for user: admin
[2025-12-23 23:44:36.937] [DEBUG] Received packet (type: 256)
[2025-12-23 23:44:39.922] [DEBUG] Creating room
[2025-12-23 23:44:39.922] [DEBUG] Sent packet (type: 512)
[2025-12-23 23:44:39.933] [DEBUG] Received packet (type: 512)
[2025-12-23 23:44:39.934] [INFO] Room created successfully, room ID: 0
[2025-12-23 23:44:39.936] [DEBUG] Switching widget to index: 1
[2025-12-23 23:44:39.938] [INFO] Switching to Game widget
[2025-12-23 23:44:39.938] [DEBUG] Widget switch completed
[2025-12-23 23:44:39.940] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:44:39.941] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:44:39.943] [INFO] GameWidget initialized successfully
[2025-12-23 23:44:39.943] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:44:39.944] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:54:13.415] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:54:26.161] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:56:36.690] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 23:56:36.690] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 23:56:36.690] [DEBUG] Setting up UI...
[2025-12-23 23:56:36.718] [DEBUG] Creating Manager instance...
[2025-12-23 23:56:36.718] [INFO] Manager initialized for server
[2025-12-23 23:56:36.718] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 23:56:36.761] [DEBUG] Session activated callback set
[2025-12-23 23:56:36.762] [INFO] Attempting to connect to server...
[2025-12-23 23:56:36.762] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:56:36.773] [DEBUG] New socket created successfully, socket value: 1008
[2025-12-23 23:56:36.774] [INFO] Connected to server successfully!
[2025-12-23 23:56:36.774] [DEBUG] Socket set to non-blocking mode
[2025-12-23 23:56:36.775] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:56:36.775] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:56:36.775] [DEBUG] Worker thread started
[2025-12-23 23:56:36.776] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 23:56:36.777] [INFO] Connection established and handshake initiated
[2025-12-23 23:56:36.777] [DEBUG] Creating LobbyWidget...
[2025-12-23 23:56:36.778] [DEBUG] LobbyWidget Initializing...
[2025-12-23 23:56:36.781] [INFO] Client loop started.
[2025-12-23 23:56:36.789] [DEBUG] Configuring room table properties...
[2025-12-23 23:56:36.789] [DEBUG] Room table properties configured
[2025-12-23 23:56:36.790] [DEBUG] Initializing room table...
[2025-12-23 23:56:36.792] [DEBUG] [Handshake] Received NewSession. ID: 17445651362418297976
[2025-12-23 23:56:36.793] [DEBUG] Initializing player list...
[2025-12-23 23:56:36.794] [DEBUG] Setting up signals...
[2025-12-23 23:56:36.794] [INFO] LobbyWidget initialized successfully
[2025-12-23 23:56:36.794] [DEBUG] Creating GameWidget...
[2025-12-23 23:56:36.795] [DEBUG] Saved server public key
[2025-12-23 23:56:36.801] [DEBUG] GameWidget UI initialized
[2025-12-23 23:56:36.802] [DEBUG] GameWidget signal connections established
[2025-12-23 23:56:36.802] [DEBUG] GameWidget constructed successfully
[2025-12-23 23:56:36.802] [DEBUG] Creating GameManager instance...
[2025-12-23 23:56:36.803] [DEBUG] Setting up signal connections...
[2025-12-23 23:56:36.803] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 23:56:36.804] [DEBUG] localGame connection result: 1
[2025-12-23 23:56:36.804] [DEBUG] Initializing window components...
[2025-12-23 23:56:36.805] [DEBUG] Initializing window style...
[2025-12-23 23:56:36.807] [INFO] [Handshake] Session Activated!
[2025-12-23 23:56:36.807] [DEBUG] Calling sessionActivatedCallback with sessionId: 17445651362418297976
[2025-12-23 23:56:36.808] [INFO] Session activated callback received, sessionId: 17445651362418297976
[2025-12-23 23:56:36.820] [DEBUG] Set main window background to white
[2025-12-23 23:56:36.821] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 23:56:36.834] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 23:56:36.834] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 23:56:36.834] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 23:56:36.835] [DEBUG] Window size set to: 1000x700
[2025-12-23 23:56:36.835] [DEBUG] Set window palette to white background
[2025-12-23 23:56:36.835] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 23:56:36.836] [DEBUG] Window background role color: #ffffff
[2025-12-23 23:56:36.836] [DEBUG] Initializing layout...
[2025-12-23 23:56:36.836] [DEBUG] centralwidget found at address: 1818406749776
[2025-12-23 23:56:36.837] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 23:56:36.837] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 23:56:36.837] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 23:56:36.838] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 23:56:36.838] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 23:56:36.838] [DEBUG] Set centralwidget palette to white background
[2025-12-23 23:56:36.839] [DEBUG] Layout initialized successfully
[2025-12-23 23:56:36.839] [DEBUG] Initializing title bar and status bar...
[2025-12-23 23:56:36.839] [DEBUG] Initializing title bar components...
[2025-12-23 23:56:36.840] [DEBUG] titleBarWidget found at address: 1818406755872
[2025-12-23 23:56:36.840] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 23:56:36.840] [DEBUG] titleLabel found at address: 1818406757936
[2025-12-23 23:56:36.840] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 23:56:36.841] [DEBUG] minimizeButton found at address: 1818406773328
[2025-12-23 23:56:36.841] [DEBUG] maximizeButton found at address: 1818406777024
[2025-12-23 23:56:36.841] [DEBUG] closeButton found at address: 1818406787616
[2025-12-23 23:56:36.841] [DEBUG] Title bar initialization completed
[2025-12-23 23:56:36.842] [DEBUG] Initializing status bar components...
[2025-12-23 23:56:36.842] [DEBUG] statusBarWidget found
[2025-12-23 23:56:36.842] [DEBUG] statusMessageLabel found
[2025-12-23 23:56:36.843] [DEBUG] networkStatusButton found
[2025-12-23 23:56:36.843] [DEBUG] userInfoButton found
[2025-12-23 23:56:36.843] [DEBUG] Status bar initialization completed
[2025-12-23 23:56:36.844] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 23:56:36.844] [DEBUG] stackedWidget found in UI
[2025-12-23 23:56:36.859] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 23:56:36.859] [DEBUG] Creating ToastWidget...
[2025-12-23 23:56:36.860] [DEBUG] ====== Validating Window Background ======
[2025-12-23 23:56:36.861] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 23:56:36.862] [INFO] CentralWidget background is correctly set to white
[2025-12-23 23:56:36.862] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 23:56:36.862] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 23:56:36.863] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 23:56:36.863] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 23:56:36.863] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 23:56:36.863] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 23:56:36.864] [INFO] MainWindow initialization completed successfully
[2025-12-23 23:56:42.063] [DEBUG] User info button clicked, showing login dialog
[2025-12-23 23:56:43.004] [DEBUG] User chose to login with account
[2025-12-23 23:56:47.174] [INFO] Login attempt for user: admin
[2025-12-23 23:56:47.174] [DEBUG] Login packet created with session ID: 17445651362418297976
[2025-12-23 23:56:47.175] [DEBUG] Sending login packet...
[2025-12-23 23:56:47.175] [DEBUG] Sent packet (type: 256)
[2025-12-23 23:56:47.175] [INFO] Login request sent for user: admin
[2025-12-23 23:56:47.181] [DEBUG] Received packet (type: 256)
[2025-12-23 23:56:49.423] [DEBUG] Creating room
[2025-12-23 23:56:49.423] [DEBUG] Sent packet (type: 512)
[2025-12-23 23:56:49.433] [DEBUG] Received packet (type: 512)
[2025-12-23 23:56:49.433] [INFO] Room created successfully, room ID: 0
[2025-12-23 23:56:49.435] [DEBUG] Switching widget to index: 1
[2025-12-23 23:56:49.437] [INFO] Switching to Game widget
[2025-12-23 23:56:49.438] [DEBUG] Widget switch completed
[2025-12-23 23:56:49.441] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-23 23:56:49.441] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:56:49.443] [INFO] GameWidget initialized successfully
[2025-12-23 23:56:49.443] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-23 23:56:49.444] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-23 23:56:51.164] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:56:51.168] [INFO] Taking black pieces
[2025-12-23 23:56:51.168] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:56:52.545] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:56:52.547] [INFO] Taking white pieces
[2025-12-23 23:56:52.547] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:56:53.425] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:57:07.559] [WARN] Cannot make move: not currently in a game
[2025-12-23 23:58:05.021] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-23 23:58:58.884] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-23 23:58:58.884] [DEBUG] Logger initialized with DEBUG level
[2025-12-23 23:58:58.884] [DEBUG] Setting up UI...
[2025-12-23 23:58:58.908] [DEBUG] Creating Manager instance...
[2025-12-23 23:58:58.909] [INFO] Manager initialized for server
[2025-12-23 23:58:58.909] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-23 23:58:58.950] [DEBUG] Session activated callback set
[2025-12-23 23:58:58.950] [INFO] Attempting to connect to server...
[2025-12-23 23:58:58.950] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-23 23:58:58.957] [DEBUG] New socket created successfully, socket value: 1004
[2025-12-23 23:58:58.958] [INFO] Connected to server successfully!
[2025-12-23 23:58:58.958] [DEBUG] Socket set to non-blocking mode
[2025-12-23 23:58:58.959] [DEBUG] Disconnect called, setting is_running to false
[2025-12-23 23:58:58.959] [DEBUG] Worker thread is not joinable or already finished
[2025-12-23 23:58:58.959] [DEBUG] Worker thread started
[2025-12-23 23:58:58.961] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-23 23:58:58.961] [INFO] Connection established and handshake initiated
[2025-12-23 23:58:58.962] [DEBUG] Creating LobbyWidget...
[2025-12-23 23:58:58.962] [DEBUG] LobbyWidget Initializing...
[2025-12-23 23:58:58.965] [INFO] Client loop started.
[2025-12-23 23:58:58.971] [DEBUG] Configuring room table properties...
[2025-12-23 23:58:58.972] [DEBUG] Room table properties configured
[2025-12-23 23:58:58.972] [DEBUG] Initializing room table...
[2025-12-23 23:58:58.975] [DEBUG] Initializing player list...
[2025-12-23 23:58:58.975] [DEBUG] Setting up signals...
[2025-12-23 23:58:58.976] [INFO] LobbyWidget initialized successfully
[2025-12-23 23:58:58.976] [DEBUG] Creating GameWidget...
[2025-12-23 23:58:58.978] [DEBUG] [Handshake] Received NewSession. ID: 12559676419598395168
[2025-12-23 23:58:58.981] [DEBUG] Saved server public key
[2025-12-23 23:58:58.984] [DEBUG] GameWidget UI initialized
[2025-12-23 23:58:58.985] [DEBUG] GameWidget signal connections established
[2025-12-23 23:58:58.985] [DEBUG] GameWidget constructed successfully
[2025-12-23 23:58:58.985] [DEBUG] Creating GameManager instance...
[2025-12-23 23:58:58.985] [DEBUG] Setting up signal connections...
[2025-12-23 23:58:58.986] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-23 23:58:58.986] [DEBUG] localGame connection result: 1
[2025-12-23 23:58:58.986] [DEBUG] Initializing window components...
[2025-12-23 23:58:58.987] [DEBUG] Initializing window style...
[2025-12-23 23:58:58.994] [INFO] [Handshake] Session Activated!
[2025-12-23 23:58:58.995] [DEBUG] Calling sessionActivatedCallback with sessionId: 12559676419598395168
[2025-12-23 23:58:58.995] [INFO] Session activated callback received, sessionId: 12559676419598395168
[2025-12-23 23:58:59.001] [DEBUG] Set main window background to white
[2025-12-23 23:58:59.001] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-23 23:58:59.010] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-23 23:58:59.011] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-23 23:58:59.011] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-23 23:58:59.011] [DEBUG] Window size set to: 1000x700
[2025-12-23 23:58:59.012] [DEBUG] Set window palette to white background
[2025-12-23 23:58:59.012] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-23 23:58:59.012] [DEBUG] Window background role color: #ffffff
[2025-12-23 23:58:59.012] [DEBUG] Initializing layout...
[2025-12-23 23:58:59.013] [DEBUG] centralwidget found at address: 1536386401872
[2025-12-23 23:58:59.013] [DEBUG] centralwidget object name: centralwidget
[2025-12-23 23:58:59.013] [DEBUG] centralwidget geometry: 100x30
[2025-12-23 23:58:59.013] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-23 23:58:59.013] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-23 23:58:59.014] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-23 23:58:59.014] [DEBUG] Set centralwidget palette to white background
[2025-12-23 23:58:59.014] [DEBUG] Layout initialized successfully
[2025-12-23 23:58:59.014] [DEBUG] Initializing title bar and status bar...
[2025-12-23 23:58:59.014] [DEBUG] Initializing title bar components...
[2025-12-23 23:58:59.015] [DEBUG] titleBarWidget found at address: 1536386407968
[2025-12-23 23:58:59.015] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-23 23:58:59.015] [DEBUG] titleLabel found at address: 1536386410032
[2025-12-23 23:58:59.015] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-23 23:58:59.016] [DEBUG] minimizeButton found at address: 1536386425424
[2025-12-23 23:58:59.016] [DEBUG] maximizeButton found at address: 1536386429120
[2025-12-23 23:58:59.016] [DEBUG] closeButton found at address: 1536386439712
[2025-12-23 23:58:59.016] [DEBUG] Title bar initialization completed
[2025-12-23 23:58:59.017] [DEBUG] Initializing status bar components...
[2025-12-23 23:58:59.017] [DEBUG] statusBarWidget found
[2025-12-23 23:58:59.017] [DEBUG] statusMessageLabel found
[2025-12-23 23:58:59.018] [DEBUG] networkStatusButton found
[2025-12-23 23:58:59.018] [DEBUG] userInfoButton found
[2025-12-23 23:58:59.018] [DEBUG] Status bar initialization completed
[2025-12-23 23:58:59.018] [DEBUG] Getting stackedWidget from UI...
[2025-12-23 23:58:59.019] [DEBUG] stackedWidget found in UI
[2025-12-23 23:58:59.034] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-23 23:58:59.034] [DEBUG] Creating ToastWidget...
[2025-12-23 23:58:59.036] [DEBUG] ====== Validating Window Background ======
[2025-12-23 23:58:59.036] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-23 23:58:59.036] [INFO] CentralWidget background is correctly set to white
[2025-12-23 23:58:59.037] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-23 23:58:59.037] [DEBUG] Stylesheet contains background-color definition
[2025-12-23 23:58:59.037] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-23 23:58:59.037] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-23 23:58:59.037] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-23 23:58:59.038] [DEBUG] ====== Background Validation Complete ======
[2025-12-23 23:58:59.038] [INFO] MainWindow initialization completed successfully
[2025-12-23 23:59:03.221] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-23 23:59:03.222] [DEBUG] localGame signal received, initializing local game
[2025-12-23 23:59:03.222] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-23 23:59:03.224] [DEBUG] Player list updated, count: 2
[2025-12-23 23:59:03.225] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:59:03.225] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-23 23:59:03.226] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-23 23:59:03.228] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-23 23:59:03.229] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-23 23:59:03.231] [INFO] GameWidget initialized successfully
[2025-12-23 23:59:03.231] [DEBUG] Switching widget to index: 1
[2025-12-23 23:59:03.236] [INFO] Switching to Game widget
[2025-12-23 23:59:03.237] [DEBUG] Widget switch completed
[2025-12-23 23:59:08.658] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 23:59:08.660] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:10.243] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 23:59:10.245] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:10.381] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 23:59:10.383] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:11.099] [DEBUG] GameManager::onMakeMove called, x: 11, y: 4, isLocalGame: 1
[2025-12-23 23:59:11.101] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:11.546] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 23:59:11.547] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:12.031] [DEBUG] GameManager::onMakeMove called, x: 11, y: 4, isLocalGame: 1
[2025-12-23 23:59:12.033] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:12.348] [DEBUG] GameManager::onMakeMove called, x: 11, y: 2, isLocalGame: 1
[2025-12-23 23:59:12.350] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-23 23:59:14.093] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-23 23:59:14.096] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-23 23:59:14.097] [DEBUG] Player list updated, count: 2
[2025-12-23 23:59:14.097] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:59:14.100] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-23 23:59:14.609] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-23 23:59:14.611] [DEBUG] Chat message from 系统: 玩家2 选择了白棋
[2025-12-23 23:59:14.612] [DEBUG] Player list updated, count: 2
[2025-12-23 23:59:14.612] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:59:14.628] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-23 23:59:14.629] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-23 23:59:14.630] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-23 23:59:16.447] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-23 23:59:16.449] [DEBUG] Chat message from 游戏: 玩家 在 (11, 3) 落黑子
[2025-12-23 23:59:16.455] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:59:17.605] [DEBUG] GameManager::onMakeMove called, x: 11, y: 4, isLocalGame: 1
[2025-12-23 23:59:17.607] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 4) 落白子
[2025-12-23 23:59:17.612] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:59:18.205] [DEBUG] GameManager::onMakeMove called, x: 11, y: 5, isLocalGame: 1
[2025-12-23 23:59:18.207] [DEBUG] Chat message from 游戏: 玩家 在 (11, 5) 落黑子
[2025-12-23 23:59:18.214] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:59:18.626] [DEBUG] GameManager::onMakeMove called, x: 11, y: 6, isLocalGame: 1
[2025-12-23 23:59:18.627] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 6) 落白子
[2025-12-23 23:59:18.633] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:59:19.515] [DEBUG] GameManager::onMakeMove called, x: 11, y: 7, isLocalGame: 1
[2025-12-23 23:59:19.518] [DEBUG] Chat message from 游戏: 玩家 在 (11, 7) 落黑子
[2025-12-23 23:59:19.524] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:59:20.040] [DEBUG] GameManager::onMakeMove called, x: 11, y: 8, isLocalGame: 1
[2025-12-23 23:59:20.042] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 8) 落白子
[2025-12-23 23:59:20.047] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-23 23:59:20.480] [DEBUG] GameManager::onMakeMove called, x: 11, y: 9, isLocalGame: 1
[2025-12-23 23:59:20.482] [DEBUG] Chat message from 游戏: 玩家 在 (11, 9) 落黑子
[2025-12-23 23:59:20.487] [DEBUG] Chat message from 游戏: 轮到 玩家2 落子
[2025-12-23 23:59:20.819] [DEBUG] GameManager::onMakeMove called, x: 11, y: 10, isLocalGame: 1
[2025-12-23 23:59:20.820] [DEBUG] Chat message from 游戏: 玩家2 在 (11, 10) 落白子
[2025-12-23 23:59:20.825] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-24 00:04:46.864] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:04:46.864] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:04:46.865] [DEBUG] Setting up UI...
[2025-12-24 00:04:46.891] [DEBUG] Creating Manager instance...
[2025-12-24 00:04:46.891] [INFO] Manager initialized for server
[2025-12-24 00:04:46.891] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:04:46.937] [DEBUG] Session activated callback set
[2025-12-24 00:04:46.938] [INFO] Attempting to connect to server...
[2025-12-24 00:04:46.938] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:04:46.945] [DEBUG] New socket created successfully, socket value: 1048
[2025-12-24 00:04:46.946] [INFO] Connected to server successfully!
[2025-12-24 00:04:46.947] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:04:46.947] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:04:46.947] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:04:46.948] [DEBUG] Worker thread started
[2025-12-24 00:04:46.948] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:04:46.949] [INFO] Connection established and handshake initiated
[2025-12-24 00:04:46.949] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:04:46.949] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:04:46.953] [INFO] Client loop started.
[2025-12-24 00:04:46.960] [DEBUG] Configuring room table properties...
[2025-12-24 00:04:46.961] [DEBUG] Room table properties configured
[2025-12-24 00:04:46.961] [DEBUG] Initializing room table...
[2025-12-24 00:04:46.963] [DEBUG] Initializing player list...
[2025-12-24 00:04:46.964] [DEBUG] Setting up signals...
[2025-12-24 00:04:46.964] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:04:46.965] [DEBUG] Creating GameWidget...
[2025-12-24 00:04:46.971] [DEBUG] GameWidget UI initialized
[2025-12-24 00:04:46.972] [DEBUG] GameWidget signal connections established
[2025-12-24 00:04:46.972] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:04:46.973] [DEBUG] Creating GameManager instance...
[2025-12-24 00:04:46.973] [DEBUG] [Handshake] Received NewSession. ID: 16977400157486311244
[2025-12-24 00:04:46.973] [DEBUG] Setting up signal connections...
[2025-12-24 00:04:46.974] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:04:46.974] [DEBUG] localGame connection result: 1
[2025-12-24 00:04:46.975] [DEBUG] Initializing window components...
[2025-12-24 00:04:46.975] [DEBUG] Initializing window style...
[2025-12-24 00:04:46.975] [DEBUG] Saved server public key
[2025-12-24 00:04:46.987] [INFO] [Handshake] Session Activated!
[2025-12-24 00:04:46.988] [DEBUG] Calling sessionActivatedCallback with sessionId: 16977400157486311244
[2025-12-24 00:04:46.988] [INFO] Session activated callback received, sessionId: 16977400157486311244
[2025-12-24 00:04:46.993] [DEBUG] Set main window background to white
[2025-12-24 00:04:46.993] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:04:47.007] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:04:47.007] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:04:47.008] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:04:47.008] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:04:47.008] [DEBUG] Set window palette to white background
[2025-12-24 00:04:47.009] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:04:47.009] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:04:47.009] [DEBUG] Initializing layout...
[2025-12-24 00:04:47.010] [DEBUG] centralwidget found at address: 2118187091536
[2025-12-24 00:04:47.010] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:04:47.010] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:04:47.010] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:04:47.010] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:04:47.011] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:04:47.011] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:04:47.011] [DEBUG] Layout initialized successfully
[2025-12-24 00:04:47.011] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:04:47.011] [DEBUG] Initializing title bar components...
[2025-12-24 00:04:47.012] [DEBUG] titleBarWidget found at address: 2118187097632
[2025-12-24 00:04:47.012] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:04:47.012] [DEBUG] titleLabel found at address: 2118187099696
[2025-12-24 00:04:47.013] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:04:47.013] [DEBUG] minimizeButton found at address: 2118187115088
[2025-12-24 00:04:47.013] [DEBUG] maximizeButton found at address: 2118187118784
[2025-12-24 00:04:47.014] [DEBUG] closeButton found at address: 2118187129376
[2025-12-24 00:04:47.014] [DEBUG] Title bar initialization completed
[2025-12-24 00:04:47.014] [DEBUG] Initializing status bar components...
[2025-12-24 00:04:47.015] [DEBUG] statusBarWidget found
[2025-12-24 00:04:47.015] [DEBUG] statusMessageLabel found
[2025-12-24 00:04:47.015] [DEBUG] networkStatusButton found
[2025-12-24 00:04:47.015] [DEBUG] userInfoButton found
[2025-12-24 00:04:47.016] [DEBUG] Status bar initialization completed
[2025-12-24 00:04:47.016] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:04:47.016] [DEBUG] stackedWidget found in UI
[2025-12-24 00:04:47.031] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:04:47.031] [DEBUG] Creating ToastWidget...
[2025-12-24 00:04:47.033] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:04:47.034] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:04:47.034] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:04:47.034] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:04:47.035] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:04:47.035] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:04:47.035] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:04:47.036] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:04:47.036] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:04:47.036] [INFO] MainWindow initialization completed successfully
[2025-12-24 00:04:49.199] [DEBUG] User info button clicked, showing login dialog
[2025-12-24 00:04:50.311] [DEBUG] User chose to login with account
[2025-12-24 00:04:54.792] [INFO] Login attempt for user: admin
[2025-12-24 00:04:54.792] [DEBUG] Login packet created with session ID: 16977400157486311244
[2025-12-24 00:04:54.793] [DEBUG] Sending login packet...
[2025-12-24 00:04:54.793] [DEBUG] Sent packet (type: 256)
[2025-12-24 00:04:54.793] [INFO] Login request sent for user: admin
[2025-12-24 00:04:54.798] [DEBUG] Received packet (type: 256)
[2025-12-24 00:05:04.134] [DEBUG] Creating room
[2025-12-24 00:05:04.134] [DEBUG] Sent packet (type: 512)
[2025-12-24 00:05:04.142] [DEBUG] Received packet (type: 512)
[2025-12-24 00:05:04.143] [INFO] Room created successfully, room ID: 0
[2025-12-24 00:05:04.146] [DEBUG] Switching widget to index: 1
[2025-12-24 00:05:04.149] [INFO] Switching to Game widget
[2025-12-24 00:05:04.149] [DEBUG] Widget switch completed
[2025-12-24 00:05:04.152] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-24 00:05:04.153] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:05:04.155] [INFO] GameWidget initialized successfully
[2025-12-24 00:05:04.155] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-24 00:05:04.155] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-24 00:05:06.122] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 00:05:06.129] [INFO] Taking black pieces
[2025-12-24 00:05:06.129] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-24 00:05:06.788] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-24 00:05:06.792] [INFO] Taking white pieces
[2025-12-24 00:05:06.793] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:05:07.650] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-24 00:05:07.652] [WARN] Cannot make move: not currently in a game
[2025-12-24 00:05:11.273] [DEBUG] Start game button clicked
[2025-12-24 00:05:11.278] [INFO] Starting game
[2025-12-24 00:05:12.489] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-24 00:05:12.492] [WARN] Cannot make move: not currently in a game
[2025-12-24 00:05:14.427] [DEBUG] Start game button clicked
[2025-12-24 00:05:14.432] [INFO] Starting game
[2025-12-24 00:05:16.433] [DEBUG] Start game button clicked
[2025-12-24 00:05:16.436] [INFO] Starting game
[2025-12-24 00:05:18.465] [DEBUG] Start game button clicked
[2025-12-24 00:05:18.469] [INFO] Starting game
[2025-12-24 00:05:19.086] [DEBUG] Start game button clicked
[2025-12-24 00:05:19.090] [INFO] Starting game
[2025-12-24 00:05:19.457] [DEBUG] Start game button clicked
[2025-12-24 00:05:19.461] [INFO] Starting game
[2025-12-24 00:05:19.829] [DEBUG] Start game button clicked
[2025-12-24 00:05:19.833] [INFO] Starting game
[2025-12-24 00:05:20.083] [DEBUG] Start game button clicked
[2025-12-24 00:05:20.086] [INFO] Starting game
[2025-12-24 00:05:20.250] [DEBUG] Start game button clicked
[2025-12-24 00:05:20.254] [INFO] Starting game
[2025-12-24 00:05:20.419] [DEBUG] Start game button clicked
[2025-12-24 00:05:20.423] [INFO] Starting game
[2025-12-24 00:05:20.565] [DEBUG] Start game button clicked
[2025-12-24 00:05:20.568] [INFO] Starting game
[2025-12-24 00:05:20.726] [DEBUG] Start game button clicked
[2025-12-24 00:05:20.730] [INFO] Starting game
[2025-12-24 00:05:20.894] [DEBUG] Start game button clicked
[2025-12-24 00:05:20.899] [INFO] Starting game
[2025-12-24 00:05:21.073] [DEBUG] Start game button clicked
[2025-12-24 00:05:21.078] [INFO] Starting game
[2025-12-24 00:05:21.240] [DEBUG] Start game button clicked
[2025-12-24 00:05:21.245] [INFO] Starting game
[2025-12-24 00:05:21.716] [DEBUG] Start game button clicked
[2025-12-24 00:05:21.722] [INFO] Starting game
[2025-12-24 00:05:21.866] [DEBUG] Start game button clicked
[2025-12-24 00:05:21.871] [INFO] Starting game
[2025-12-24 00:05:22.027] [DEBUG] Start game button clicked
[2025-12-24 00:05:22.032] [INFO] Starting game
[2025-12-24 00:05:22.185] [DEBUG] Start game button clicked
[2025-12-24 00:05:22.189] [INFO] Starting game
[2025-12-24 00:05:22.642] [DEBUG] Start game button clicked
[2025-12-24 00:05:22.646] [INFO] Starting game
[2025-12-24 00:05:22.795] [DEBUG] Start game button clicked
[2025-12-24 00:05:22.799] [INFO] Starting game
[2025-12-24 00:05:22.971] [DEBUG] Start game button clicked
[2025-12-24 00:05:22.975] [INFO] Starting game
[2025-12-24 00:05:23.317] [DEBUG] Start game button clicked
[2025-12-24 00:05:23.321] [INFO] Starting game
[2025-12-24 00:05:23.461] [DEBUG] Start game button clicked
[2025-12-24 00:05:23.465] [INFO] Starting game
[2025-12-24 00:05:23.623] [DEBUG] Start game button clicked
[2025-12-24 00:05:23.628] [INFO] Starting game
[2025-12-24 00:05:27.203] [DEBUG] Start game button clicked
[2025-12-24 00:05:27.206] [INFO] Starting game
[2025-12-24 00:05:31.225] [DEBUG] Start game button clicked
[2025-12-24 00:05:31.229] [INFO] Starting game
[2025-12-24 00:05:31.863] [DEBUG] Start game button clicked
[2025-12-24 00:05:31.866] [INFO] Starting game
[2025-12-24 00:05:32.237] [DEBUG] Start game button clicked
[2025-12-24 00:05:32.240] [INFO] Starting game
[2025-12-24 00:05:32.567] [DEBUG] Start game button clicked
[2025-12-24 00:05:32.571] [INFO] Starting game
[2025-12-24 00:05:32.872] [DEBUG] Start game button clicked
[2025-12-24 00:05:32.876] [INFO] Starting game
[2025-12-24 00:05:33.495] [DEBUG] Start game button clicked
[2025-12-24 00:05:33.499] [INFO] Starting game
[2025-12-24 00:10:21.901] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-24 00:10:21.905] [WARN] Cannot make move: not currently in a game
[2025-12-24 00:12:40.005] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:12:40.005] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:12:40.005] [DEBUG] Setting up UI...
[2025-12-24 00:12:40.030] [DEBUG] Creating Manager instance...
[2025-12-24 00:12:40.030] [INFO] Manager initialized for server
[2025-12-24 00:12:40.030] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:12:40.072] [DEBUG] Session activated callback set
[2025-12-24 00:12:40.072] [INFO] Attempting to connect to server...
[2025-12-24 00:12:40.073] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:12:40.081] [DEBUG] New socket created successfully, socket value: 988
[2025-12-24 00:12:40.081] [INFO] Connected to server successfully!
[2025-12-24 00:12:40.082] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:12:40.082] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:12:40.082] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:12:40.085] [DEBUG] Worker thread started
[2025-12-24 00:12:40.085] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:12:40.086] [INFO] Connection established and handshake initiated
[2025-12-24 00:12:40.086] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:12:40.087] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:12:40.089] [INFO] Client loop started.
[2025-12-24 00:12:40.096] [DEBUG] Configuring room table properties...
[2025-12-24 00:12:40.097] [DEBUG] Room table properties configured
[2025-12-24 00:12:40.097] [DEBUG] Initializing room table...
[2025-12-24 00:12:40.100] [DEBUG] Initializing player list...
[2025-12-24 00:12:40.100] [DEBUG] Setting up signals...
[2025-12-24 00:12:40.101] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:12:40.101] [DEBUG] Creating GameWidget...
[2025-12-24 00:12:40.107] [DEBUG] GameWidget UI initialized
[2025-12-24 00:12:40.107] [DEBUG] GameWidget signal connections established
[2025-12-24 00:12:40.108] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:12:40.108] [DEBUG] Creating GameManager instance...
[2025-12-24 00:12:40.108] [DEBUG] [Handshake] Received NewSession. ID: 16977400157486311244
[2025-12-24 00:12:40.109] [DEBUG] Setting up signal connections...
[2025-12-24 00:12:40.109] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:12:40.109] [DEBUG] localGame connection result: 1
[2025-12-24 00:12:40.110] [DEBUG] Initializing window components...
[2025-12-24 00:12:40.110] [DEBUG] Initializing window style...
[2025-12-24 00:12:40.111] [DEBUG] Saved server public key
[2025-12-24 00:12:40.123] [DEBUG] Set main window background to white
[2025-12-24 00:12:40.124] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:12:40.124] [INFO] [Handshake] Session Activated!
[2025-12-24 00:12:40.125] [DEBUG] Calling sessionActivatedCallback with sessionId: 16977400157486311244
[2025-12-24 00:12:40.125] [INFO] Session activated callback received, sessionId: 16977400157486311244
[2025-12-24 00:12:40.134] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:12:40.134] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:12:40.135] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:12:40.135] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:12:40.135] [DEBUG] Set window palette to white background
[2025-12-24 00:12:40.135] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:12:40.136] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:12:40.136] [DEBUG] Initializing layout...
[2025-12-24 00:12:40.136] [DEBUG] centralwidget found at address: 2220745098832
[2025-12-24 00:12:40.136] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:12:40.136] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:12:40.137] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:12:40.137] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:12:40.137] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:12:40.137] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:12:40.137] [DEBUG] Layout initialized successfully
[2025-12-24 00:12:40.138] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:12:40.138] [DEBUG] Initializing title bar components...
[2025-12-24 00:12:40.138] [DEBUG] titleBarWidget found at address: 2220745104928
[2025-12-24 00:12:40.138] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:12:40.138] [DEBUG] titleLabel found at address: 2220745106992
[2025-12-24 00:12:40.138] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:12:40.139] [DEBUG] minimizeButton found at address: 2220745122384
[2025-12-24 00:12:40.139] [DEBUG] maximizeButton found at address: 2220745126080
[2025-12-24 00:12:40.139] [DEBUG] closeButton found at address: 2220745136672
[2025-12-24 00:12:40.139] [DEBUG] Title bar initialization completed
[2025-12-24 00:12:40.140] [DEBUG] Initializing status bar components...
[2025-12-24 00:12:40.140] [DEBUG] statusBarWidget found
[2025-12-24 00:12:40.140] [DEBUG] statusMessageLabel found
[2025-12-24 00:12:40.141] [DEBUG] networkStatusButton found
[2025-12-24 00:12:40.141] [DEBUG] userInfoButton found
[2025-12-24 00:12:40.141] [DEBUG] Status bar initialization completed
[2025-12-24 00:12:40.141] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:12:40.142] [DEBUG] stackedWidget found in UI
[2025-12-24 00:12:40.158] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:12:40.158] [DEBUG] Creating ToastWidget...
[2025-12-24 00:12:40.160] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:12:40.160] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:12:40.160] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:12:40.161] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:12:40.161] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:12:40.161] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:12:40.162] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:12:40.162] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:12:40.162] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:12:40.163] [INFO] MainWindow initialization completed successfully
[2025-12-24 00:13:01.026] [DEBUG] User info button clicked, showing login dialog
[2025-12-24 00:13:02.491] [DEBUG] User chose to login with account
[2025-12-24 00:13:06.016] [INFO] Login attempt for user: admin
[2025-12-24 00:13:06.016] [DEBUG] Login packet created with session ID: 16977400157486311244
[2025-12-24 00:13:06.017] [DEBUG] Sending login packet...
[2025-12-24 00:13:06.017] [DEBUG] Sent packet (type: 256)
[2025-12-24 00:13:06.017] [INFO] Login request sent for user: admin
[2025-12-24 00:13:06.032] [DEBUG] Received packet (type: 256)
[2025-12-24 00:13:09.812] [DEBUG] Creating room
[2025-12-24 00:13:09.813] [DEBUG] Sent packet (type: 512)
[2025-12-24 00:13:09.825] [DEBUG] Received packet (type: 512)
[2025-12-24 00:13:09.826] [INFO] Room created successfully, room ID: 0
[2025-12-24 00:13:09.829] [DEBUG] Switching widget to index: 1
[2025-12-24 00:13:09.831] [INFO] Switching to Game widget
[2025-12-24 00:13:09.832] [DEBUG] Widget switch completed
[2025-12-24 00:13:09.835] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-24 00:13:09.836] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:13:09.838] [INFO] GameWidget initialized successfully
[2025-12-24 00:13:09.838] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-24 00:13:09.838] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-24 00:13:12.993] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-24 00:13:29.151] [WARN] Cannot make move: not currently in a game
[2025-12-24 00:13:38.626] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 00:13:38.629] [INFO] Taking black pieces
[2025-12-24 00:13:38.629] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-24 00:13:39.759] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-24 00:13:51.346] [WARN] Cannot make move: not currently in a game
[2025-12-24 00:13:56.806] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-24 00:13:56.808] [INFO] Taking white pieces
[2025-12-24 00:13:56.809] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:13:59.411] [DEBUG] Start game button clicked
[2025-12-24 00:13:59.413] [INFO] Starting game
[2025-12-24 00:14:00.949] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 0
[2025-12-24 00:14:00.951] [WARN] Cannot make move: not currently in a game
[2025-12-24 00:14:14.932] [DEBUG] Start game button clicked
[2025-12-24 00:14:14.934] [INFO] Starting game
[2025-12-24 00:14:15.916] [DEBUG] Start game button clicked
[2025-12-24 00:14:15.917] [INFO] Starting game
[2025-12-24 00:14:16.369] [DEBUG] Start game button clicked
[2025-12-24 00:14:16.371] [INFO] Starting game
[2025-12-24 00:23:33.305] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:23:33.305] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:23:33.305] [DEBUG] Setting up UI...
[2025-12-24 00:23:33.329] [DEBUG] Creating Manager instance...
[2025-12-24 00:23:33.329] [INFO] Manager initialized for server
[2025-12-24 00:23:33.329] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:23:33.371] [DEBUG] Session activated callback set
[2025-12-24 00:23:33.371] [INFO] Attempting to connect to server...
[2025-12-24 00:23:33.371] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:23:33.379] [DEBUG] New socket created successfully, socket value: 928
[2025-12-24 00:23:33.379] [INFO] Connected to server successfully!
[2025-12-24 00:23:33.380] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:23:33.380] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:23:33.380] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:23:33.382] [DEBUG] Worker thread started
[2025-12-24 00:23:33.383] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:23:33.383] [INFO] Connection established and handshake initiated
[2025-12-24 00:23:33.384] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:23:33.384] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:23:33.387] [INFO] Client loop started.
[2025-12-24 00:23:33.393] [DEBUG] Configuring room table properties...
[2025-12-24 00:23:33.394] [DEBUG] Room table properties configured
[2025-12-24 00:23:33.394] [DEBUG] Initializing room table...
[2025-12-24 00:23:33.396] [DEBUG] [Handshake] Received NewSession. ID: 667344095147026626
[2025-12-24 00:23:33.397] [DEBUG] Initializing player list...
[2025-12-24 00:23:33.397] [DEBUG] Setting up signals...
[2025-12-24 00:23:33.398] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:23:33.398] [DEBUG] Creating GameWidget...
[2025-12-24 00:23:33.399] [DEBUG] Saved server public key
[2025-12-24 00:23:33.405] [DEBUG] GameWidget UI initialized
[2025-12-24 00:23:33.405] [DEBUG] GameWidget signal connections established
[2025-12-24 00:23:33.405] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:23:33.406] [DEBUG] Creating GameManager instance...
[2025-12-24 00:23:33.406] [DEBUG] Setting up signal connections...
[2025-12-24 00:23:33.406] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:23:33.407] [DEBUG] localGame connection result: 1
[2025-12-24 00:23:33.407] [DEBUG] Initializing window components...
[2025-12-24 00:23:33.407] [DEBUG] Initializing window style...
[2025-12-24 00:23:33.412] [INFO] [Handshake] Session Activated!
[2025-12-24 00:23:33.413] [DEBUG] Calling sessionActivatedCallback with sessionId: 667344095147026626
[2025-12-24 00:23:33.413] [INFO] Session activated callback received, sessionId: 667344095147026626
[2025-12-24 00:23:33.421] [DEBUG] Set main window background to white
[2025-12-24 00:23:33.421] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:23:33.433] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:23:33.433] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:23:33.433] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:23:33.433] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:23:33.434] [DEBUG] Set window palette to white background
[2025-12-24 00:23:33.434] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:23:33.434] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:23:33.435] [DEBUG] Initializing layout...
[2025-12-24 00:23:33.435] [DEBUG] centralwidget found at address: 2048513541712
[2025-12-24 00:23:33.435] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:23:33.435] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:23:33.435] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:23:33.436] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:23:33.436] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:23:33.436] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:23:33.436] [DEBUG] Layout initialized successfully
[2025-12-24 00:23:33.436] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:23:33.437] [DEBUG] Initializing title bar components...
[2025-12-24 00:23:33.437] [DEBUG] titleBarWidget found at address: 2048513547808
[2025-12-24 00:23:33.437] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:23:33.437] [DEBUG] titleLabel found at address: 2048513549872
[2025-12-24 00:23:33.437] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:23:33.437] [DEBUG] minimizeButton found at address: 2048513565264
[2025-12-24 00:23:33.438] [DEBUG] maximizeButton found at address: 2048513568960
[2025-12-24 00:23:33.438] [DEBUG] closeButton found at address: 2048513579552
[2025-12-24 00:23:33.438] [DEBUG] Title bar initialization completed
[2025-12-24 00:23:33.438] [DEBUG] Initializing status bar components...
[2025-12-24 00:23:33.438] [DEBUG] statusBarWidget found
[2025-12-24 00:23:33.438] [DEBUG] statusMessageLabel found
[2025-12-24 00:23:33.439] [DEBUG] networkStatusButton found
[2025-12-24 00:23:33.439] [DEBUG] userInfoButton found
[2025-12-24 00:23:33.439] [DEBUG] Status bar initialization completed
[2025-12-24 00:23:33.439] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:23:33.440] [DEBUG] stackedWidget found in UI
[2025-12-24 00:23:33.453] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:23:33.453] [DEBUG] Creating ToastWidget...
[2025-12-24 00:23:33.455] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:23:33.455] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:23:33.455] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:23:33.456] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:23:33.456] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:23:33.456] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:23:33.456] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:23:33.457] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:23:33.457] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:23:33.457] [INFO] MainWindow initialization completed successfully
[2025-12-24 00:24:38.945] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-24 00:24:38.945] [DEBUG] localGame signal received, initializing local game
[2025-12-24 00:24:38.946] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-24 00:24:38.948] [DEBUG] Player list updated, count: 2
[2025-12-24 00:24:38.948] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:24:38.948] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-24 00:24:38.949] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-24 00:24:38.951] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-24 00:24:38.952] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:24:38.953] [INFO] GameWidget initialized successfully
[2025-12-24 00:24:38.953] [DEBUG] Switching widget to index: 1
[2025-12-24 00:24:38.955] [INFO] Switching to Game widget
[2025-12-24 00:24:38.956] [DEBUG] Widget switch completed
[2025-12-24 00:24:42.779] [DEBUG] AI toggled: enabled
[2025-12-24 00:24:42.779] [DEBUG] GameManager::onAIToggled called with enabled: 1
[2025-12-24 00:24:42.779] [DEBUG] Chat message from 游戏: AI对手已启用，AI将执白棋
[2025-12-24 00:24:42.779] [DEBUG] Player list updated, count: 2
[2025-12-24 00:24:42.780] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=1
[2025-12-24 00:24:45.166] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-24 00:24:45.168] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-24 00:24:47.586] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 00:24:47.588] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-24 00:24:47.589] [DEBUG] Player list updated, count: 2
[2025-12-24 00:24:47.589] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:24:47.598] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-24 00:24:47.599] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-24 00:24:47.599] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:24:49.652] [DEBUG] Start game button clicked
[2025-12-24 00:24:52.232] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-24 00:24:52.233] [DEBUG] Chat message from 游戏: 玩家 在 (11, 3) 落黑子
[2025-12-24 00:24:52.237] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-24 00:28:03.046] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 0) 落白子
[2025-12-24 00:28:03.054] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-24 00:28:05.372] [DEBUG] GameManager::onMakeMove called, x: 11, y: 8, isLocalGame: 1
[2025-12-24 00:28:05.374] [DEBUG] Chat message from 游戏: 玩家 在 (11, 8) 落黑子
[2025-12-24 00:28:05.380] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-24 00:28:14.145] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 1) 落白子
[2025-12-24 00:28:14.152] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-24 00:28:26.441] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:28:26.441] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:28:26.441] [DEBUG] Setting up UI...
[2025-12-24 00:28:26.466] [DEBUG] Creating Manager instance...
[2025-12-24 00:28:26.466] [INFO] Manager initialized for server
[2025-12-24 00:28:26.466] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:28:26.505] [DEBUG] Session activated callback set
[2025-12-24 00:28:26.506] [INFO] Attempting to connect to server...
[2025-12-24 00:28:26.506] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:28:26.513] [DEBUG] New socket created successfully, socket value: 1012
[2025-12-24 00:28:26.514] [INFO] Connected to server successfully!
[2025-12-24 00:28:26.514] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:28:26.514] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:28:26.515] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:28:26.515] [DEBUG] Worker thread started
[2025-12-24 00:28:26.517] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:28:26.517] [INFO] Connection established and handshake initiated
[2025-12-24 00:28:26.517] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:28:26.517] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:28:26.520] [INFO] Client loop started.
[2025-12-24 00:28:26.525] [DEBUG] Configuring room table properties...
[2025-12-24 00:28:26.525] [DEBUG] Room table properties configured
[2025-12-24 00:28:26.526] [DEBUG] Initializing room table...
[2025-12-24 00:28:26.527] [DEBUG] Initializing player list...
[2025-12-24 00:28:26.527] [DEBUG] Setting up signals...
[2025-12-24 00:28:26.527] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:28:26.527] [DEBUG] Creating GameWidget...
[2025-12-24 00:28:26.533] [DEBUG] GameWidget UI initialized
[2025-12-24 00:28:26.533] [DEBUG] GameWidget signal connections established
[2025-12-24 00:28:26.533] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:28:26.533] [DEBUG] Creating GameManager instance...
[2025-12-24 00:28:26.534] [DEBUG] Setting up signal connections...
[2025-12-24 00:28:26.534] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:28:26.534] [DEBUG] localGame connection result: 1
[2025-12-24 00:28:26.534] [DEBUG] Initializing window components...
[2025-12-24 00:28:26.535] [DEBUG] Initializing window style...
[2025-12-24 00:28:26.545] [DEBUG] [Handshake] Received NewSession. ID: 17445651362418297976
[2025-12-24 00:28:26.547] [DEBUG] Set main window background to white
[2025-12-24 00:28:26.547] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:28:26.547] [DEBUG] Saved server public key
[2025-12-24 00:28:26.556] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:28:26.557] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:28:26.557] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:28:26.557] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:28:26.557] [DEBUG] Set window palette to white background
[2025-12-24 00:28:26.557] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:28:26.558] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:28:26.558] [DEBUG] Initializing layout...
[2025-12-24 00:28:26.558] [DEBUG] centralwidget found at address: 2194259445328
[2025-12-24 00:28:26.558] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:28:26.558] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:28:26.558] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:28:26.559] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:28:26.559] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:28:26.559] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:28:26.559] [DEBUG] Layout initialized successfully
[2025-12-24 00:28:26.559] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:28:26.559] [DEBUG] Initializing title bar components...
[2025-12-24 00:28:26.559] [DEBUG] titleBarWidget found at address: 2194259451424
[2025-12-24 00:28:26.560] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:28:26.560] [DEBUG] titleLabel found at address: 2194259453488
[2025-12-24 00:28:26.560] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:28:26.560] [DEBUG] minimizeButton found at address: 2194259468880
[2025-12-24 00:28:26.560] [DEBUG] maximizeButton found at address: 2194259472576
[2025-12-24 00:28:26.560] [DEBUG] closeButton found at address: 2194259483168
[2025-12-24 00:28:26.560] [DEBUG] Title bar initialization completed
[2025-12-24 00:28:26.561] [DEBUG] Initializing status bar components...
[2025-12-24 00:28:26.561] [DEBUG] statusBarWidget found
[2025-12-24 00:28:26.561] [DEBUG] statusMessageLabel found
[2025-12-24 00:28:26.561] [DEBUG] networkStatusButton found
[2025-12-24 00:28:26.561] [DEBUG] userInfoButton found
[2025-12-24 00:28:26.562] [INFO] [Handshake] Session Activated!
[2025-12-24 00:28:26.562] [DEBUG] Status bar initialization completed
[2025-12-24 00:28:26.562] [DEBUG] Calling sessionActivatedCallback with sessionId: 17445651362418297976
[2025-12-24 00:28:26.562] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:28:26.562] [DEBUG] stackedWidget found in UI
[2025-12-24 00:28:26.563] [INFO] Session activated callback received, sessionId: 17445651362418297976
[2025-12-24 00:28:26.578] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:28:26.578] [DEBUG] Creating ToastWidget...
[2025-12-24 00:28:26.579] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:28:26.579] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:28:26.580] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:28:26.580] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:28:26.580] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:28:26.580] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:28:26.581] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:28:26.581] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:28:26.581] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:28:26.581] [INFO] MainWindow initialization completed successfully
[2025-12-24 00:28:37.197] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-24 00:28:37.198] [DEBUG] localGame signal received, initializing local game
[2025-12-24 00:28:37.198] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-24 00:28:37.200] [DEBUG] Player list updated, count: 2
[2025-12-24 00:28:37.200] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:28:37.200] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-24 00:28:37.201] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-24 00:28:37.204] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-24 00:28:37.204] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:28:37.206] [INFO] GameWidget initialized successfully
[2025-12-24 00:28:37.207] [DEBUG] Switching widget to index: 1
[2025-12-24 00:28:37.212] [INFO] Switching to Game widget
[2025-12-24 00:28:37.213] [DEBUG] Widget switch completed
[2025-12-24 00:28:40.699] [DEBUG] AI toggled: enabled
[2025-12-24 00:28:40.700] [DEBUG] GameManager::onAIToggled called with enabled: 1
[2025-12-24 00:28:40.700] [DEBUG] Chat message from 游戏: AI对手已启用，AI将执白棋
[2025-12-24 00:28:40.701] [DEBUG] Player list updated, count: 2
[2025-12-24 00:28:40.701] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=1
[2025-12-24 00:28:41.785] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-24 00:28:41.788] [DEBUG] Chat message from 游戏: 游戏未开始或已结束
[2025-12-24 00:28:43.341] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 00:28:43.343] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-24 00:28:43.344] [DEBUG] Player list updated, count: 2
[2025-12-24 00:28:43.344] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:28:43.355] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-24 00:28:43.356] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-24 00:28:43.356] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:28:47.418] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-24 00:28:47.420] [DEBUG] Chat message from 游戏: 玩家 在 (11, 3) 落黑子
[2025-12-24 00:28:47.425] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-24 00:30:21.241] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:30:21.241] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:30:21.242] [DEBUG] Setting up UI...
[2025-12-24 00:30:21.265] [DEBUG] Creating Manager instance...
[2025-12-24 00:30:21.265] [INFO] Manager initialized for server
[2025-12-24 00:30:21.266] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:30:21.311] [DEBUG] Session activated callback set
[2025-12-24 00:30:21.311] [INFO] Attempting to connect to server...
[2025-12-24 00:30:21.311] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:30:21.319] [DEBUG] New socket created successfully, socket value: 992
[2025-12-24 00:30:21.320] [INFO] Connected to server successfully!
[2025-12-24 00:30:21.320] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:30:21.320] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:30:21.321] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:30:21.323] [DEBUG] Worker thread started
[2025-12-24 00:30:21.323] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:30:21.323] [INFO] Connection established and handshake initiated
[2025-12-24 00:30:21.324] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:30:21.324] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:30:21.327] [INFO] Client loop started.
[2025-12-24 00:30:21.333] [DEBUG] Configuring room table properties...
[2025-12-24 00:30:21.333] [DEBUG] Room table properties configured
[2025-12-24 00:30:21.333] [DEBUG] Initializing room table...
[2025-12-24 00:30:21.336] [DEBUG] Initializing player list...
[2025-12-24 00:30:21.336] [DEBUG] Setting up signals...
[2025-12-24 00:30:21.336] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:30:21.337] [DEBUG] Creating GameWidget...
[2025-12-24 00:30:21.343] [DEBUG] GameWidget UI initialized
[2025-12-24 00:30:21.344] [DEBUG] GameWidget signal connections established
[2025-12-24 00:30:21.344] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:30:21.344] [DEBUG] Creating GameManager instance...
[2025-12-24 00:30:21.345] [DEBUG] Setting up signal connections...
[2025-12-24 00:30:21.345] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:30:21.345] [DEBUG] localGame connection result: 1
[2025-12-24 00:30:21.346] [DEBUG] Initializing window components...
[2025-12-24 00:30:21.346] [DEBUG] Initializing window style...
[2025-12-24 00:30:21.347] [DEBUG] [Handshake] Received NewSession. ID: 16977400157486311244
[2025-12-24 00:30:21.350] [DEBUG] Saved server public key
[2025-12-24 00:30:21.361] [DEBUG] Set main window background to white
[2025-12-24 00:30:21.361] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:30:21.363] [INFO] [Handshake] Session Activated!
[2025-12-24 00:30:21.363] [DEBUG] Calling sessionActivatedCallback with sessionId: 16977400157486311244
[2025-12-24 00:30:21.364] [INFO] Session activated callback received, sessionId: 16977400157486311244
[2025-12-24 00:30:21.373] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:30:21.373] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:30:21.373] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:30:21.373] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:30:21.374] [DEBUG] Set window palette to white background
[2025-12-24 00:30:21.374] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:30:21.374] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:30:21.374] [DEBUG] Initializing layout...
[2025-12-24 00:30:21.375] [DEBUG] centralwidget found at address: 1897361442384
[2025-12-24 00:30:21.375] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:30:21.375] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:30:21.375] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:30:21.375] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:30:21.376] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:30:21.376] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:30:21.376] [DEBUG] Layout initialized successfully
[2025-12-24 00:30:21.376] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:30:21.377] [DEBUG] Initializing title bar components...
[2025-12-24 00:30:21.377] [DEBUG] titleBarWidget found at address: 1897361448480
[2025-12-24 00:30:21.377] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:30:21.378] [DEBUG] titleLabel found at address: 1897361450544
[2025-12-24 00:30:21.378] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:30:21.378] [DEBUG] minimizeButton found at address: 1897361465936
[2025-12-24 00:30:21.379] [DEBUG] maximizeButton found at address: 1897361469632
[2025-12-24 00:30:21.379] [DEBUG] closeButton found at address: 1897361480224
[2025-12-24 00:30:21.379] [DEBUG] Title bar initialization completed
[2025-12-24 00:30:21.379] [DEBUG] Initializing status bar components...
[2025-12-24 00:30:21.380] [DEBUG] statusBarWidget found
[2025-12-24 00:30:21.380] [DEBUG] statusMessageLabel found
[2025-12-24 00:30:21.380] [DEBUG] networkStatusButton found
[2025-12-24 00:30:21.380] [DEBUG] userInfoButton found
[2025-12-24 00:30:21.381] [DEBUG] Status bar initialization completed
[2025-12-24 00:30:21.381] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:30:21.381] [DEBUG] stackedWidget found in UI
[2025-12-24 00:30:21.395] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:30:21.395] [DEBUG] Creating ToastWidget...
[2025-12-24 00:30:21.396] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:30:21.397] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:30:21.397] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:30:21.398] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:30:21.398] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:30:21.398] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:30:21.398] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:30:21.399] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:30:21.399] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:30:21.399] [INFO] MainWindow initialization completed successfully
[2025-12-24 00:30:24.714] [DEBUG] Creating room
[2025-12-24 00:30:24.715] [DEBUG] Sent packet (type: 512)
[2025-12-24 00:30:24.731] [DEBUG] Received packet (type: 512)
[2025-12-24 00:30:24.731] [INFO] Room created successfully, room ID: 0
[2025-12-24 00:30:24.733] [DEBUG] Switching widget to index: 1
[2025-12-24 00:30:24.737] [INFO] Switching to Game widget
[2025-12-24 00:30:24.738] [DEBUG] Widget switch completed
[2025-12-24 00:30:24.741] [DEBUG] Initializing GameWidget, islocal: 0
[2025-12-24 00:30:24.742] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:30:24.744] [INFO] GameWidget initialized successfully
[2025-12-24 00:30:24.746] [DEBUG] GameManager::setLocalGame called with isLocal: 0, enableAI: 0
[2025-12-24 00:30:24.746] [DEBUG] GameManager::setLocalGame: isLocal is false, resetting game state for online play
[2025-12-24 00:30:26.244] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 00:30:26.247] [INFO] Taking black pieces
[2025-12-24 00:30:26.247] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-24 00:30:27.384] [DEBUG] Start game button clicked
[2025-12-24 00:30:27.386] [INFO] Starting game
[2025-12-24 00:30:32.363] [DEBUG] AI toggled: enabled
[2025-12-24 00:30:32.363] [DEBUG] GameManager::onAIToggled called with enabled: 1
[2025-12-24 00:30:34.276] [DEBUG] Start game button clicked
[2025-12-24 00:30:34.278] [INFO] Starting game
[2025-12-24 00:30:37.131] [DEBUG] Player 2 avatar clicked (white seat)
[2025-12-24 00:30:37.135] [INFO] Taking white pieces
[2025-12-24 00:30:37.135] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:30:38.628] [DEBUG] Back to lobby button clicked
[2025-12-24 00:30:39.116] [DEBUG] Back to lobby button clicked
[2025-12-24 00:30:39.286] [DEBUG] Back to lobby button clicked
[2025-12-24 00:30:41.888] [DEBUG] Back to lobby button clicked
[2025-12-24 00:30:42.038] [DEBUG] Back to lobby button clicked
[2025-12-24 00:30:43.727] [INFO] MainWindow destructor called
[2025-12-24 00:30:43.728] [DEBUG] Cleaning up UI...
[2025-12-24 00:30:43.728] [DEBUG] Cleaning up Manager...
[2025-12-24 00:30:43.728] [INFO] Manager destructor called
[2025-12-24 00:30:43.728] [DEBUG] Disconnecting client...
[2025-12-24 00:30:43.729] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:30:43.729] [DEBUG] Current socket value before disconnect: 992
[2025-12-24 00:30:43.729] [DEBUG] Waiting for worker thread to finish...
[2025-12-24 00:30:43.779] [DEBUG] Worker thread joined successfully.
[2025-12-24 00:30:43.779] [DEBUG] Closing socket
[2025-12-24 00:30:43.780] [DEBUG] Socket closed and set to INVALID_SOCKET
[2025-12-24 00:30:43.780] [DEBUG] Resetting session context
[2025-12-24 00:30:43.780] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-24 00:30:43.781] [INFO] Disconnected from server callback triggered
[2025-12-24 00:30:43.784] [INFO] Client disconnected successfully.
[2025-12-24 00:30:43.784] [DEBUG] Client destructor called
[2025-12-24 00:30:43.785] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:30:43.785] [DEBUG] Current socket value before disconnect: -1
[2025-12-24 00:30:43.785] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:30:43.786] [DEBUG] Socket is already INVALID_SOCKET, skipping close
[2025-12-24 00:30:43.786] [DEBUG] Calling disconnectedCallback from Disconnect()
[2025-12-24 00:30:43.786] [INFO] Disconnected from server callback triggered
[2025-12-24 00:30:43.789] [INFO] Client disconnected successfully.
[2025-12-24 00:30:43.789] [DEBUG] Client cleanup completed
[2025-12-24 00:30:43.789] [DEBUG] Client disconnected and reset
[2025-12-24 00:30:43.789] [INFO] Manager cleanup completed
[2025-12-24 00:30:43.790] [DEBUG] Cleaning up ToastWidget...
[2025-12-24 00:30:43.798] [DEBUG] Shutting down Logger...
[2025-12-24 00:30:43.798] [INFO] Logger shutting down.
[2025-12-24 00:30:55.970] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:30:55.970] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:30:55.970] [DEBUG] Setting up UI...
[2025-12-24 00:30:55.992] [DEBUG] Creating Manager instance...
[2025-12-24 00:30:55.992] [INFO] Manager initialized for server
[2025-12-24 00:30:55.993] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:30:56.035] [DEBUG] Session activated callback set
[2025-12-24 00:30:56.035] [INFO] Attempting to connect to server...
[2025-12-24 00:30:56.035] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:30:56.043] [DEBUG] New socket created successfully, socket value: 1036
[2025-12-24 00:30:56.043] [INFO] Connected to server successfully!
[2025-12-24 00:30:56.044] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:30:56.044] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:30:56.044] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:30:56.046] [DEBUG] Worker thread started
[2025-12-24 00:30:56.046] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:30:56.047] [INFO] Connection established and handshake initiated
[2025-12-24 00:30:56.047] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:30:56.047] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:30:56.050] [INFO] Client loop started.
[2025-12-24 00:30:56.058] [DEBUG] Configuring room table properties...
[2025-12-24 00:30:56.058] [DEBUG] Room table properties configured
[2025-12-24 00:30:56.058] [DEBUG] Initializing room table...
[2025-12-24 00:30:56.061] [DEBUG] Initializing player list...
[2025-12-24 00:30:56.061] [DEBUG] Setting up signals...
[2025-12-24 00:30:56.061] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:30:56.061] [DEBUG] Creating GameWidget...
[2025-12-24 00:30:56.065] [DEBUG] [Handshake] Received NewSession. ID: 16977400157486311244
[2025-12-24 00:30:56.067] [DEBUG] Saved server public key
[2025-12-24 00:30:56.068] [DEBUG] GameWidget UI initialized
[2025-12-24 00:30:56.068] [DEBUG] GameWidget signal connections established
[2025-12-24 00:30:56.068] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:30:56.069] [DEBUG] Creating GameManager instance...
[2025-12-24 00:30:56.069] [DEBUG] Setting up signal connections...
[2025-12-24 00:30:56.069] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:30:56.070] [DEBUG] localGame connection result: 1
[2025-12-24 00:30:56.070] [DEBUG] Initializing window components...
[2025-12-24 00:30:56.070] [DEBUG] Initializing window style...
[2025-12-24 00:30:56.080] [INFO] [Handshake] Session Activated!
[2025-12-24 00:30:56.080] [DEBUG] Calling sessionActivatedCallback with sessionId: 16977400157486311244
[2025-12-24 00:30:56.081] [INFO] Session activated callback received, sessionId: 16977400157486311244
[2025-12-24 00:30:56.085] [DEBUG] Set main window background to white
[2025-12-24 00:30:56.086] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:30:56.096] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:30:56.096] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:30:56.097] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:30:56.097] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:30:56.097] [DEBUG] Set window palette to white background
[2025-12-24 00:30:56.097] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:30:56.097] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:30:56.098] [DEBUG] Initializing layout...
[2025-12-24 00:30:56.098] [DEBUG] centralwidget found at address: 1298410440272
[2025-12-24 00:30:56.098] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:30:56.098] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:30:56.098] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:30:56.099] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:30:56.099] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:30:56.099] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:30:56.099] [DEBUG] Layout initialized successfully
[2025-12-24 00:30:56.099] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:30:56.100] [DEBUG] Initializing title bar components...
[2025-12-24 00:30:56.100] [DEBUG] titleBarWidget found at address: 1298410446368
[2025-12-24 00:30:56.100] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:30:56.100] [DEBUG] titleLabel found at address: 1298410448432
[2025-12-24 00:30:56.101] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:30:56.101] [DEBUG] minimizeButton found at address: 1298410463824
[2025-12-24 00:30:56.102] [DEBUG] maximizeButton found at address: 1298410467520
[2025-12-24 00:30:56.102] [DEBUG] closeButton found at address: 1298410478112
[2025-12-24 00:30:56.102] [DEBUG] Title bar initialization completed
[2025-12-24 00:30:56.102] [DEBUG] Initializing status bar components...
[2025-12-24 00:30:56.103] [DEBUG] statusBarWidget found
[2025-12-24 00:30:56.103] [DEBUG] statusMessageLabel found
[2025-12-24 00:30:56.103] [DEBUG] networkStatusButton found
[2025-12-24 00:30:56.104] [DEBUG] userInfoButton found
[2025-12-24 00:30:56.104] [DEBUG] Status bar initialization completed
[2025-12-24 00:30:56.104] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:30:56.104] [DEBUG] stackedWidget found in UI
[2025-12-24 00:30:56.118] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:30:56.118] [DEBUG] Creating ToastWidget...
[2025-12-24 00:30:56.120] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:30:56.120] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:30:56.121] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:30:56.121] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:30:56.121] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:30:56.122] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:30:56.122] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:30:56.122] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:30:56.122] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:30:56.122] [INFO] MainWindow initialization completed successfully
[2025-12-24 00:31:00.725] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-24 00:31:00.725] [DEBUG] localGame signal received, initializing local game
[2025-12-24 00:31:00.726] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-24 00:31:00.728] [DEBUG] Player list updated, count: 2
[2025-12-24 00:31:00.728] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:31:00.729] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-24 00:31:00.730] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-24 00:31:00.733] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-24 00:31:00.733] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 00:31:00.737] [INFO] GameWidget initialized successfully
[2025-12-24 00:31:00.737] [DEBUG] Switching widget to index: 1
[2025-12-24 00:31:00.744] [INFO] Switching to Game widget
[2025-12-24 00:31:00.746] [DEBUG] Widget switch completed
[2025-12-24 00:31:03.596] [DEBUG] AI toggled: enabled
[2025-12-24 00:31:03.597] [DEBUG] GameManager::onAIToggled called with enabled: 1
[2025-12-24 00:31:03.597] [DEBUG] Chat message from 游戏: AI对手已启用，AI将执白棋
[2025-12-24 00:31:03.598] [DEBUG] Player list updated, count: 2
[2025-12-24 00:31:03.598] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=1
[2025-12-24 00:31:04.671] [DEBUG] Start game button clicked
[2025-12-24 00:31:05.415] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 00:31:05.418] [DEBUG] Chat message from 系统: 玩家 选择了黑棋
[2025-12-24 00:31:05.418] [DEBUG] Player list updated, count: 2
[2025-12-24 00:31:05.419] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:31:05.430] [INFO] Game started for player: 玩家, rating: 1500
[2025-12-24 00:31:05.431] [DEBUG] Chat message from 游戏: 游戏开始！玩家 执黑先行
[2025-12-24 00:31:05.431] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 00:31:07.122] [DEBUG] Start game button clicked
[2025-12-24 00:31:08.031] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-24 00:31:08.033] [DEBUG] Chat message from 游戏: 玩家 在 (11, 3) 落黑子
[2025-12-24 00:31:08.038] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-24 00:31:49.200] [DEBUG] Chat message from 游戏: AI玩家 在 (0, 0) 落白子
[2025-12-24 00:31:49.207] [DEBUG] Chat message from 游戏: 轮到 玩家 落子
[2025-12-24 00:36:13.630] [DEBUG] GameManager::onMakeMove called, x: 9, y: 7, isLocalGame: 1
[2025-12-24 00:36:13.632] [DEBUG] Chat message from 游戏: 玩家 在 (9, 7) 落黑子
[2025-12-24 00:36:13.641] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-24 00:41:17.932] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 00:41:17.933] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 00:41:17.933] [DEBUG] Setting up UI...
[2025-12-24 00:41:17.958] [DEBUG] Creating Manager instance...
[2025-12-24 00:41:17.959] [INFO] Manager initialized for server
[2025-12-24 00:41:17.959] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 00:41:18.003] [DEBUG] Session activated callback set
[2025-12-24 00:41:18.004] [INFO] Attempting to connect to server...
[2025-12-24 00:41:18.004] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 00:41:18.014] [DEBUG] New socket created successfully, socket value: 1008
[2025-12-24 00:41:18.015] [INFO] Connected to server successfully!
[2025-12-24 00:41:18.015] [DEBUG] Socket set to non-blocking mode
[2025-12-24 00:41:18.016] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 00:41:18.016] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 00:41:18.017] [DEBUG] Worker thread started
[2025-12-24 00:41:18.017] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 00:41:18.018] [INFO] Connection established and handshake initiated
[2025-12-24 00:41:18.018] [DEBUG] Creating LobbyWidget...
[2025-12-24 00:41:18.018] [DEBUG] LobbyWidget Initializing...
[2025-12-24 00:41:18.022] [INFO] Client loop started.
[2025-12-24 00:41:18.030] [DEBUG] Configuring room table properties...
[2025-12-24 00:41:18.031] [DEBUG] Room table properties configured
[2025-12-24 00:41:18.031] [DEBUG] Initializing room table...
[2025-12-24 00:41:18.034] [DEBUG] Initializing player list...
[2025-12-24 00:41:18.034] [DEBUG] Setting up signals...
[2025-12-24 00:41:18.035] [INFO] LobbyWidget initialized successfully
[2025-12-24 00:41:18.035] [DEBUG] Creating GameWidget...
[2025-12-24 00:41:18.042] [DEBUG] [Handshake] Received NewSession. ID: 12559676419598395168
[2025-12-24 00:41:18.043] [DEBUG] GameWidget UI initialized
[2025-12-24 00:41:18.044] [DEBUG] GameWidget signal connections established
[2025-12-24 00:41:18.044] [DEBUG] GameWidget constructed successfully
[2025-12-24 00:41:18.044] [DEBUG] Creating GameManager instance...
[2025-12-24 00:41:18.045] [DEBUG] Saved server public key
[2025-12-24 00:41:18.045] [DEBUG] Setting up signal connections...
[2025-12-24 00:41:18.045] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 00:41:18.046] [DEBUG] localGame connection result: 1
[2025-12-24 00:41:18.046] [DEBUG] Initializing window components...
[2025-12-24 00:41:18.047] [DEBUG] Initializing window style...
[2025-12-24 00:41:18.057] [INFO] [Handshake] Session Activated!
[2025-12-24 00:41:18.058] [DEBUG] Calling sessionActivatedCallback with sessionId: 12559676419598395168
[2025-12-24 00:41:18.058] [INFO] Session activated callback received, sessionId: 12559676419598395168
[2025-12-24 00:41:18.064] [DEBUG] Set main window background to white
[2025-12-24 00:41:18.065] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 00:41:18.078] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 00:41:18.078] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 00:41:18.079] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 00:41:18.079] [DEBUG] Window size set to: 1000x700
[2025-12-24 00:41:18.079] [DEBUG] Set window palette to white background
[2025-12-24 00:41:18.080] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 00:41:18.080] [DEBUG] Window background role color: #ffffff
[2025-12-24 00:41:18.080] [DEBUG] Initializing layout...
[2025-12-24 00:41:18.081] [DEBUG] centralwidget found at address: 2756178740816
[2025-12-24 00:41:18.081] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 00:41:18.081] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 00:41:18.082] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 00:41:18.082] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 00:41:18.082] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 00:41:18.083] [DEBUG] Set centralwidget palette to white background
[2025-12-24 00:41:18.083] [DEBUG] Layout initialized successfully
[2025-12-24 00:41:18.083] [DEBUG] Initializing title bar and status bar...
[2025-12-24 00:41:18.083] [DEBUG] Initializing title bar components...
[2025-12-24 00:41:18.084] [DEBUG] titleBarWidget found at address: 2756178746912
[2025-12-24 00:41:18.084] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 00:41:18.084] [DEBUG] titleLabel found at address: 2756178748976
[2025-12-24 00:41:18.085] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 00:41:18.085] [DEBUG] minimizeButton found at address: 2756178764368
[2025-12-24 00:41:18.085] [DEBUG] maximizeButton found at address: 2756178768064
[2025-12-24 00:41:18.086] [DEBUG] closeButton found at address: 2756178778656
[2025-12-24 00:41:18.086] [DEBUG] Title bar initialization completed
[2025-12-24 00:41:18.086] [DEBUG] Initializing status bar components...
[2025-12-24 00:41:18.087] [DEBUG] statusBarWidget found
[2025-12-24 00:41:18.087] [DEBUG] statusMessageLabel found
[2025-12-24 00:41:18.088] [DEBUG] networkStatusButton found
[2025-12-24 00:41:18.088] [DEBUG] userInfoButton found
[2025-12-24 00:41:18.088] [DEBUG] Status bar initialization completed
[2025-12-24 00:41:18.089] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 00:41:18.089] [DEBUG] stackedWidget found in UI
[2025-12-24 00:41:18.108] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 00:41:18.108] [DEBUG] Creating ToastWidget...
[2025-12-24 00:41:18.110] [DEBUG] ====== Validating Window Background ======
[2025-12-24 00:41:18.110] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 00:41:18.110] [INFO] CentralWidget background is correctly set to white
[2025-12-24 00:41:18.111] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 00:41:18.111] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 00:41:18.112] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 00:41:18.112] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 00:41:18.112] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 00:41:18.112] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 00:41:18.113] [INFO] MainWindow initialization completed successfully
[2025-12-24 01:00:38.873] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 01:00:38.874] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 01:00:38.874] [DEBUG] Setting up UI...
[2025-12-24 01:00:38.898] [DEBUG] Creating Manager instance...
[2025-12-24 01:00:38.899] [INFO] Manager initialized for server
[2025-12-24 01:00:38.899] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 01:00:38.944] [DEBUG] Session activated callback set
[2025-12-24 01:00:38.944] [INFO] Attempting to connect to server...
[2025-12-24 01:00:38.944] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 01:00:38.952] [DEBUG] New socket created successfully, socket value: 964
[2025-12-24 01:00:38.953] [INFO] Connected to server successfully!
[2025-12-24 01:00:38.953] [DEBUG] Socket set to non-blocking mode
[2025-12-24 01:00:38.953] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 01:00:38.953] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 01:00:38.955] [DEBUG] Worker thread started
[2025-12-24 01:00:38.956] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 01:00:38.956] [INFO] Connection established and handshake initiated
[2025-12-24 01:00:38.956] [DEBUG] Creating LobbyWidget...
[2025-12-24 01:00:38.957] [DEBUG] LobbyWidget Initializing...
[2025-12-24 01:00:38.959] [INFO] Client loop started.
[2025-12-24 01:00:38.965] [DEBUG] Configuring room table properties...
[2025-12-24 01:00:38.965] [DEBUG] Room table properties configured
[2025-12-24 01:00:38.966] [DEBUG] Initializing room table...
[2025-12-24 01:00:38.967] [DEBUG] Initializing player list...
[2025-12-24 01:00:38.968] [DEBUG] Setting up signals...
[2025-12-24 01:00:38.968] [INFO] LobbyWidget initialized successfully
[2025-12-24 01:00:38.968] [DEBUG] Creating GameWidget...
[2025-12-24 01:00:38.973] [DEBUG] GameWidget UI initialized
[2025-12-24 01:00:38.974] [DEBUG] GameWidget signal connections established
[2025-12-24 01:00:38.974] [DEBUG] GameWidget constructed successfully
[2025-12-24 01:00:38.974] [DEBUG] Creating GameManager instance...
[2025-12-24 01:00:38.974] [DEBUG] Setting up signal connections...
[2025-12-24 01:00:38.975] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 01:00:38.975] [DEBUG] localGame connection result: 1
[2025-12-24 01:00:38.975] [DEBUG] Initializing window components...
[2025-12-24 01:00:38.976] [DEBUG] Initializing window style...
[2025-12-24 01:00:38.982] [DEBUG] [Handshake] Received NewSession. ID: 17445651362418297976
[2025-12-24 01:00:38.984] [DEBUG] Saved server public key
[2025-12-24 01:00:38.989] [DEBUG] Set main window background to white
[2025-12-24 01:00:38.989] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 01:00:38.998] [INFO] [Handshake] Session Activated!
[2025-12-24 01:00:38.998] [DEBUG] Calling sessionActivatedCallback with sessionId: 17445651362418297976
[2025-12-24 01:00:38.999] [INFO] Session activated callback received, sessionId: 17445651362418297976
[2025-12-24 01:00:38.999] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 01:00:39.000] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 01:00:39.000] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 01:00:39.000] [DEBUG] Window size set to: 1000x700
[2025-12-24 01:00:39.000] [DEBUG] Set window palette to white background
[2025-12-24 01:00:39.000] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 01:00:39.001] [DEBUG] Window background role color: #ffffff
[2025-12-24 01:00:39.001] [DEBUG] Initializing layout...
[2025-12-24 01:00:39.001] [DEBUG] centralwidget found at address: 1650726143568
[2025-12-24 01:00:39.001] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 01:00:39.001] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 01:00:39.001] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 01:00:39.002] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 01:00:39.002] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 01:00:39.002] [DEBUG] Set centralwidget palette to white background
[2025-12-24 01:00:39.002] [DEBUG] Layout initialized successfully
[2025-12-24 01:00:39.002] [DEBUG] Initializing title bar and status bar...
[2025-12-24 01:00:39.003] [DEBUG] Initializing title bar components...
[2025-12-24 01:00:39.003] [DEBUG] titleBarWidget found at address: 1650726149664
[2025-12-24 01:00:39.003] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 01:00:39.003] [DEBUG] titleLabel found at address: 1650726151728
[2025-12-24 01:00:39.003] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 01:00:39.004] [DEBUG] minimizeButton found at address: 1650726167120
[2025-12-24 01:00:39.004] [DEBUG] maximizeButton found at address: 1650726170816
[2025-12-24 01:00:39.004] [DEBUG] closeButton found at address: 1650726181408
[2025-12-24 01:00:39.004] [DEBUG] Title bar initialization completed
[2025-12-24 01:00:39.005] [DEBUG] Initializing status bar components...
[2025-12-24 01:00:39.005] [DEBUG] statusBarWidget found
[2025-12-24 01:00:39.005] [DEBUG] statusMessageLabel found
[2025-12-24 01:00:39.006] [DEBUG] networkStatusButton found
[2025-12-24 01:00:39.006] [DEBUG] userInfoButton found
[2025-12-24 01:00:39.006] [DEBUG] Status bar initialization completed
[2025-12-24 01:00:39.006] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 01:00:39.007] [DEBUG] stackedWidget found in UI
[2025-12-24 01:00:39.021] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 01:00:39.021] [DEBUG] Creating ToastWidget...
[2025-12-24 01:00:39.023] [DEBUG] ====== Validating Window Background ======
[2025-12-24 01:00:39.023] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 01:00:39.023] [INFO] CentralWidget background is correctly set to white
[2025-12-24 01:00:39.024] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 01:00:39.024] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 01:00:39.024] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 01:00:39.025] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 01:00:39.025] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 01:00:39.025] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 01:00:39.025] [INFO] MainWindow initialization completed successfully
[2025-12-24 01:00:45.933] [DEBUG] User info button clicked, showing login dialog
[2025-12-24 01:00:46.994] [DEBUG] User chose to login with account
[2025-12-24 01:00:50.742] [INFO] Login attempt for user: admin
[2025-12-24 01:00:50.742] [DEBUG] Login packet created with session ID: 17445651362418297976
[2025-12-24 01:00:50.743] [DEBUG] Sending login packet...
[2025-12-24 01:00:50.743] [DEBUG] Sent packet (type: 256)
[2025-12-24 01:00:50.743] [INFO] Login request sent for user: admin
[2025-12-24 01:00:50.750] [DEBUG] Received packet (type: 256)
[2025-12-24 01:00:53.318] [DEBUG] Local game button clicked, emitting localGame signal
[2025-12-24 01:00:53.318] [DEBUG] localGame signal received, initializing local game
[2025-12-24 01:00:53.319] [DEBUG] GameManager::setLocalGame called with isLocal: 1, enableAI: 0
[2025-12-24 01:00:53.321] [DEBUG] Player list updated, count: 2
[2025-12-24 01:00:53.321] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-24 01:00:53.321] [DEBUG] Chat message from 游戏: 本地游戏已就绪，请在设置中启用AI对手，或点击玩家头像选择对手
[2025-12-24 01:00:53.322] [DEBUG] Chat message from 游戏: 本地游戏已就绪
[2025-12-24 01:00:53.325] [DEBUG] Initializing GameWidget, islocal: 1
[2025-12-24 01:00:53.326] [DEBUG] Updating player seat status: blackTaken=0, whiteTaken=0
[2025-12-24 01:00:53.327] [INFO] GameWidget initialized successfully
[2025-12-24 01:00:53.327] [DEBUG] Switching widget to index: 1
[2025-12-24 01:00:53.329] [INFO] Switching to Game widget
[2025-12-24 01:00:53.330] [DEBUG] Widget switch completed
[2025-12-24 01:00:55.743] [DEBUG] Player 1 avatar clicked (black seat)
[2025-12-24 01:00:55.745] [DEBUG] Chat message from 系统: admin 选择了黑棋
[2025-12-24 01:00:55.745] [DEBUG] Player list updated, count: 2
[2025-12-24 01:00:55.746] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-24 01:00:55.749] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=0
[2025-12-24 01:01:02.041] [DEBUG] AI toggled: enabled
[2025-12-24 01:01:02.041] [DEBUG] GameManager::onAIToggled called with enabled: 1
[2025-12-24 01:01:02.041] [DEBUG] Chat message from 游戏: AI对手已启用，AI将执白棋
[2025-12-24 01:01:02.042] [DEBUG] Player list updated, count: 2
[2025-12-24 01:01:02.042] [DEBUG] Updating player seat status: blackTaken=1, whiteTaken=1
[2025-12-24 01:01:04.515] [DEBUG] Start game button clicked
[2025-12-24 01:01:04.519] [INFO] Game started for player: admin, rating: 1500
[2025-12-24 01:01:04.520] [DEBUG] Chat message from 游戏: 游戏开始！admin 执黑先行
[2025-12-24 01:01:05.925] [DEBUG] GameManager::onMakeMove called, x: 11, y: 3, isLocalGame: 1
[2025-12-24 01:01:05.927] [DEBUG] Chat message from 游戏: admin 在 (11, 3) 落黑子
[2025-12-24 01:01:05.932] [DEBUG] Chat message from 游戏: 轮到 AI玩家 落子
[2025-12-24 01:06:33.381] [INFO] Logger initialized. Log file: logs/gomoku.log
[2025-12-24 01:06:33.381] [DEBUG] Logger initialized with DEBUG level
[2025-12-24 01:06:33.381] [DEBUG] Setting up UI...
[2025-12-24 01:06:33.402] [DEBUG] Creating Manager instance...
[2025-12-24 01:06:33.403] [INFO] Manager initialized for server
[2025-12-24 01:06:33.403] [DEBUG] Client constructor called for 127.0.0.1:8080
[2025-12-24 01:06:33.443] [DEBUG] Session activated callback set
[2025-12-24 01:06:33.444] [INFO] Attempting to connect to server...
[2025-12-24 01:06:33.444] [DEBUG] Connecting to 127.0.0.1:8080...
[2025-12-24 01:06:33.452] [DEBUG] New socket created successfully, socket value: 268
[2025-12-24 01:06:33.452] [INFO] Connected to server successfully!
[2025-12-24 01:06:33.453] [DEBUG] Socket set to non-blocking mode
[2025-12-24 01:06:33.453] [DEBUG] Disconnect called, setting is_running to false
[2025-12-24 01:06:33.453] [DEBUG] Worker thread is not joinable or already finished
[2025-12-24 01:06:33.454] [DEBUG] Worker thread started
[2025-12-24 01:06:33.454] [DEBUG] Sending Hello frame to initiate handshake
[2025-12-24 01:06:33.454] [INFO] Connection established and handshake initiated
[2025-12-24 01:06:33.454] [DEBUG] Creating LobbyWidget...
[2025-12-24 01:06:33.455] [DEBUG] LobbyWidget Initializing...
[2025-12-24 01:06:33.457] [INFO] Client loop started.
[2025-12-24 01:06:33.463] [DEBUG] Configuring room table properties...
[2025-12-24 01:06:33.464] [DEBUG] Room table properties configured
[2025-12-24 01:06:33.464] [DEBUG] Initializing room table...
[2025-12-24 01:06:33.466] [DEBUG] Initializing player list...
[2025-12-24 01:06:33.466] [DEBUG] Setting up signals...
[2025-12-24 01:06:33.467] [INFO] LobbyWidget initialized successfully
[2025-12-24 01:06:33.467] [DEBUG] Creating GameWidget...
[2025-12-24 01:06:33.472] [DEBUG] GameWidget UI initialized
[2025-12-24 01:06:33.472] [DEBUG] GameWidget signal connections established
[2025-12-24 01:06:33.473] [DEBUG] GameWidget constructed successfully
[2025-12-24 01:06:33.473] [DEBUG] Creating GameManager instance...
[2025-12-24 01:06:33.473] [DEBUG] Setting up signal connections...
[2025-12-24 01:06:33.473] [DEBUG] Connecting LobbyWidget::localGame to GameManager::setLocalGame...
[2025-12-24 01:06:33.474] [DEBUG] localGame connection result: 1
[2025-12-24 01:06:33.474] [DEBUG] Initializing window components...
[2025-12-24 01:06:33.474] [DEBUG] Initializing window style...
[2025-12-24 01:06:33.485] [DEBUG] [Handshake] Received NewSession. ID: 2108395650599768449
[2025-12-24 01:06:33.489] [DEBUG] Saved server public key
[2025-12-24 01:06:33.492] [DEBUG] Set main window background to white
[2025-12-24 01:06:33.492] [DEBUG] Setting window flags: FramelessWindowHint | WindowSystemMenuHint | WindowMinimizeButtonHint
[2025-12-24 01:06:33.497] [INFO] [Handshake] Session Activated!
[2025-12-24 01:06:33.498] [DEBUG] Calling sessionActivatedCallback with sessionId: 2108395650599768449
[2025-12-24 01:06:33.498] [INFO] Session activated callback received, sessionId: 2108395650599768449
[2025-12-24 01:06:33.498] [DEBUG] Sent packet (type: 1281)
[2025-12-24 01:06:33.499] [DEBUG] Sent packet (type: 1282)
[2025-12-24 01:06:33.504] [DEBUG] WA_TranslucentBackground is commented out (not set)
[2025-12-24 01:06:33.504] [DEBUG] WA_OpaquePaintEvent attribute set
[2025-12-24 01:06:33.504] [DEBUG] Added Qt::Window flag for taskbar interaction
[2025-12-24 01:06:33.504] [DEBUG] Window size set to: 1000x700
[2025-12-24 01:06:33.505] [DEBUG] Set window palette to white background
[2025-12-24 01:06:33.505] [DEBUG] Current stylesheet: QMainWindow {    background-color: white;    border: none;}
[2025-12-24 01:06:33.505] [DEBUG] Window background role color: #ffffff
[2025-12-24 01:06:33.506] [DEBUG] Initializing layout...
[2025-12-24 01:06:33.506] [DEBUG] centralwidget found at address: 2110014228048
[2025-12-24 01:06:33.506] [DEBUG] centralwidget object name: centralwidget
[2025-12-24 01:06:33.506] [DEBUG] centralwidget geometry: 100x30
[2025-12-24 01:06:33.507] [DEBUG] centralwidget object name set to: centralContainer
[2025-12-24 01:06:33.507] [DEBUG] centralwidget WA_StyledBackground attribute set
[2025-12-24 01:06:33.507] [DEBUG] centralwidget palette background color: #f3f3f3
[2025-12-24 01:06:33.507] [DEBUG] Set centralwidget palette to white background
[2025-12-24 01:06:33.507] [DEBUG] Layout initialized successfully
[2025-12-24 01:06:33.508] [DEBUG] Initializing title bar and status bar...
[2025-12-24 01:06:33.508] [DEBUG] Initializing title bar components...
[2025-12-24 01:06:33.508] [DEBUG] titleBarWidget found at address: 2110014234144
[2025-12-24 01:06:33.509] [DEBUG] titleBarWidget object name: titleBarWidget
[2025-12-24 01:06:33.509] [DEBUG] titleLabel found at address: 2110014236208
[2025-12-24 01:06:33.509] [DEBUG] titleLabel text: 五子棋大厅
[2025-12-24 01:06:33.510] [DEBUG] minimizeButton found at address: 2110014251600
[2025-12-24 01:06:33.510] [DEBUG] maximizeButton found at address: 2110014255296
[2025-12-24 01:06:33.510] [DEBUG] closeButton found at address: 2110014265888
[2025-12-24 01:06:33.510] [DEBUG] Title bar initialization completed
[2025-12-24 01:06:33.511] [DEBUG] Initializing status bar components...
[2025-12-24 01:06:33.511] [DEBUG] statusBarWidget found
[2025-12-24 01:06:33.511] [DEBUG] statusMessageLabel found
[2025-12-24 01:06:33.512] [DEBUG] networkStatusButton found
[2025-12-24 01:06:33.512] [DEBUG] userInfoButton found
[2025-12-24 01:06:33.512] [DEBUG] Status bar initialization completed
[2025-12-24 01:06:33.512] [DEBUG] Getting stackedWidget from UI...
[2025-12-24 01:06:33.513] [DEBUG] stackedWidget found in UI
[2025-12-24 01:06:33.513] [DEBUG] Received packet (type: 1281)
[2025-12-24 01:07:07.615] [DEBUG] Received packet (type: 1282)
[2025-12-24 01:07:08.727] [DEBUG] StackedWidget initialized with Lobby as default
[2025-12-24 01:07:08.727] [DEBUG] Creating ToastWidget...
[2025-12-24 01:07:08.730] [DEBUG] ====== Validating Window Background ======
[2025-12-24 01:07:08.730] [DEBUG] CentralWidget palette background color: #ffffff
[2025-12-24 01:07:08.730] [INFO] CentralWidget background is correctly set to white
[2025-12-24 01:07:08.730] [DEBUG] Current window stylesheet length: 59 characters
[2025-12-24 01:07:08.731] [DEBUG] Stylesheet contains background-color definition
[2025-12-24 01:07:08.731] [DEBUG] Window has WA_StyledBackground: 1
[2025-12-24 01:07:08.731] [DEBUG] Window has WA_OpaquePaintEvent: 1
[2025-12-24 01:07:08.732] [DEBUG] Window has WA_TranslucentBackground: 0
[2025-12-24 01:07:08.732] [DEBUG] ====== Background Validation Complete ======
[2025-12-24 01:07:08.732] [INFO] MainWindow initialization completed successfully
